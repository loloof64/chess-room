!function(){var e=["eventFilter"],t=["eventFilter"];function n(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},a=Object.keys(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function r(){return r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get.bind():function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(arguments.length<3?e:n):i.value}},r.apply(this,arguments)}function i(e){var t="function"==typeof Map?new Map:void 0;return i=function(e){if(null===e||!function(e){try{return-1!==Function.toString.call(e).indexOf("[native code]")}catch(t){return"function"==typeof e}}(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}function n(){return a(e,arguments,d(this).constructor)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),p(n,e)},i(e)}function a(e,t,n){if(h())return Reflect.construct.apply(null,arguments);var r=[null];r.push.apply(r,t);var i=new(e.bind.apply(e,r));return n&&p(i,n.prototype),i}function o(){"use strict";/*! regenerator-runtime -- Copyright (c) 2014-present, Facebook, Inc. -- license (MIT): https://github.com/facebook/regenerator/blob/main/LICENSE */o=function(){return t};var e,t={},n=Object.prototype,r=n.hasOwnProperty,i=Object.defineProperty||function(e,t,n){e[t]=n.value},a="function"==typeof Symbol?Symbol:{},s=a.iterator||"@@iterator",u=a.asyncIterator||"@@asyncIterator",l=a.toStringTag||"@@toStringTag";function c(e,t,n){return Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}),e[t]}try{c({},"")}catch(e){c=function(e,t,n){return e[t]=n}}function f(e,t,n,r){var a=t&&t.prototype instanceof y?t:y,o=Object.create(a.prototype),s=new M(r||[]);return i(o,"_invoke",{value:I(e,n,s)}),o}function h(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}t.wrap=f;var d="suspendedStart",v="suspendedYield",p="executing",m="completed",g={};function y(){}function k(){}function b(){}var w={};c(w,s,(function(){return this}));var _=Object.getPrototypeOf,x=_&&_(_(O([])));x&&x!==n&&r.call(x,s)&&(w=x);var E=b.prototype=y.prototype=Object.create(w);function S(e){["next","throw","return"].forEach((function(t){c(e,t,(function(e){return this._invoke(t,e)}))}))}function L(e,t){function n(i,a,o,s){var u=h(e[i],e,a);if("throw"!==u.type){var l=u.arg,c=l.value;return c&&"object"==C(c)&&r.call(c,"__await")?t.resolve(c.__await).then((function(e){n("next",e,o,s)}),(function(e){n("throw",e,o,s)})):t.resolve(c).then((function(e){l.value=e,o(l)}),(function(e){return n("throw",e,o,s)}))}s(u.arg)}var a;i(this,"_invoke",{value:function(e,r){function i(){return new t((function(t,i){n(e,r,t,i)}))}return a=a?a.then(i,i):i()}})}function I(t,n,r){var i=d;return function(a,o){if(i===p)throw Error("Generator is already running");if(i===m){if("throw"===a)throw o;return{value:e,done:!0}}for(r.method=a,r.arg=o;;){var s=r.delegate;if(s){var u=T(s,r);if(u){if(u===g)continue;return u}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if(i===d)throw i=m,r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);i=p;var l=h(t,n,r);if("normal"===l.type){if(i=r.done?m:v,l.arg===g)continue;return{value:l.arg,done:r.done}}"throw"===l.type&&(i=m,r.method="throw",r.arg=l.arg)}}}function T(t,n){var r=n.method,i=t.iterator[r];if(i===e)return n.delegate=null,"throw"===r&&t.iterator.return&&(n.method="return",n.arg=e,T(t,n),"throw"===n.method)||"return"!==r&&(n.method="throw",n.arg=new TypeError("The iterator does not provide a '"+r+"' method")),g;var a=h(i,t.iterator,n.arg);if("throw"===a.type)return n.method="throw",n.arg=a.arg,n.delegate=null,g;var o=a.arg;return o?o.done?(n[t.resultName]=o.value,n.next=t.nextLoc,"return"!==n.method&&(n.method="next",n.arg=e),n.delegate=null,g):o:(n.method="throw",n.arg=new TypeError("iterator result is not an object"),n.delegate=null,g)}function A(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function N(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function M(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(A,this),this.reset(!0)}function O(t){if(t||""===t){var n=t[s];if(n)return n.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,a=function n(){for(;++i<t.length;)if(r.call(t,i))return n.value=t[i],n.done=!1,n;return n.value=e,n.done=!0,n};return a.next=a}}throw new TypeError(C(t)+" is not iterable")}return k.prototype=b,i(E,"constructor",{value:b,configurable:!0}),i(b,"constructor",{value:k,configurable:!0}),k.displayName=c(b,l,"GeneratorFunction"),t.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===k||"GeneratorFunction"===(t.displayName||t.name))},t.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,b):(e.__proto__=b,c(e,l,"GeneratorFunction")),e.prototype=Object.create(E),e},t.awrap=function(e){return{__await:e}},S(L.prototype),c(L.prototype,u,(function(){return this})),t.AsyncIterator=L,t.async=function(e,n,r,i,a){void 0===a&&(a=Promise);var o=new L(f(e,n,r,i),a);return t.isGeneratorFunction(n)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},S(E),c(E,l,"Generator"),c(E,s,(function(){return this})),c(E,"toString",(function(){return"[object Generator]"})),t.keys=function(e){var t=Object(e),n=[];for(var r in t)n.push(r);return n.reverse(),function e(){for(;n.length;){var r=n.pop();if(r in t)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=O,M.prototype={constructor:M,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=e,this.done=!1,this.delegate=null,this.method="next",this.arg=e,this.tryEntries.forEach(N),!t)for(var n in this)"t"===n.charAt(0)&&r.call(this,n)&&!isNaN(+n.slice(1))&&(this[n]=e)},stop:function(){this.done=!0;var e=this.tryEntries[0].completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var n=this;function i(r,i){return s.type="throw",s.arg=t,n.next=r,i&&(n.method="next",n.arg=e),!!i}for(var a=this.tryEntries.length-1;a>=0;--a){var o=this.tryEntries[a],s=o.completion;if("root"===o.tryLoc)return i("end");if(o.tryLoc<=this.prev){var u=r.call(o,"catchLoc"),l=r.call(o,"finallyLoc");if(u&&l){if(this.prev<o.catchLoc)return i(o.catchLoc,!0);if(this.prev<o.finallyLoc)return i(o.finallyLoc)}else if(u){if(this.prev<o.catchLoc)return i(o.catchLoc,!0)}else{if(!l)throw Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return i(o.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var i=this.tryEntries[n];if(i.tryLoc<=this.prev&&r.call(i,"finallyLoc")&&this.prev<i.finallyLoc){var a=i;break}}a&&("break"===e||"continue"===e)&&a.tryLoc<=t&&t<=a.finallyLoc&&(a=null);var o=a?a.completion:{};return o.type=e,o.arg=t,a?(this.method="next",this.next=a.finallyLoc,g):this.complete(o)},complete:function(e,t){if("throw"===e.type)throw e.arg;return"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=this.arg=e.arg,this.method="return",this.next="end"):"normal"===e.type&&t&&(this.next=t),g},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),N(n),g}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;N(n)}return i}}throw Error("illegal catch attempt")},delegateYield:function(t,n,r){return this.delegate={iterator:O(t),resultName:n,nextLoc:r},"next"===this.method&&(this.arg=e),g}},t}function s(e,t,n,r,i,a,o){try{var s=e[a](o),u=s.value}catch(l){return void n(l)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var a=e.apply(t,n);function o(e){s(a,r,i,o,u,"next",e)}function u(e){s(a,r,i,o,u,"throw",e)}o(void 0)}))}}function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){k(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n){return t=d(t),function(e,t){if(t&&("object"===C(t)||"function"==typeof t))return t;if(void 0!==t)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e)}(e,h()?Reflect.construct(t,n||[],d(e).constructor):t.apply(e,n))}function h(){try{var e=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){})))}catch(e){}return(h=function(){return!!e})()}function d(e){return d=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(e){return e.__proto__||Object.getPrototypeOf(e)},d(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),Object.defineProperty(e,"prototype",{writable:!1}),t&&p(e,t)}function p(e,t){return p=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},p(e,t)}function m(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function g(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,b(r.key),r)}}function y(e,t,n){return t&&g(e.prototype,t),n&&g(e,n),Object.defineProperty(e,"prototype",{writable:!1}),e}function k(e,t,n){return(t=b(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function b(e){var t=function(e,t){if("object"!=C(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=C(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==C(t)?t:t+""}function w(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=null==e?null:"undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(null!=n){var r,i,a,o,s=[],u=!0,l=!1;try{if(a=(n=n.call(e)).next,0===t){if(Object(n)!==n)return;u=!1}else for(;!(u=(r=a.call(n)).done)&&(s.push(r.value),s.length!==t);u=!0);}catch(e){l=!0,i=e}finally{try{if(!u&&null!=n.return&&(o=n.return(),Object(o)!==o))return}finally{if(l)throw i}}return s}}(e,t)||E(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e){return function(e){if(Array.isArray(e))return S(e)}(e)||function(e){if("undefined"!=typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||E(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function C(e){return C="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},C(e)}function x(e,t){var n="undefined"!=typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!n){if(Array.isArray(e)||(n=E(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var r=0,i=function(){};return{s:i,n:function(){return r>=e.length?{done:!0}:{done:!1,value:e[r++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var a,o=!0,s=!1;return{s:function(){n=n.call(e)},n:function(){var e=n.next();return o=e.done,e},e:function(e){s=!0,a=e},f:function(){try{o||null==n.return||n.return()}finally{if(s)throw a}}}}function E(e,t){if(e){if("string"==typeof e)return S(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(e):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?S(e,t):void 0}}function S(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}System.register([],(function(s,l){"use strict";return{execute:function(){var s,h,p,g=document.createElement("style");
/**
            * @vue/shared v3.4.21
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/
function b(e,t){var n=new Set(e.split(","));return t?function(e){return n.has(e.toLowerCase())}:function(e){return n.has(e)}}g.textContent=':root{font-family:Inter,system-ui,Avenir,Helvetica,Arial,sans-serif;line-height:1.5;font-weight:400;color-scheme:light dark;color:rgba(255,255,255,.87);background-color:#242424;font-synthesis:none;text-rendering:optimizeLegibility;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}a{font-weight:500;color:#646cff;text-decoration:inherit}a:hover{color:#535bf2}html,body{width:99%;height:99%}h1{font-size:3.2em;line-height:1.1}button{border-radius:8px;border:1px solid transparent;padding:.6em 1.2em;font-size:1em;font-weight:500;font-family:inherit;background-color:#1a1a1a;cursor:pointer;transition:border-color .25s}button:hover{border-color:#646cff}button:focus,button:focus-visible{outline:4px auto -webkit-focus-ring-color}.card{padding:2em}#app{width:100%;height:100%}@media (prefers-color-scheme: light){:root{color:#213547;background-color:#fff}a:hover{color:#747bff}button{background-color:#f9f9f9}}#root[data-v-a6ae8f26]{width:100%;height:100%;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}button[data-v-a6ae8f26]{border:1px solid blue;border-radius:10px}.copyButton[data-v-a6ae8f26]{margin:0 5px}#root[data-v-a9e5fa03]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:85%;height:85%}section[data-v-a9e5fa03]{padding:20px;border:1px solid navy;border-radius:20px;display:flex;flex-direction:column;justify-content:space-around;align-items:center}button[data-v-a9e5fa03]{border:1px solid black;margin:5px}#buttons[data-v-a9e5fa03]{display:flex;flex-direction:row;justify-content:end;align-items:center}button.ok[data-v-a9e5fa03]{color:#fff;background-color:green}button.cancel[data-v-a9e5fa03]{color:#fff;background-color:red}#root[data-v-ad4314f9]{display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;width:85%;height:85%}section[data-v-ad4314f9]{padding:20px;border:1px solid navy;border-radius:20px;display:flex;flex-direction:column;justify-content:space-around;align-items:center}button[data-v-ad4314f9]{border:1px solid black;margin:5px}#buttons[data-v-ad4314f9]{display:flex;flex-direction:row;justify-content:end;align-items:center}button.ok[data-v-ad4314f9]{color:#fff;background-color:green}button.cancel[data-v-ad4314f9]{color:#fff;background-color:red}button[data-v-ad4314f9]:has(>img){margin:0 20px}@font-face{font-family:"Free Serif";src:url('+new URL("FreeSerif-26qiZnhg.ttf",l.meta.url).href+')}.root[data-v-aa512618]{width:100%;height:var(--a700bbee);display:block}.toolbar[data-v-aa512618]{background-color:olive;width:100%;display:flex;flex-direction:row;justify-content:space-around;align-items:center}.toolbar__button[data-v-aa512618]{font-size:xx-small}.main-content[data-v-aa512618]{width:100%;height:5rem;display:flex;flex-direction:row;justify-content:flex-start;align-content:flex-start;box-sizing:border-box;background-color:#008b8b;font-family:"Free Serif";font-size:x-large;padding:.5rem;text-align:start;overflow-x:scroll;overflow-y:hidden}.main-content>button[data-v-aa512618]{background-color:#008b8b;padding:0;text-wrap:nowrap}.selected[data-v-aa512618]{background-color:#9acd32;color:#00f}._root[data-v-e4d28e91]{display:grid;grid-template-columns:auto auto auto;grid-template-rows:auto auto auto}._centralZone[data-v-e4d28e91]{border:1px solid blue;display:inline-flex;justify-content:center;align-items:center;width:var(--39d64174);height:var(--39d64174)}._centralZone>img[data-v-e4d28e91]{width:var(--39d64174);height:var(--39d64174)}.editedValueButton[data-v-e4d28e91]{display:inline-flex;justify-content:center;align-items:center}img[data-v-e4d28e91]{width:var(--2e140f5c);height:var(--2e140f5c)}.dialog[data-v-6ffec5a7]{width:100%;z-index:100;position:fixed;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.3)}.center[data-v-6ffec5a7]{position:fixed;top:50%;left:50%;width:75%;transform:translate(-50%,-50%);background-color:#fff;padding:20px}section[data-v-6ffec5a7]{padding:20px;border:1px solid navy;border-radius:20px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center}button[data-v-6ffec5a7]{border:1px solid black;margin:5px}#buttons[data-v-6ffec5a7]{display:flex;flex-direction:row;justify-content:end;align-items:center}button.ok[data-v-6ffec5a7]{color:#fff;background-color:green}button.cancel[data-v-6ffec5a7]{color:#fff;background-color:red}button[data-v-6ffec5a7]:has(>img){margin:0 20px}.mainZone[data-v-6ffec5a7]{display:flex;flex-direction:column;justify-content:center;align-items:center}.boardZone[data-v-6ffec5a7]{display:flex;flex-direction:row;justify-content:center;align-items:center}.boardZone>img[data-v-6ffec5a7]{width:5vw;height:5vw;border:1px solid blue;border-radius:1vw;margin:0 5px}.mainZone>aside[data-v-6ffec5a7]{display:flex;height:13vh;margin:20px 10px;flex-direction:column;justify-content:flex-start;align-items:center;overflow-y:scroll}.buttonsLine>button[data-v-6ffec5a7]{font-size:smaller}.field[data-v-6ffec5a7]{margin:4px}.field>*[data-v-6ffec5a7]{margin:3px}.buttonsLine[data-v-6ffec5a7]{display:flex;flex-direction:row;justify-content:space-evenly;align-items:center}@media (max-width: 1000px){.buttonsLine[data-v-6ffec5a7]{flex-direction:column}}.dialog[data-v-f77ae50c]{z-index:100;position:fixed;top:0;left:0;bottom:0;right:0;background-color:rgba(0,0,0,.3)}.center[data-v-f77ae50c]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background-color:#fff;padding:20px}section[data-v-f77ae50c]{padding:20px;border:1px solid navy;border-radius:20px;display:flex;flex-direction:column;justify-content:space-around;align-items:center}button[data-v-f77ae50c]{border:1px solid black;margin:5px}#buttons[data-v-f77ae50c]{display:flex;flex-direction:row;justify-content:end;align-items:center}button.ok[data-v-f77ae50c]{color:#fff;background-color:green}button.cancel[data-v-f77ae50c]{color:#fff;background-color:red}button[data-v-f77ae50c]:has(>img){margin:0 20px}#pageRoot[data-v-4c265e27]{display:flex;width:100%;height:100%;flex-direction:row;justify-content:center;align-items:center;overflow:hidden}#gameZone[data-v-4c265e27]{width:var(--ed54321e);display:flex;flex-direction:column;justify-content:start;align-items:center}#miscZone[data-v-4c265e27]{margin:0 10px;display:flex;flex-direction:column;justify-content:center;align-items:center}#buttons[data-v-4c265e27]{margin:6px 0;display:flex;flex-direction:row;justify-content:center;align-items:center}#buttons>button[data-v-4c265e27]{border:1px solid blue;margin:0 8px}#buttons>button>img[data-v-4c265e27]{width:40px;height:40px}#nicknames[data-v-4c265e27]{display:flex;flex-direction:column;justify-content:center;align-items:flex-start;height:20vh;border:1px solid blue;border-radius:10px}.nickname[data-v-4c265e27]{display:flex;flex-direction:row;justify-content:flex-start;align-items:center;margin:2px}.nickname.highlight[data-v-4c265e27]{background-color:coral}.nickname>td[data-v-4c265e27]:nth-child(1){width:6vw}.nickname>td[data-v-4c265e27]:nth-child(2){width:12vw}.nickname>td[data-v-4c265e27]:nth-child(3){width:3vw}.nickname>td>.color[data-v-4c265e27]{width:3vw;margin:0 8px;height:3vw;border:1px solid black;border-radius:4px}.nickname>td>.color.white[data-v-4c265e27]{background-color:#fff}.nickname>td>.color.black[data-v-4c265e27]{background-color:#000}.nickname>td>p[data-v-4c265e27]{font-family:Courier New,Courier,monospace;font-weight:700;font-size:large}.nickname>td>img[data-v-4c265e27]{width:3vw;height:3vw}.clock[data-v-4c265e27]{display:flex;flex-direction:row;border:1px solid black}.clock>.side[data-v-4c265e27]{padding:5px;border:1px solid black;display:flex;flex-direction:row;justify-content:center;align-items:center;font-weight:700;font-family:Courier New,Courier,monospace;font-size:xx-large}.clock>.side.white[data-v-4c265e27]{color:#000;background-color:#fff}.clock>.side.black[data-v-4c265e27]{color:#fff;background-color:#000}@media (max-width: 1000px){#pageRoot[data-v-4c265e27]{flex-direction:column}#buttons>button[data-v-4c265e27]{padding:2px}#buttons>button>img[data-v-4c265e27]{width:6vw;height:6vw}.clock[data-v-4c265e27]{font-size:1.5rem}.nickname>td[data-v-4c265e27]{font-size:xx-small}.nickname>td[data-v-4c265e27]:nth-child(1){width:6vw}.nickname>td[data-v-4c265e27]:nth-child(2){width:20vw}.nickname>td[data-v-4c265e27]:nth-child(3){width:6vw}.nickname>td>img[data-v-4c265e27]{width:6vw;height:6vw}}.root[data-v-c00eddd7]{position:relative;display:inline-block;width:var(--23365052);height:var(--23365052);background-color:var(--7b12f459)}.inner-layer[data-v-c00eddd7]{position:absolute;left:0;right:0;width:var(--23365052);height:var(--23365052)}.lowest-layer[data-v-c00eddd7]{position:absolute;display:grid;left:0;top:0;width:var(--23365052);height:var(--23365052);grid-template:var(--4e90964b)}.last-move-layer[data-v-c00eddd7],.dnd-layer[data-v-c00eddd7]{position:absolute;left:0;top:0;width:var(--23365052);height:var(--23365052)}.promotion-overlay-layer[data-v-c00eddd7]{position:absolute;left:0;top:0;width:var(--23365052);height:var(--23365052);opacity:.8;display:flex;justify-content:center;align-items:center;background-color:#000}.promotion-layer[data-v-c00eddd7]{position:absolute;left:0;top:0;width:var(--23365052);height:var(--23365052);background-color:#fff;display:flex;flex-direction:column;justify-content:center;align-items:center}.promotion-buttons[data-v-c00eddd7]{display:flex;justify-content:center;align-items:center;width:var(--0ccafbb5);height:var(--aac90db0)}.single-promotion-button[data-v-c00eddd7]{border:var(--edbfd394);padding:var(--66d0db47);margin:var(--c9bfb090)}.cell[data-v-c00eddd7]{display:flex;justify-content:center;align-items:center}.cell.white[data-v-c00eddd7]{background-color:var(--3dba7350)}.cell.black[data-v-c00eddd7]{background-color:var(--26ac38b4)}.coordinate[data-v-c00eddd7]{display:flex;justify-content:center;align-items:center;font-weight:700;font-size:var(--7e290edb);color:var(--9d9f45da)}.dndPiece[data-v-c00eddd7]{position:absolute;left:var(--33a18c2e);top:var(--33a18c2c);width:var(--313142cf);height:var(--313142cf)}.last-move-line[data-v-c00eddd7]{position:absolute}.player-turn-cell[data-v-c00eddd7]{display:flex;justify-content:center;align-items:center;width:90%;height:90%}.player-turn[data-v-c00eddd7]{border-radius:50%;width:100%;height:100%}.white-turn[data-v-c00eddd7]{background-color:#fff}.black-turn[data-v-c00eddd7]{background-color:#000}.dnd-orig[data-v-c00eddd7]{background-color:var(--b588fb60);width:var(--313142cf);height:var(--313142cf)}.dnd-target[data-v-c00eddd7]{background-color:var(--2f8b4845);width:var(--313142cf);height:var(--313142cf)}.dnd-cross-cell[data-v-c00eddd7]{background-color:var(--4eea78f0);width:var(--313142cf);height:var(--313142cf)}.no-highlight-cell[data-v-c00eddd7]{width:var(--313142cf);height:var(--313142cf)}.last-move-base-line[data-v-c00eddd7]{left:var(--14110304);top:var(--397bb7fe);width:var(--6cd5c3a2);height:var(--4f3fadde);transform:var(--3b360156);-ms-transform:var(--3b360156);-moz-transform:var(--3b360156);-webkit-transform:var(--3b360156);transform-origin:var(--0bbbf24a);-ms-transform-origin:var(--0bbbf24a);-moz-transform-origin:var(--0bbbf24a);-webkit-transform-origin:var(--0bbbf24a);background-color:var(--13014d6b)}.last-move-arrow-1[data-v-c00eddd7]{left:var(--5487e881);top:var(--2c04819b);width:var(--3d11f48c);height:var(--4b5da321);transform:var(--04a55f32);-ms-transform:var(--04a55f32);-moz-transform:var(--04a55f32);-webkit-transform:var(--04a55f32);transform-origin:var(--f1bf6610);-ms-transform-origin:var(--f1bf6610);-moz-transform-origin:var(--f1bf6610);-webkit-transform-origin:var(--f1bf6610);background-color:var(--13014d6b)}.last-move-arrow-2[data-v-c00eddd7]{left:var(--54960002);top:var(--2c04f5fa);width:var(--3ec6cd2b);height:var(--ff78433c);transform:var(--0e225f5e);-ms-transform:var(--0e225f5e);-moz-transform:var(--0e225f5e);-webkit-transform:var(--0e225f5e);transform-origin:var(--68b22ad7);-ms-transform-origin:var(--68b22ad7);-moz-transform-origin:var(--68b22ad7);-webkit-transform-origin:var(--68b22ad7);background-color:var(--13014d6b)}.last-move-point[data-v-c00eddd7]{left:var(--730e6736);top:var(--40359137);width:var(--093d8d28);height:var(--04a51e05);transform:var(--29db49ce);-ms-transform:var(--29db49ce);-moz-transform:var(--29db49ce);-webkit-transform:var(--29db49ce);transform-origin:var(--41ea5ad8);-ms-transform-origin:var(--41ea5ad8);-moz-transform-origin:var(--41ea5ad8);-webkit-transform-origin:var(--41ea5ad8);background-color:var(--13014d6b)}.root[data-v-6a406ac3]{position:relative;display:inline-block;width:var(--7c0d1e38);height:var(--7c0d1e38);background-color:var(--e5b726b4)}.lowest-layer[data-v-6a406ac3]{position:absolute;display:grid;left:0;top:0;width:var(--7c0d1e38);height:var(--7c0d1e38);grid-template:var(--22252f58)}.cell[data-v-6a406ac3]{display:flex;justify-content:center;align-items:center}.cell.white[data-v-6a406ac3]{background-color:var(--17392323)}.cell.black[data-v-6a406ac3]{background-color:var(--73aed90e)}.coordinate[data-v-6a406ac3]{display:flex;justify-content:center;align-items:center;font-weight:700;font-size:var(--6a339330);color:var(--0787a7a0)}.player-turn-cell[data-v-6a406ac3]{display:flex;justify-content:center;align-items:center;width:90%;height:90%}.player-turn[data-v-6a406ac3]{border-radius:50%;width:100%;height:100%}.white-turn[data-v-6a406ac3]{background-color:#fff}.black-turn[data-v-6a406ac3]{background-color:#000}.no-highlight-cell[data-v-6a406ac3]{width:var(--614ed422);height:var(--614ed422)}\n',document.head.appendChild(g);var E,S={},L=[],I=function(){},T=function(){return!1},A=function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&(e.charCodeAt(2)>122||e.charCodeAt(2)<97)},N=function(e){return e.startsWith("onUpdate:")},M=Object.assign,O=function(e,t){var n=e.indexOf(t);n>-1&&e.splice(n,1)},P=Object.prototype.hasOwnProperty,D=function(e,t){return P.call(e,t)},R=Array.isArray,F=function(e){return"[object Map]"===H(e)},j=function(e){return"[object Set]"===H(e)},V=function(e){return"[object Date]"===H(e)},U=function(e){return"function"==typeof e},B=function(e){return"string"==typeof e},z=function(e){return"symbol"===C(e)},q=function(e){return null!==e&&"object"===C(e)},G=function(e){return(q(e)||U(e))&&U(e.then)&&U(e.catch)},W=Object.prototype.toString,H=function(e){return W.call(e)},K=function(e){return H(e).slice(8,-1)},Q=function(e){return"[object Object]"===H(e)},Y=function(e){return B(e)&&"NaN"!==e&&"-"!==e[0]&&""+parseInt(e,10)===e},$=b(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),X=function(e){var t=Object.create(null);return function(n){return t[n]||(t[n]=e(n))}},J=/-(\w)/g,Z=X((function(e){return e.replace(J,(function(e,t){return t?t.toUpperCase():""}))})),ee=/\B([A-Z])/g,te=X((function(e){return e.replace(ee,"-$1").toLowerCase()})),ne=X((function(e){return e.charAt(0).toUpperCase()+e.slice(1)})),re=X((function(e){return e?"on".concat(ne(e)):""})),ie=function(e,t){return!Object.is(e,t)},ae=function(e,t){for(var n=0;n<e.length;n++)e[n](t)},oe=function(e,t,n){Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},se=function(e){var t=parseFloat(e);return isNaN(t)?e:t},ue=function(e){var t=B(e)?Number(e):NaN;return isNaN(t)?e:t},le=function(){return E||(E="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})};function ce(e){if(R(e)){for(var t={},n=0;n<e.length;n++){var r=e[n],i=B(r)?ve(r):ce(r);if(i)for(var a in i)t[a]=i[a]}return t}if(B(e)||q(e))return e}var fe=/;(?![^(]*\))/g,he=/:([^]+)/,de=/\/\*[^]*?\*\//g;function ve(e){var t={};return e.replace(de,"").split(fe).forEach((function(e){if(e){var n=e.split(he);n.length>1&&(t[n[0].trim()]=n[1].trim())}})),t}function pe(e){var t="";if(B(e))t=e;else if(R(e))for(var n=0;n<e.length;n++){var r=pe(e[n]);r&&(t+=r+" ")}else if(q(e))for(var i in e)e[i]&&(t+=i+" ");return t.trim()}var me=b("itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly");function ge(e){return!!e||""===e}function ye(e,t){if(e===t)return!0;var n=V(e),r=V(t);if(n||r)return!(!n||!r)&&e.getTime()===t.getTime();if(n=z(e),r=z(t),n||r)return e===t;if(n=R(e),r=R(t),n||r)return!(!n||!r)&&function(e,t){if(e.length!==t.length)return!1;for(var n=!0,r=0;n&&r<e.length;r++)n=ye(e[r],t[r]);return n}(e,t);if(n=q(e),r=q(t),n||r){if(!n||!r)return!1;if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var i in e){var a=e.hasOwnProperty(i),o=t.hasOwnProperty(i);if(a&&!o||!a&&o||!ye(e[i],t[i]))return!1}}return String(e)===String(t)}function ke(e,t){return e.findIndex((function(e){return ye(e,t)}))}var be,we,_e=function(e){return B(e)?e:null==e?"":R(e)||q(e)&&(e.toString===W||!U(e.toString))?JSON.stringify(e,Ce,2):String(e)},Ce=function e(t,n){return n&&n.__v_isRef?e(t,n.value):F(n)?k({},"Map(".concat(n.size,")"),_(n.entries()).reduce((function(e,t,n){var r=w(t,2),i=r[0],a=r[1];return e[xe(i,n)+" =>"]=a,e}),{})):j(n)?k({},"Set(".concat(n.size,")"),_(n.values()).map((function(e){return xe(e)}))):z(n)?xe(n):!q(n)||R(n)||Q(n)?n:String(n)},xe=function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return z(e)?"Symbol(".concat(null!=(t=e.description)?t:n,")"):e},Ee=function(){return y((function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];m(this,e),this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=be,!t&&be&&(this.index=(be.scopes||(be.scopes=[])).push(this)-1)}),[{key:"active",get:function(){return this._active}},{key:"run",value:function(e){if(this._active){var t=be;try{return be=this,e()}finally{be=t}}}},{key:"on",value:function(){be=this}},{key:"off",value:function(){be=this.parent}},{key:"stop",value:function(e){if(this._active){var t,n;for(t=0,n=this.effects.length;t<n;t++)this.effects[t].stop();for(t=0,n=this.cleanups.length;t<n;t++)this.cleanups[t]();if(this.scopes)for(t=0,n=this.scopes.length;t<n;t++)this.scopes[t].stop(!0);if(!this.detached&&this.parent&&!e){var r=this.parent.scopes.pop();r&&r!==this&&(this.parent.scopes[this.index]=r,r.index=this.index)}this.parent=void 0,this._active=!1}}}])}();function Se(e){return new Ee(e)}function Le(){return be}function Ie(e){be&&be.cleanups.push(e)}var Te=function(){return y((function e(t,n,r,i){m(this,e),this.fn=t,this.trigger=n,this.scheduler=r,this.active=!0,this.deps=[],this._dirtyLevel=4,this._trackId=0,this._runnings=0,this._shouldSchedule=!1,this._depsLength=0,function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:be;t&&t.active&&t.effects.push(e)}(this,i)}),[{key:"dirty",get:function(){if(2===this._dirtyLevel||3===this._dirtyLevel){this._dirtyLevel=1,Re();for(var e=0;e<this._depsLength;e++){var t=this.deps[e];if(t.computed&&(t.computed.value,this._dirtyLevel>=4))break}1===this._dirtyLevel&&(this._dirtyLevel=0),Fe()}return this._dirtyLevel>=4},set:function(e){this._dirtyLevel=e?4:0}},{key:"run",value:function(){if(this._dirtyLevel=0,!this.active)return this.fn();var e=Oe,t=we;try{return Oe=!0,we=this,this._runnings++,Ae(this),this.fn()}finally{Ne(this),this._runnings--,we=t,Oe=e}}},{key:"stop",value:function(){var e;this.active&&(Ae(this),Ne(this),null==(e=this.onStop)||e.call(this),this.active=!1)}}])}();function Ae(e){e._trackId++,e._depsLength=0}function Ne(e){if(e.deps.length>e._depsLength){for(var t=e._depsLength;t<e.deps.length;t++)Me(e.deps[t],e);e.deps.length=e._depsLength}}function Me(e,t){var n=e.get(t);void 0!==n&&t._trackId!==n&&(e.delete(t),0===e.size&&e.cleanup())}var Oe=!0,Pe=0,De=[];function Re(){De.push(Oe),Oe=!1}function Fe(){var e=De.pop();Oe=void 0===e||e}function je(){Pe++}function Ve(){for(Pe--;!Pe&&Be.length;)Be.shift()()}function Ue(e,t,n){if(t.get(e)!==e._trackId){t.set(e,e._trackId);var r=e.deps[e._depsLength];r!==t?(r&&Me(r,e),e.deps[e._depsLength++]=t):e._depsLength++}}var Be=[];function ze(e,t,n){je();var r,i=x(e.keys());try{for(i.s();!(r=i.n()).done;){var a=r.value,o=void 0;a._dirtyLevel<t&&(null!=o?o:o=e.get(a)===a._trackId)&&(a._shouldSchedule||(a._shouldSchedule=0===a._dirtyLevel),a._dirtyLevel=t),a._shouldSchedule&&(null!=o?o:o=e.get(a)===a._trackId)&&(a.trigger(),a._runnings&&!a.allowRecurse||2===a._dirtyLevel||(a._shouldSchedule=!1,a.scheduler&&Be.push(a.scheduler)))}}catch(s){i.e(s)}finally{i.f()}Ve()}var qe=function(e,t){var n=new Map;return n.cleanup=e,n.computed=t,n},Ge=new WeakMap,We=Symbol(""),He=Symbol("");function Ke(e,t,n){if(Oe&&we){var r=Ge.get(e);r||Ge.set(e,r=new Map);var i=r.get(n);i||r.set(n,i=qe((function(){return r.delete(n)}))),Ue(we,i)}}function Qe(e,t,n,r,i,a){var o=Ge.get(e);if(o){var s=[];if("clear"===t)s=_(o.values());else if("length"===n&&R(e)){var u=Number(r);o.forEach((function(e,t){("length"===t||!z(t)&&t>=u)&&s.push(e)}))}else switch(void 0!==n&&s.push(o.get(n)),t){case"add":R(e)?Y(n)&&s.push(o.get("length")):(s.push(o.get(We)),F(e)&&s.push(o.get(He)));break;case"delete":R(e)||(s.push(o.get(We)),F(e)&&s.push(o.get(He)));break;case"set":F(e)&&s.push(o.get(We))}je();var l,c=x(s);try{for(c.s();!(l=c.n()).done;){var f=l.value;f&&ze(f,4)}}catch(h){c.e(h)}finally{c.f()}Ve()}}var Ye=b("__proto__,__v_isRef,__isVue"),$e=new Set(Object.getOwnPropertyNames(Symbol).filter((function(e){return"arguments"!==e&&"caller"!==e})).map((function(e){return Symbol[e]})).filter(z)),Xe=Je();function Je(){var e={};return["includes","indexOf","lastIndexOf"].forEach((function(t){e[t]=function(){for(var e=Ut(this),n=0,r=this.length;n<r;n++)Ke(e,0,n+"");for(var i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=e[t].apply(e,a);return-1===s||!1===s?e[t].apply(e,_(a.map(Ut))):s}})),["push","pop","shift","unshift","splice"].forEach((function(t){e[t]=function(){Re(),je();for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=Ut(this)[t].apply(this,n);return Ve(),Fe(),i}})),e}function Ze(e){var t=Ut(this);return Ke(t,0,e),t.hasOwnProperty(e)}var et=function(){return y((function e(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];m(this,e),this._isReadonly=t,this._isShallow=n}),[{key:"get",value:function(e,t,n){var r=this._isReadonly,i=this._isShallow;if("__v_isReactive"===t)return!r;if("__v_isReadonly"===t)return r;if("__v_isShallow"===t)return i;if("__v_raw"===t)return n===(r?i?Nt:At:i?Tt:It).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(n)?e:void 0;var a=R(e);if(!r){if(a&&D(Xe,t))return Reflect.get(Xe,t,n);if("hasOwnProperty"===t)return Ze}var o=Reflect.get(e,t,n);return(z(t)?$e.has(t):Ye(t))?o:(r||Ke(e,0,t),i?o:Kt(o)?a&&Y(t)?o:o.value:q(o)?r?Pt(o):Mt(o):o)}}])}(),tt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,t),f(this,t,[!1,e])}return v(t,e),y(t,[{key:"set",value:function(e,t,n,r){var i=e[t];if(!this._isShallow){var a=Ft(i);if(jt(n)||Ft(n)||(i=Ut(i),n=Ut(n)),!R(e)&&Kt(i)&&!Kt(n))return!a&&(i.value=n,!0)}var o=R(e)&&Y(t)?Number(t)<e.length:D(e,t),s=Reflect.set(e,t,n,r);return e===Ut(r)&&(o?ie(n,i)&&Qe(e,"set",t,n):Qe(e,"add",t,n)),s}},{key:"deleteProperty",value:function(e,t){var n=D(e,t);e[t];var r=Reflect.deleteProperty(e,t);return r&&n&&Qe(e,"delete",t,void 0),r}},{key:"has",value:function(e,t){var n=Reflect.has(e,t);return z(t)&&$e.has(t)||Ke(e,0,t),n}},{key:"ownKeys",value:function(e){return Ke(e,0,R(e)?"length":We),Reflect.ownKeys(e)}}])}(et),nt=function(e){function t(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return m(this,t),f(this,t,[!0,e])}return v(t,e),y(t,[{key:"set",value:function(e,t){return!0}},{key:"deleteProperty",value:function(e,t){return!0}}])}(et),rt=new tt,it=new nt,at=new tt(!0),ot=function(e){return e},st=function(e){return Reflect.getPrototypeOf(e)};function ut(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=Ut(e=e.__v_raw),a=Ut(t);n||(ie(t,a)&&Ke(i,0,t),Ke(i,0,a));var o=st(i).has,s=r?ot:n?qt:zt;return o.call(i,t)?s(e.get(t)):o.call(i,a)?s(e.get(a)):void(e!==i&&e.get(t))}function lt(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=this.__v_raw,r=Ut(n),i=Ut(e);return t||(ie(e,i)&&Ke(r,0,e),Ke(r,0,i)),e===i?n.has(e):n.has(e)||n.has(i)}function ct(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return e=e.__v_raw,!t&&Ke(Ut(e),0,We),Reflect.get(e,"size",e)}function ft(e){e=Ut(e);var t=Ut(this);return st(t).has.call(t,e)||(t.add(e),Qe(t,"add",e,e)),this}function ht(e,t){t=Ut(t);var n=Ut(this),r=st(n),i=r.has,a=r.get,o=i.call(n,e);o||(e=Ut(e),o=i.call(n,e));var s=a.call(n,e);return n.set(e,t),o?ie(t,s)&&Qe(n,"set",e,t):Qe(n,"add",e,t),this}function dt(e){var t=Ut(this),n=st(t),r=n.has,i=n.get,a=r.call(t,e);a||(e=Ut(e),a=r.call(t,e)),i&&i.call(t,e);var o=t.delete(e);return a&&Qe(t,"delete",e,void 0),o}function vt(){var e=Ut(this),t=0!==e.size,n=e.clear();return t&&Qe(e,"clear",void 0,void 0),n}function pt(e,t){return function(n,r){var i=this,a=i.__v_raw,o=Ut(a),s=t?ot:e?qt:zt;return!e&&Ke(o,0,We),a.forEach((function(e,t){return n.call(r,s(e),s(t),i)}))}}function mt(e,t,n){return function(){var r=this.__v_raw,i=Ut(r),a=F(i),o="entries"===e||e===Symbol.iterator&&a,s="keys"===e&&a,u=r[e].apply(r,arguments),l=n?ot:t?qt:zt;return!t&&Ke(i,0,s?He:We),k({next:function(){var e=u.next(),t=e.value,n=e.done;return n?{value:t,done:n}:{value:o?[l(t[0]),l(t[1])]:l(t),done:n}}},Symbol.iterator,(function(){return this}))}}function gt(e){return function(){return"delete"!==e&&("clear"===e?void 0:this)}}function yt(){var e={get:function(e){return ut(this,e)},get size(){return ct(this)},has:lt,add:ft,set:ht,delete:dt,clear:vt,forEach:pt(!1,!1)},t={get:function(e){return ut(this,e,!1,!0)},get size(){return ct(this)},has:lt,add:ft,set:ht,delete:dt,clear:vt,forEach:pt(!1,!0)},n={get:function(e){return ut(this,e,!0)},get size(){return ct(this,!0)},has:function(e){return lt.call(this,e,!0)},add:gt("add"),set:gt("set"),delete:gt("delete"),clear:gt("clear"),forEach:pt(!0,!1)},r={get:function(e){return ut(this,e,!0,!0)},get size(){return ct(this,!0)},has:function(e){return lt.call(this,e,!0)},add:gt("add"),set:gt("set"),delete:gt("delete"),clear:gt("clear"),forEach:pt(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach((function(i){e[i]=mt(i,!1,!1),n[i]=mt(i,!0,!1),t[i]=mt(i,!1,!0),r[i]=mt(i,!0,!0)})),[e,n,t,r]}var kt=w(yt(),4),bt=kt[0],wt=kt[1],_t=kt[2],Ct=kt[3];function xt(e,t){var n=t?e?Ct:_t:e?wt:bt;return function(t,r,i){return"__v_isReactive"===r?!e:"__v_isReadonly"===r?e:"__v_raw"===r?t:Reflect.get(D(n,r)&&r in t?n:t,r,i)}}var Et={get:xt(!1,!1)},St={get:xt(!1,!0)},Lt={get:xt(!0,!1)},It=new WeakMap,Tt=new WeakMap,At=new WeakMap,Nt=new WeakMap;function Mt(e){return Ft(e)?e:Dt(e,!1,rt,Et,It)}function Ot(e){return Dt(e,!1,at,St,Tt)}function Pt(e){return Dt(e,!0,it,Lt,At)}function Dt(e,t,n,r,i){if(!q(e))return e;if(e.__v_raw&&(!t||!e.__v_isReactive))return e;var a=i.get(e);if(a)return a;var o,s=(o=e).__v_skip||!Object.isExtensible(o)?0:function(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}(K(o));if(0===s)return e;var u=new Proxy(e,2===s?r:n);return i.set(e,u),u}function Rt(e){return Ft(e)?Rt(e.__v_raw):!(!e||!e.__v_isReactive)}function Ft(e){return!(!e||!e.__v_isReadonly)}function jt(e){return!(!e||!e.__v_isShallow)}function Vt(e){return Rt(e)||Ft(e)}function Ut(e){var t=e&&e.__v_raw;return t?Ut(t):e}function Bt(e){return Object.isExtensible(e)&&oe(e,"__v_skip",!0),e}var zt=function(e){return q(e)?Mt(e):e},qt=function(e){return q(e)?Pt(e):e},Gt=function(){return y((function e(t,n,r,i){var a=this;m(this,e),this.getter=t,this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this.effect=new Te((function(){return t(a._value)}),(function(){return Ht(a,2===a.effect._dirtyLevel?2:3)})),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}),[{key:"value",get:function(){var e=Ut(this);return e._cacheable&&!e.effect.dirty||!ie(e._value,e._value=e.effect.run())||Ht(e,4),Wt(e),e.effect._dirtyLevel>=2&&Ht(e,2),e._value},set:function(e){this._setter(e)}},{key:"_dirty",get:function(){return this.effect.dirty},set:function(e){this.effect.dirty=e}}])}();function Wt(e){var t;Oe&&we&&(e=Ut(e),Ue(we,null!=(t=e.dep)?t:e.dep=qe((function(){return e.dep=void 0}),e instanceof Gt?e:void 0)))}function Ht(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:4,n=(e=Ut(e)).dep;n&&ze(n,t)}function Kt(e){return!(!e||!0!==e.__v_isRef)}function Qt(e){return $t(e,!1)}function Yt(e){return $t(e,!0)}function $t(e,t){return Kt(e)?e:new Xt(e,t)}var Xt=function(){return y((function e(t,n){m(this,e),this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Ut(t),this._value=n?t:zt(t)}),[{key:"value",get:function(){return Wt(this),this._value},set:function(e){var t=this.__v_isShallow||jt(e)||Ft(e);e=t?e:Ut(e),ie(e,this._rawValue)&&(this._rawValue=e,this._value=t?e:zt(e),Ht(this,4))}}])}();function Jt(e){return Kt(e)?e.value:e}var Zt={get:function(e,t,n){return Jt(Reflect.get(e,t,n))},set:function(e,t,n,r){var i=e[t];return Kt(i)&&!Kt(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function en(e){return Rt(e)?e:new Proxy(e,Zt)}var tn=function(){return y((function e(t,n,r){m(this,e),this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}),[{key:"value",get:function(){var e=this._object[this._key];return void 0===e?this._defaultValue:e},set:function(e){this._object[this._key]=e}},{key:"dep",get:function(){return e=Ut(this._object),t=this._key,null==(n=Ge.get(e))?void 0:n.get(t);var e,t,n}}])}(),nn=function(){return y((function e(t){m(this,e),this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}),[{key:"value",get:function(){return this._getter()}}])}();function rn(e,t,n){return Kt(e)?e:U(e)?new nn(e):q(e)&&arguments.length>1?an(e,t,n):Qt(e)}function an(e,t,n){var r=e[t];return Kt(r)?r:new tn(e,t,n)}
/**
            * @vue/runtime-core v3.4.21
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/function on(e,t,n,r){try{return r?e.apply(void 0,_(r)):e()}catch(i){un(i,t,n)}}function sn(e,t,n,r){if(U(e)){var i=on(e,t,n,r);return i&&G(i)&&i.catch((function(e){un(e,t,n)})),i}for(var a=[],o=0;o<e.length;o++)a.push(sn(e[o],t,n,r));return a}function un(e,t,n){var r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3],i=t?t.vnode:null;if(t){for(var a=t.parent,o=t.proxy,s="https://vuejs.org/error-reference/#runtime-".concat(n);a;){var u=a.ec;if(u)for(var l=0;l<u.length;l++)if(!1===u[l](e,o,s))return;a=a.parent}var c=t.appContext.config.errorHandler;if(c)return void on(c,null,10,[e,o,s])}!function(e,t,n){console.error(e)}(e,n,i,r)}var ln=!1,cn=!1,fn=[],hn=0,dn=[],vn=null,pn=0,mn=Promise.resolve(),gn=null;function yn(e){var t=gn||mn;return e?t.then(this?e.bind(this):e):t}function kn(e){fn.length&&fn.includes(e,ln&&e.allowRecurse?hn+1:hn)||(null==e.id?fn.push(e):fn.splice(function(e){for(var t=hn+1,n=fn.length;t<n;){var r=t+n>>>1,i=fn[r],a=Cn(i);a<e||a===e&&i.pre?t=r+1:n=r}return t}(e.id),0,e),bn())}function bn(){ln||cn||(cn=!0,gn=mn.then(En))}function wn(e,t){for(var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ln?hn+1:0;n<fn.length;n++){var r=fn[n];if(r&&r.pre){if(e&&r.id!==e.uid)continue;fn.splice(n,1),n--,r()}}}function _n(e){if(dn.length){var t,n=_(new Set(dn)).sort((function(e,t){return Cn(e)-Cn(t)}));if(dn.length=0,vn)return void(t=vn).push.apply(t,_(n));for(vn=n,pn=0;pn<vn.length;pn++)vn[pn]();vn=null,pn=0}}var Cn=function(e){return null==e.id?1/0:e.id},xn=function(e,t){var n=Cn(e)-Cn(t);if(0===n){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function En(e){cn=!1,ln=!0,fn.sort(xn);try{for(hn=0;hn<fn.length;hn++){var t=fn[hn];t&&!1!==t.active&&on(t,null,14)}}finally{hn=0,fn.length=0,_n(),ln=!1,gn=null,(fn.length||dn.length)&&En()}}function Sn(e,t){if(!e.isUnmounted){for(var n=e.vnode.props||S,r=arguments.length,i=new Array(r>2?r-2:0),a=2;a<r;a++)i[a-2]=arguments[a];var o,s=i,u=t.startsWith("update:"),l=u&&t.slice(7);if(l&&l in n){var c=n["".concat("modelValue"===l?"model":l,"Modifiers")]||S,f=c.number;c.trim&&(s=i.map((function(e){return B(e)?e.trim():e}))),f&&(s=i.map(se))}var h=n[o=re(t)]||n[o=re(Z(t))];!h&&u&&(h=n[o=re(te(t))]),h&&sn(h,e,6,s);var d=n[o+"Once"];if(d){if(e.emitted){if(e.emitted[o])return}else e.emitted={};e.emitted[o]=!0,sn(d,e,6,s)}}}function Ln(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.emitsCache,i=r.get(e);if(void 0!==i)return i;var a=e.emits,o={},s=!1;if(!U(e)){var u=function(e){var n=Ln(e,t,!0);n&&(s=!0,M(o,n))};!n&&t.mixins.length&&t.mixins.forEach(u),e.extends&&u(e.extends),e.mixins&&e.mixins.forEach(u)}return a||s?(R(a)?a.forEach((function(e){return o[e]=null})):M(o,a),q(e)&&r.set(e,o),o):(q(e)&&r.set(e,null),null)}function In(e,t){return!(!e||!A(t))&&(t=t.slice(2).replace(/Once$/,""),D(e,t[0].toLowerCase()+t.slice(1))||D(e,te(t))||D(e,t))}var Tn=null,An=null;function Nn(e){var t=Tn;return Tn=e,An=e&&e.type.__scopeId||null,t}function Mn(e){An=e}function On(){An=null}function Pn(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Tn;if(!t)return e;if(e._n)return e;var n=function n(){n._d&&Ti(-1);var r,i=Nn(t);try{r=e.apply(void 0,arguments)}finally{Nn(i),n._d&&Ti(1)}return r};return n._n=!0,n._c=!0,n._d=!0,n}function Dn(e){var t,n,r=e.type,i=e.vnode,a=e.proxy,o=e.withProxy,s=e.props,u=w(e.propsOptions,1)[0],l=e.slots,c=e.attrs,f=e.emit,h=e.render,d=e.renderCache,v=e.data,p=e.setupState,m=e.ctx,g=e.inheritAttrs,y=Nn(e);try{if(4&i.shapeFlag){var k=o||a,b=k;t=Wi(h.call(b,k,d,s,p,v,m)),n=c}else{var _=r;0,t=Wi(_.length>1?_(s,{attrs:c,slots:l,emit:f}):_(s,null)),n=r.props?c:Rn(c)}}catch(S){Ei.length=0,un(S,e,1),t=Vi(Ci)}var C=t;if(n&&!1!==g){var x=Object.keys(n),E=C.shapeFlag;x.length&&7&E&&(u&&x.some(N)&&(n=Fn(n,u)),C=Bi(C,n))}return i.dirs&&((C=Bi(C)).dirs=C.dirs?C.dirs.concat(i.dirs):i.dirs),i.transition&&(C.transition=i.transition),t=C,Nn(y),t}var Rn=function(e){var t;for(var n in e)("class"===n||"style"===n||A(n))&&((t||(t={}))[n]=e[n]);return t},Fn=function(e,t){var n={};for(var r in e)N(r)&&r.slice(9)in t||(n[r]=e[r]);return n};function jn(e,t,n){var r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(var i=0;i<r.length;i++){var a=r[i];if(t[a]!==e[a]&&!In(n,a))return!0}return!1}var Vn="components";function Un(e,t){return zn(Vn,e,!0,t)||e}var Bn=Symbol.for("v-ndc");function zn(e,t){var n=arguments.length>3&&void 0!==arguments[3]&&arguments[3],r=Tn||ea;if(r){var i=r.type;if(e===Vn){var a=ha(i,!1);if(a&&(a===t||a===Z(t)||a===ne(Z(t))))return i}var o=qn(r[e]||i[e],t)||qn(r.appContext[e],t);return!o&&n?i:o}}function qn(e,t){return e&&(e[t]||e[Z(t)]||e[ne(Z(t))])}var Gn=Symbol.for("v-scx"),Wn=function(){return ei(Gn)};var Hn={};function Kn(e,t,n){return Qn(e,t,n)}function Qn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:S,r=n.immediate,i=n.deep,a=n.flush,o=n.once;n.onTrack,n.onTrigger;if(t&&o){var s=t;t=function(){s.apply(void 0,arguments),C()}}var u,l,c=ea,f=function(e){return!0===i?e:Xn(e,!1===i?1:void 0)},h=!1,d=!1;if(Kt(e)?(u=function(){return e.value},h=jt(e)):Rt(e)?(u=function(){return f(e)},h=!0):R(e)?(d=!0,h=e.some((function(e){return Rt(e)||jt(e)})),u=function(){return e.map((function(e){return Kt(e)?e.value:Rt(e)?f(e):U(e)?on(e,c,2):void 0}))}):u=U(e)?t?function(){return on(e,c,2)}:function(){return l&&l(),sn(e,c,3,[m])}:I,t&&i){var v=u;u=function(){return Xn(v())}}var p,m=function(e){l=w.onStop=function(){on(e,c,4),l=w.onStop=void 0}};if(ua){if(m=I,t?r&&sn(t,c,3,[u(),d?[]:void 0,m]):u(),"sync"!==a)return I;var g=Wn();p=g.__watcherHandles||(g.__watcherHandles=[])}var y,k=d?new Array(e.length).fill(Hn):Hn,b=function(){if(w.active&&w.dirty)if(t){var e=w.run();(i||h||(d?e.some((function(e,t){return ie(e,k[t])})):ie(e,k)))&&(l&&l(),sn(t,c,3,[e,k===Hn?void 0:d&&k[0]===Hn?[]:k,m]),k=e)}else w.run()};b.allowRecurse=!!t,"sync"===a?y=b:"post"===a?y=function(){return pi(b,c&&c.suspense)}:(b.pre=!0,c&&(b.id=c.uid),y=function(){return kn(b)});var w=new Te(u,I,y),_=Le(),C=function(){w.stop(),_&&O(_.effects,w)};return t?r?b():k=w.run():"post"===a?pi(w.run.bind(w),c&&c.suspense):w.run(),p&&p.push(C),C}function Yn(e,t,n){var r,i=this.proxy,a=B(e)?e.includes(".")?$n(i,e):function(){return i[e]}:e.bind(i,i);U(t)?r=t:(r=t.handler,n=t);var o=ia(this),s=Qn(a,r.bind(i),n);return o(),s}function $n(e,t){var n=t.split(".");return function(){for(var t=e,r=0;r<n.length&&t;r++)t=t[n[r]];return t}}function Xn(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3?arguments[3]:void 0;if(!q(e)||e.__v_skip)return e;if(t&&t>0){if(n>=t)return e;n++}if((r=r||new Set).has(e))return e;if(r.add(e),Kt(e))Xn(e.value,t,n,r);else if(R(e))for(var i=0;i<e.length;i++)Xn(e[i],t,n,r);else if(j(e)||F(e))e.forEach((function(e){Xn(e,t,n,r)}));else if(Q(e))for(var a in e)Xn(e[a],t,n,r);return e}function Jn(e,t){if(null===Tn)return e;for(var n=fa(Tn)||Tn.proxy,r=e.dirs||(e.dirs=[]),i=0;i<t.length;i++){var a=w(t[i],4),o=a[0],s=a[1],u=a[2],l=a[3],c=void 0===l?S:l;o&&(U(o)&&(o={mounted:o,updated:o}),o.deep&&Xn(s),r.push({dir:o,instance:n,value:s,oldValue:void 0,arg:u,modifiers:c}))}return e}function Zn(e,t,n,r){for(var i=e.dirs,a=t&&t.dirs,o=0;o<i.length;o++){var s=i[o];a&&(s.oldValue=a[o].value);var u=s.dir[r];u&&(Re(),sn(u,n,8,[e.el,s,e,t]),Fe())}}var er=Symbol("_leaveCb"),tr=Symbol("_enterCb");function nr(){var e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return _r((function(){e.isMounted=!0})),Er((function(){e.isUnmounting=!0})),e}var rr=[Function,Array],ir={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:rr,onEnter:rr,onAfterEnter:rr,onEnterCancelled:rr,onBeforeLeave:rr,onLeave:rr,onAfterLeave:rr,onLeaveCancelled:rr,onBeforeAppear:rr,onAppear:rr,onAfterAppear:rr,onAppearCancelled:rr},ar={name:"BaseTransition",props:ir,setup:function(e,t){var n=t.slots,r=ta(),i=nr();return function(){var t=n.default&&fr(n.default(),!0);if(t&&t.length){var a=t[0];if(t.length>1){var o,s=x(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;if(u.type!==Ci){a=u;break}}}catch(m){s.e(m)}finally{s.f()}}var l=Ut(e),c=l.mode;if(i.isLeaving)return ur(a);var f=lr(a);if(!f)return ur(a);var h=sr(f,l,i,r);cr(f,h);var d=r.subTree,v=d&&lr(d);if(v&&v.type!==Ci&&!Pi(f,v)){var p=sr(v,l,i,r);if(cr(v,p),"out-in"===c)return i.isLeaving=!0,p.afterLeave=function(){i.isLeaving=!1,!1!==r.update.active&&(r.effect.dirty=!0,r.update())},ur(a);"in-out"===c&&f.type!==Ci&&(p.delayLeave=function(e,t,n){or(i,v)[String(v.key)]=v,e[er]=function(){t(),e[er]=void 0,delete h.delayedLeave},h.delayedLeave=n})}return a}}}};function or(e,t){var n=e.leavingVNodes,r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function sr(e,t,n,r){var i=t.appear,a=t.mode,o=t.persisted,s=void 0!==o&&o,u=t.onBeforeEnter,l=t.onEnter,c=t.onAfterEnter,f=t.onEnterCancelled,h=t.onBeforeLeave,d=t.onLeave,v=t.onAfterLeave,p=t.onLeaveCancelled,m=t.onBeforeAppear,g=t.onAppear,y=t.onAfterAppear,k=t.onAppearCancelled,b=String(e.key),w=or(n,e),_=function(e,t){e&&sn(e,r,9,t)},C=function(e,t){var n=t[1];_(e,t),R(e)?e.every((function(e){return e.length<=1}))&&n():e.length<=1&&n()},x={mode:a,persisted:s,beforeEnter:function(t){var r=u;if(!n.isMounted){if(!i)return;r=m||u}t[er]&&t[er](!0);var a=w[b];a&&Pi(e,a)&&a.el[er]&&a.el[er](),_(r,[t])},enter:function(e){var t=l,r=c,a=f;if(!n.isMounted){if(!i)return;t=g||l,r=y||c,a=k||f}var o=!1,s=e[tr]=function(t){o||(o=!0,_(t?a:r,[e]),x.delayedLeave&&x.delayedLeave(),e[tr]=void 0)};t?C(t,[e,s]):s()},leave:function(t,r){var i=String(e.key);if(t[tr]&&t[tr](!0),n.isUnmounting)return r();_(h,[t]);var a=!1,o=t[er]=function(n){a||(a=!0,r(),_(n?p:v,[t]),t[er]=void 0,w[i]===e&&delete w[i])};w[i]=e,d?C(d,[t,o]):o()},clone:function(e){return sr(e,t,n,r)}};return x}function ur(e){if(vr(e))return(e=Bi(e)).children=null,e}function lr(e){return vr(e)?e.children?e.children[0]:void 0:e}function cr(e,t){6&e.shapeFlag&&e.component?cr(e.component.subTree,t):128&e.shapeFlag?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function fr(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=arguments.length>2?arguments[2]:void 0,r=[],i=0,a=0;a<e.length;a++){var o=e[a],s=null==n?o.key:String(n)+String(null!=o.key?o.key:a);o.type===wi?(128&o.patchFlag&&i++,r=r.concat(fr(o.children,t,s))):(t||o.type!==Ci)&&r.push(null!=s?Bi(o,{key:s}):o)}if(i>1)for(var u=0;u<r.length;u++)r[u].patchFlag=-2;return r}/*! #__NO_SIDE_EFFECTS__ */function hr(e,t){return U(e)?function(){return M({name:e.name},t,{setup:e})}():e}var dr=function(e){return!!e.type.__asyncLoader},vr=function(e){return e.type.__isKeepAlive};function pr(e,t){gr(e,"a",t)}function mr(e,t){gr(e,"da",t)}function gr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea,r=e.__wdc||(e.__wdc=function(){for(var t=n;t;){if(t.isDeactivated)return;t=t.parent}return e()});if(kr(t,r,n),n)for(var i=n.parent;i&&i.parent;)vr(i.parent.vnode)&&yr(r,t,n,i),i=i.parent}function yr(e,t,n,r){var i=kr(t,e,r,!0);Sr((function(){O(r[t],i)}),n)}function kr(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:ea,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if(n){var i=n[e]||(n[e]=[]),a=t.__weh||(t.__weh=function(){if(!n.isUnmounted){Re();for(var r=ia(n),i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];var s=sn(t,n,e,a);return r(),Fe(),s}});return r?i.unshift(a):i.push(a),a}}var br=function(e){return function(t){return(!ua||"sp"===e)&&kr(e,(function(){return t.apply(void 0,arguments)}),arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea)}},wr=br("bm"),_r=br("m"),Cr=br("bu"),xr=br("u"),Er=br("bum"),Sr=br("um"),Lr=br("sp"),Ir=br("rtg"),Tr=br("rtc");function Ar(e){kr("ec",e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:ea)}function Nr(e,t,n,r){var i,a=n&&n[r];if(R(e)||B(e)){i=new Array(e.length);for(var o=0,s=e.length;o<s;o++)i[o]=t(e[o],o,void 0,a&&a[o])}else if("number"==typeof e){i=new Array(e);for(var u=0;u<e;u++)i[u]=t(u+1,u,void 0,a&&a[u])}else if(q(e))if(e[Symbol.iterator])i=Array.from(e,(function(e,n){return t(e,n,void 0,a&&a[n])}));else{var l=Object.keys(e);i=new Array(l.length);for(var c=0,f=l.length;c<f;c++){var h=l[c];i[c]=t(e[h],h,c,a&&a[c])}}else i=[];return n&&(n[r]=i),i}var Mr=function e(t){return t?oa(t)?fa(t)||t.proxy:e(t.parent):null},Or=M(Object.create(null),{$:function(e){return e},$el:function(e){return e.vnode.el},$data:function(e){return e.data},$props:function(e){return e.props},$attrs:function(e){return e.attrs},$slots:function(e){return e.slots},$refs:function(e){return e.refs},$parent:function(e){return Mr(e.parent)},$root:function(e){return Mr(e.root)},$emit:function(e){return e.emit},$options:function(e){return Br(e)},$forceUpdate:function(e){return e.f||(e.f=function(){e.effect.dirty=!0,kn(e.update)})},$nextTick:function(e){return e.n||(e.n=yn.bind(e.proxy))},$watch:function(e){return Yn.bind(e)}}),Pr=function(e,t){return e!==S&&!e.__isScriptSetup&&D(e,t)},Dr={get:function(e,t){var n,r=e._,i=r.ctx,a=r.setupState,o=r.data,s=r.props,u=r.accessCache,l=r.type,c=r.appContext;if("$"!==t[0]){var f=u[t];if(void 0!==f)switch(f){case 1:return a[t];case 2:return o[t];case 4:return i[t];case 3:return s[t]}else{if(Pr(a,t))return u[t]=1,a[t];if(o!==S&&D(o,t))return u[t]=2,o[t];if((n=r.propsOptions[0])&&D(n,t))return u[t]=3,s[t];if(i!==S&&D(i,t))return u[t]=4,i[t];Fr&&(u[t]=0)}}var h,d,v=Or[t];return v?("$attrs"===t&&Ke(r,0,t),v(r)):(h=l.__cssModules)&&(h=h[t])?h:i!==S&&D(i,t)?(u[t]=4,i[t]):(d=c.config.globalProperties,D(d,t)?d[t]:void 0)},set:function(e,t,n){var r=e._,i=r.data,a=r.setupState,o=r.ctx;return Pr(a,t)?(a[t]=n,!0):i!==S&&D(i,t)?(i[t]=n,!0):!D(r.props,t)&&(("$"!==t[0]||!(t.slice(1)in r))&&(o[t]=n,!0))},has:function(e,t){var n,r=e._,i=r.data,a=r.setupState,o=r.accessCache,s=r.ctx,u=r.appContext,l=r.propsOptions;return!!o[t]||i!==S&&D(i,t)||Pr(a,t)||(n=l[0])&&D(n,t)||D(s,t)||D(Or,t)||D(u.config.globalProperties,t)},defineProperty:function(e,t,n){return null!=n.get?e._.accessCache[t]=0:D(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}};function Rr(e){return R(e)?e.reduce((function(e,t){return e[t]=null,e}),{}):e}var Fr=!0;function jr(e){var t=Br(e),n=e.proxy,r=e.ctx;Fr=!1,t.beforeCreate&&Vr(t.beforeCreate,e,"bc");var i=t.data,a=t.computed,o=t.methods,s=t.watch,u=t.provide,l=t.inject,c=t.created,f=t.beforeMount,h=t.mounted,d=t.beforeUpdate,v=t.updated,p=t.activated,m=t.deactivated,g=(t.beforeDestroy,t.beforeUnmount),y=(t.destroyed,t.unmounted),k=t.render,b=t.renderTracked,w=t.renderTriggered,_=t.errorCaptured,C=t.serverPrefetch,x=t.expose,E=t.inheritAttrs,S=t.components,L=t.directives;t.filters;if(l&&function(e,t){R(e)&&(e=Wr(e));var n=function(){var n,i=e[r];Kt(n=q(i)?"default"in i?ei(i.from||r,i.default,!0):ei(i.from||r):ei(i))?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:function(){return n.value},set:function(e){return n.value=e}}):t[r]=n};for(var r in e)n()}(l,r,null),o)for(var T in o){var A=o[T];U(A)&&(r[T]=A.bind(n))}if(i){var N=i.call(n,n);q(N)&&(e.data=Mt(N))}if(Fr=!0,a){var M=function(){var e=a[O],t=U(e)?e.bind(n,n):U(e.get)?e.get.bind(n,n):I,i=!U(e)&&U(e.set)?e.set.bind(n):I,o=da({get:t,set:i});Object.defineProperty(r,O,{enumerable:!0,configurable:!0,get:function(){return o.value},set:function(e){return o.value=e}})};for(var O in a)M()}if(s)for(var P in s)Ur(s[P],r,n,P);if(u){var D=U(u)?u.call(n):u;Reflect.ownKeys(D).forEach((function(e){Zr(e,D[e])}))}function F(e,t){R(t)?t.forEach((function(t){return e(t.bind(n))})):t&&e(t.bind(n))}if(c&&Vr(c,e,"c"),F(wr,f),F(_r,h),F(Cr,d),F(xr,v),F(pr,p),F(mr,m),F(Ar,_),F(Tr,b),F(Ir,w),F(Er,g),F(Sr,y),F(Lr,C),R(x))if(x.length){var j=e.exposed||(e.exposed={});x.forEach((function(e){Object.defineProperty(j,e,{get:function(){return n[e]},set:function(t){return n[e]=t}})}))}else e.exposed||(e.exposed={});k&&e.render===I&&(e.render=k),null!=E&&(e.inheritAttrs=E),S&&(e.components=S),L&&(e.directives=L)}function Vr(e,t,n){sn(R(e)?e.map((function(e){return e.bind(t.proxy)})):e.bind(t.proxy),t,n)}function Ur(e,t,n,r){var i=r.includes(".")?$n(n,r):function(){return n[r]};if(B(e)){var a=t[e];U(a)&&Kn(i,a)}else if(U(e))Kn(i,e.bind(n));else if(q(e))if(R(e))e.forEach((function(e){return Ur(e,t,n,r)}));else{var o=U(e.handler)?e.handler.bind(n):t[e.handler];U(o)&&Kn(i,o,e)}}function Br(e){var t,n=e.type,r=n.mixins,i=n.extends,a=e.appContext,o=a.mixins,s=a.optionsCache,u=a.config.optionMergeStrategies,l=s.get(n);return l?t=l:o.length||r||i?(t={},o.length&&o.forEach((function(e){return zr(t,e,u,!0)})),zr(t,n,u)):t=n,q(n)&&s.set(n,t),t}function zr(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=t.mixins,a=t.extends;for(var o in a&&zr(e,a,n,!0),i&&i.forEach((function(t){return zr(e,t,n,!0)})),t)if(r&&"expose"===o);else{var s=qr[o]||n&&n[o];e[o]=s?s(e[o],t[o]):t[o]}return e}var qr={data:Gr,props:Qr,emits:Qr,methods:Kr,computed:Kr,beforeCreate:Hr,created:Hr,beforeMount:Hr,mounted:Hr,beforeUpdate:Hr,updated:Hr,beforeDestroy:Hr,beforeUnmount:Hr,destroyed:Hr,unmounted:Hr,activated:Hr,deactivated:Hr,errorCaptured:Hr,serverPrefetch:Hr,components:Kr,directives:Kr,watch:function(e,t){if(!e)return t;if(!t)return e;var n=M(Object.create(null),e);for(var r in t)n[r]=Hr(e[r],t[r]);return n},provide:Gr,inject:function(e,t){return Kr(Wr(e),Wr(t))}};function Gr(e,t){return t?e?function(){return M(U(e)?e.call(this,this):e,U(t)?t.call(this,this):t)}:t:e}function Wr(e){if(R(e)){for(var t={},n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function Hr(e,t){return e?_(new Set([].concat(e,t))):t}function Kr(e,t){return e?M(Object.create(null),e,t):t}function Qr(e,t){return e?R(e)&&R(t)?_(new Set([].concat(_(e),_(t)))):M(Object.create(null),Rr(e),Rr(null!=t?t:{})):t}function Yr(){return{app:null,config:{isNativeTag:T,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}var $r=0;function Xr(e,t){return function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;U(n)||(n=M({},n)),null==r||q(r)||(r=null);var i=Yr(),a=new WeakSet,o=!1,s=i.app={_uid:$r++,_component:n,_props:r,_container:null,_context:i,_instance:null,version:pa,get config(){return i.config},set config(e){},use:function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return a.has(e)||(e&&U(e.install)?(a.add(e),e.install.apply(e,[s].concat(n))):U(e)&&(a.add(e),e.apply(void 0,[s].concat(n)))),s},mixin:function(e){return i.mixins.includes(e)||i.mixins.push(e),s},component:function(e,t){return t?(i.components[e]=t,s):i.components[e]},directive:function(e,t){return t?(i.directives[e]=t,s):i.directives[e]},mount:function(a,u,l){if(!o){var c=Vi(n,r);return c.appContext=i,!0===l?l="svg":!1===l&&(l=void 0),u&&t?t(c,a):e(c,a,l),o=!0,s._container=a,a.__vue_app__=s,fa(c.component)||c.component.proxy}},unmount:function(){o&&(e(null,s._container),delete s._container.__vue_app__)},provide:function(e,t){return i.provides[e]=t,s},runWithContext:function(e){var t=Jr;Jr=s;try{return e()}finally{Jr=t}}};return s}}var Jr=null;function Zr(e,t){if(ea){var n=ea.provides,r=ea.parent&&ea.parent.provides;r===n&&(n=ea.provides=Object.create(r)),n[e]=t}else;}function ei(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=ea||Tn;if(r||Jr){var i=r?null==r.parent?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Jr._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&U(t)?t.call(r&&r.proxy):t}}function ti(e,t,n,r){var i,a=w(e.propsOptions,2),o=a[0],s=a[1],u=!1;if(t)for(var l in t)if(!$(l)){var c=t[l],f=void 0;o&&D(o,f=Z(l))?s&&s.includes(f)?(i||(i={}))[f]=c:n[f]=c:In(e.emitsOptions,l)||l in r&&c===r[l]||(r[l]=c,u=!0)}if(s)for(var h=Ut(n),d=i||S,v=0;v<s.length;v++){var p=s[v];n[p]=ni(o,h,p,d[p],e,!D(d,p))}return u}function ni(e,t,n,r,i,a){var o=e[n];if(null!=o){var s=D(o,"default");if(s&&void 0===r){var u=o.default;if(o.type!==Function&&!o.skipFactory&&U(u)){var l=i.propsDefaults;if(n in l)r=l[n];else{var c=ia(i);r=l[n]=u.call(null,t),c()}}else r=u}o[0]&&(a&&!s?r=!1:!o[1]||""!==r&&r!==te(n)||(r=!0))}return r}function ri(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=t.propsCache,i=r.get(e);if(i)return i;var a=e.props,o={},s=[],u=!1;if(!U(e)){var l=function(e){u=!0;var n=w(ri(e,t,!0),2),r=n[0],i=n[1];M(o,r),i&&s.push.apply(s,_(i))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}if(!a&&!u)return q(e)&&r.set(e,L),L;if(R(a))for(var c=0;c<a.length;c++){var f=Z(a[c]);ii(f)&&(o[f]=S)}else if(a)for(var h in a){var d=Z(h);if(ii(d)){var v=a[h],p=o[d]=R(v)||U(v)?{type:v}:M({},v);if(p){var m=si(Boolean,p.type),g=si(String,p.type);p[0]=m>-1,p[1]=g<0||m<g,(m>-1||D(p,"default"))&&s.push(d)}}}var y=[o,s];return q(e)&&r.set(e,y),y}function ii(e){return"$"!==e[0]&&!$(e)}function ai(e){return null===e?"null":"function"==typeof e?e.name||"":"object"===C(e)&&e.constructor&&e.constructor.name||""}function oi(e,t){return ai(e)===ai(t)}function si(e,t){return R(t)?t.findIndex((function(t){return oi(t,e)})):U(t)&&oi(t,e)?0:-1}var ui=function(e){return"_"===e[0]||"$stable"===e},li=function(e){return R(e)?e.map(Wi):[Wi(e)]},ci=function(e,t,n){var r=e._ctx,i=function(){if(ui(a))return 1;var n=e[a];if(U(n))t[a]=function(e,t,n){if(t._n)return t;var r=Pn((function(){return li(t.apply(void 0,arguments))}),n);return r._c=!1,r}(0,n,r);else if(null!=n){var i=li(n);t[a]=function(){return i}}};for(var a in e)i()},fi=function(e,t){var n=li(t);e.slots.default=function(){return n}},hi=function(e,t){if(32&e.vnode.shapeFlag){var n=t._;n?(e.slots=Ut(t),oe(t,"_",n)):ci(t,e.slots={})}else e.slots={},t&&fi(e,t);oe(e.slots,Di,1)},di=function(e,t,n){var r=e.vnode,i=e.slots,a=!0,o=S;if(32&r.shapeFlag){var s=t._;s?n&&1===s?a=!1:(M(i,t),n||1!==s||delete i._):(a=!t.$stable,ci(t,i)),o=t}else t&&(fi(e,t),o={default:1});if(a)for(var u in i)ui(u)||null!=o[u]||delete i[u]};function vi(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(R(e))e.forEach((function(e,a){return vi(e,t&&(R(t)?t[a]:t),n,r,i)}));else if(!dr(r)||i){var a=4&r.shapeFlag?fa(r.component)||r.component.proxy:r.el,o=i?null:a,s=e.i,u=e.r,l=t&&t.r,c=s.refs===S?s.refs={}:s.refs,f=s.setupState;if(null!=l&&l!==u&&(B(l)?(c[l]=null,D(f,l)&&(f[l]=null)):Kt(l)&&(l.value=null)),U(u))on(u,s,12,[o,c]);else{var h=B(u),d=Kt(u);if(h||d){var v=function(){if(e.f){var t=h?D(f,u)?f[u]:c[u]:u.value;i?R(t)&&O(t,a):R(t)?t.includes(a)||t.push(a):h?(c[u]=[a],D(f,u)&&(f[u]=c[u])):(u.value=[a],e.k&&(c[e.k]=u.value))}else h?(c[u]=o,D(f,u)&&(f[u]=o)):d&&(u.value=o,e.k&&(c[e.k]=o))};o?(v.id=-1,pi(v,n)):v()}}}}var pi=function(e,t){var n;t&&t.pendingBranch?R(e)?(n=t.effects).push.apply(n,_(e)):t.effects.push(e):function(e){R(e)?dn.push.apply(dn,_(e)):vn&&vn.includes(e,e.allowRecurse?pn+1:pn)||dn.push(e),bn()}(e)};function mi(e){return function(e,t){var n=le();n.__VUE__=!0;var r,i,a=e.insert,o=e.remove,s=e.patchProp,u=e.createElement,l=e.createText,c=e.createComment,f=e.setText,h=e.setElementText,d=e.parentNode,v=e.nextSibling,p=e.setScopeId,m=void 0===p?I:p,g=e.insertStaticContent,y=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:void 0,s=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null,u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:!!t.dynamicChildren;if(e!==t){e&&!Pi(e,t)&&(r=ee(e),K(e,i,a,!0),e=null),-2===t.patchFlag&&(u=!1,t.dynamicChildren=null);var l=t.type,c=t.ref,f=t.shapeFlag;switch(l){case _i:k(e,t,n,r);break;case Ci:b(e,t,n,r);break;case xi:null==e&&_(t,n,r,o);break;case wi:R(e,t,n,r,i,a,o,s,u);break;default:1&f?E(e,t,n,r,i,a,o,s,u):6&f?F(e,t,n,r,i,a,o,s,u):(64&f||128&f)&&l.process(e,t,n,r,i,a,o,s,u,ie)}null!=c&&i&&vi(c,e&&e.ref,a,t||e,!t)}},k=function(e,t,n,r){if(null==e)a(t.el=l(t.children),n,r);else{var i=t.el=e.el;t.children!==e.children&&f(i,t.children)}},b=function(e,t,n,r){null==e?a(t.el=c(t.children||""),n,r):t.el=e.el},_=function(e,t,n,r){var i=w(g(e.children,t,n,r,e.el,e.anchor),2);e.el=i[0],e.anchor=i[1]},C=function(e,t,n){for(var r,i=e.el,o=e.anchor;i&&i!==o;)r=v(i),a(i,t,n),i=r;a(o,t,n)},x=function(e){for(var t,n=e.el,r=e.anchor;n&&n!==r;)t=v(n),o(n),n=t;o(r)},E=function(e,t,n,r,i,a,o,s,u){"svg"===t.type?o="svg":"math"===t.type&&(o="mathml"),null==e?T(t,n,r,i,a,o,s,u):M(e,t,i,a,o,s,u)},T=function(e,t,n,r,i,o,l,c){var f,d,v=e.props,p=e.shapeFlag,m=e.transition,g=e.dirs;if(f=e.el=u(e.type,o,v&&v.is,v),8&p?h(f,e.children):16&p&&N(e.children,f,null,r,i,gi(e,o),l,c),g&&Zn(e,null,r,"created"),A(f,e,e.scopeId,l,r),v){for(var y in v)"value"===y||$(y)||s(f,y,null,v[y],o,e.children,r,i,J);"value"in v&&s(f,"value",null,v.value,o),(d=v.onVnodeBeforeMount)&&Yi(d,r,e)}g&&Zn(e,null,r,"beforeMount");var k=function(e,t){return(!e||e&&!e.pendingBranch)&&t&&!t.persisted}(i,m);k&&m.beforeEnter(f),a(f,t,n),((d=v&&v.onVnodeMounted)||k||g)&&pi((function(){d&&Yi(d,r,e),k&&m.enter(f),g&&Zn(e,null,r,"mounted")}),i)},A=function e(t,n,r,i,a){if(r&&m(t,r),i)for(var o=0;o<i.length;o++)m(t,i[o]);if(a&&n===a.subTree){var s=a.vnode;e(t,s,s.scopeId,s.slotScopeIds,a.parent)}},N=function(e,t,n,r,i,a,o,s){for(var u=arguments.length>8&&void 0!==arguments[8]?arguments[8]:0;u<e.length;u++){var l=e[u]=s?Hi(e[u]):Wi(e[u]);y(null,l,t,n,r,i,a,o,s)}},M=function(e,t,n,r,i,a,o){var u=t.el=e.el,l=t.patchFlag,c=t.dynamicChildren,f=t.dirs;l|=16&e.patchFlag;var d,v=e.props||S,p=t.props||S;if(n&&yi(n,!1),(d=p.onVnodeBeforeUpdate)&&Yi(d,n,t,e),f&&Zn(t,e,n,"beforeUpdate"),n&&yi(n,!0),c?O(e.dynamicChildren,c,u,n,r,gi(t,i),a):o||z(e,t,u,null,n,r,gi(t,i),a,!1),l>0){if(16&l)P(u,t,v,p,n,r,i);else if(2&l&&v.class!==p.class&&s(u,"class",null,p.class,i),4&l&&s(u,"style",v.style,p.style,i),8&l)for(var m=t.dynamicProps,g=0;g<m.length;g++){var y=m[g],k=v[y],b=p[y];b===k&&"value"!==y||s(u,y,k,b,i,e.children,n,r,J)}1&l&&e.children!==t.children&&h(u,t.children)}else o||null!=c||P(u,t,v,p,n,r,i);((d=p.onVnodeUpdated)||f)&&pi((function(){d&&Yi(d,n,t,e),f&&Zn(t,e,n,"updated")}),r)},O=function(e,t,n,r,i,a,o){for(var s=0;s<t.length;s++){var u=e[s],l=t[s],c=u.el&&(u.type===wi||!Pi(u,l)||70&u.shapeFlag)?d(u.el):n;y(u,l,c,null,r,i,a,o,!0)}},P=function(e,t,n,r,i,a,o){if(n!==r){if(n!==S)for(var u in n)$(u)||u in r||s(e,u,n[u],null,o,t.children,i,a,J);for(var l in r)if(!$(l)){var c=r[l],f=n[l];c!==f&&"value"!==l&&s(e,l,f,c,o,t.children,i,a,J)}"value"in r&&s(e,"value",n.value,r.value,o)}},R=function(e,t,n,r,i,o,s,u,c){var f=t.el=e?e.el:l(""),h=t.anchor=e?e.anchor:l(""),d=t.patchFlag,v=t.dynamicChildren,p=t.slotScopeIds;p&&(u=u?u.concat(p):p),null==e?(a(f,n,r),a(h,n,r),N(t.children||[],n,h,i,o,s,u,c)):d>0&&64&d&&v&&e.dynamicChildren?(O(e.dynamicChildren,v,n,i,o,s,u),(null!=t.key||i&&t===i.subTree)&&ki(e,t,!0)):z(e,t,n,h,i,o,s,u,c)},F=function(e,t,n,r,i,a,o,s,u){t.slotScopeIds=s,null==e?512&t.shapeFlag?i.ctx.activate(t,n,r,o,u):j(t,n,r,i,a,o,u):V(e,t,u)},j=function(e,t,n,r,i,a,o){var s=e.component=function(e,t,n){var r=e.type,i=(t?t.appContext:e.appContext)||$i,a={uid:Xi++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Ee(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:ri(r,i),emitsOptions:Ln(r,i),emit:null,emitted:null,propsDefaults:S,inheritAttrs:r.inheritAttrs,ctx:S,data:S,props:S,attrs:S,slots:S,refs:S,setupState:S,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};a.ctx={_:a},a.root=t?t.root:a,a.emit=Sn.bind(null,a),e.ce&&e.ce(a);return a}(e,r,i);if(vr(e)&&(s.ctx.renderer=ie),function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&Zi(t);var n=e.vnode,r=n.props,i=n.children,a=oa(e);(function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i={},a={};for(var o in oe(a,Di,1),e.propsDefaults=Object.create(null),ti(e,t,i,a),e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Ot(i):e.type.props?e.props=i:e.props=a,e.attrs=a})(e,r,a,t),hi(e,i);var o=a?function(e,t){var n=e.type;e.accessCache=Object.create(null),e.proxy=Bt(new Proxy(e.ctx,Dr));var r=n.setup;if(r){var i=e.setupContext=r.length>1?function(e){var t=function(t){e.exposed=t||{}};return{get attrs(){return function(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get:function(t,n){return Ke(e,0,"$attrs"),t[n]}}))}(e)},slots:e.slots,emit:e.emit,expose:t}}(e):null,a=ia(e);Re();var o=on(r,e,0,[e.props,i]);if(Fe(),a(),G(o)){if(o.then(aa,aa),t)return o.then((function(n){la(e,n,t)})).catch((function(t){un(t,e,0)}));e.asyncDep=o}else la(e,o,t)}else ca(e,t)}(e,t):void 0;t&&Zi(!1)}(s),s.asyncDep){if(i&&i.registerDep(s,U),!e.el){var u=s.subTree=Vi(Ci);b(null,u,t,n)}}else U(s,e,t,n,i,a,o)},V=function(e,t,n){var r,i,a=t.component=e.component;if(function(e,t,n){var r=e.props,i=e.children,a=e.component,o=t.props,s=t.children,u=t.patchFlag,l=a.emitsOptions;if(t.dirs||t.transition)return!0;if(!(n&&u>=0))return!(!i&&!s||s&&s.$stable)||r!==o&&(r?!o||jn(r,o,l):!!o);if(1024&u)return!0;if(16&u)return r?jn(r,o,l):!!o;if(8&u)for(var c=t.dynamicProps,f=0;f<c.length;f++){var h=c[f];if(o[h]!==r[h]&&!In(l,h))return!0}return!1}(e,t,n)){if(a.asyncDep&&!a.asyncResolved)return void B(a,t,n);a.next=t,r=a.update,(i=fn.indexOf(r))>hn&&fn.splice(i,1),a.effect.dirty=!0,a.update()}else t.el=e.el,a.vnode=t},U=function(e,t,n,r,a,o,s){var u=function u(){if(e.isMounted){var l=e.next,c=e.bu,f=e.u,h=e.parent,v=e.vnode,p=bi(e);if(p)return l&&(l.el=v.el,B(e,l,s)),void p.asyncDep.then((function(){e.isUnmounted||u()}));var m,g=l;yi(e,!1),l?(l.el=v.el,B(e,l,s)):l=v,c&&ae(c),(m=l.props&&l.props.onVnodeBeforeUpdate)&&Yi(m,h,l,v),yi(e,!0);var k=Dn(e),b=e.subTree;e.subTree=k,y(b,k,d(b.el),ee(b),e,a,o),l.el=k.el,null===g&&function(e,t){for(var n=e.vnode,r=e.parent;r;){var i=r.subTree;if(i.suspense&&i.suspense.activeBranch===n&&(i.el=n.el),i!==n)break;(n=r.vnode).el=t,r=r.parent}}(e,k.el),f&&pi(f,a),(m=l.props&&l.props.onVnodeUpdated)&&pi((function(){return Yi(m,h,l,v)}),a)}else{var w,_=t,C=_.el,x=_.props,E=e.bm,S=e.m,L=e.parent,I=dr(t);if(yi(e,!1),E&&ae(E),!I&&(w=x&&x.onVnodeBeforeMount)&&Yi(w,L,t),yi(e,!0),C&&i){var T=function(){e.subTree=Dn(e),i(C,e.subTree,e,a,null)};I?t.type.__asyncLoader().then((function(){return!e.isUnmounted&&T()})):T()}else{var A=e.subTree=Dn(e);y(null,A,n,r,e,a,o),t.el=A.el}if(S&&pi(S,a),!I&&(w=x&&x.onVnodeMounted)){var N=t;pi((function(){return Yi(w,L,N)}),a)}(256&t.shapeFlag||L&&dr(L.vnode)&&256&L.vnode.shapeFlag)&&e.a&&pi(e.a,a),e.isMounted=!0,t=n=r=null}},l=e.effect=new Te(u,I,(function(){return kn(c)}),e.scope),c=e.update=function(){l.dirty&&l.run()};c.id=e.uid,yi(e,!0),c()},B=function(e,t,n){t.component=e;var r=e.vnode.props;e.vnode=t,e.next=null,function(e,t,n,r){var i=e.props,a=e.attrs,o=e.vnode.patchFlag,s=Ut(i),u=w(e.propsOptions,1)[0],l=!1;if(!(r||o>0)||16&o){var c;for(var f in ti(e,t,i,a)&&(l=!0),s)t&&(D(t,f)||(c=te(f))!==f&&D(t,c))||(u?!n||void 0===n[f]&&void 0===n[c]||(i[f]=ni(u,s,f,void 0,e,!0)):delete i[f]);if(a!==s)for(var h in a)t&&D(t,h)||(delete a[h],l=!0)}else if(8&o)for(var d=e.vnode.dynamicProps,v=0;v<d.length;v++){var p=d[v];if(!In(e.emitsOptions,p)){var m=t[p];if(u)if(D(a,p))m!==a[p]&&(a[p]=m,l=!0);else{var g=Z(p);i[g]=ni(u,s,g,m,e,!1)}else m!==a[p]&&(a[p]=m,l=!0)}}l&&Qe(e,"set","$attrs")}(e,t.props,r,n),di(e,t.children,n),Re(),wn(e),Fe()},z=function(e,t,n,r,i,a,o,s){var u=arguments.length>8&&void 0!==arguments[8]&&arguments[8],l=e&&e.children,c=e?e.shapeFlag:0,f=t.children,d=t.patchFlag,v=t.shapeFlag;if(d>0){if(128&d)return void W(l,f,n,r,i,a,o,s,u);if(256&d)return void q(l,f,n,r,i,a,o,s,u)}8&v?(16&c&&J(l,i,a),f!==l&&h(n,f)):16&c?16&v?W(l,f,n,r,i,a,o,s,u):J(l,i,a,!0):(8&c&&h(n,""),16&v&&N(f,n,r,i,a,o,s,u))},q=function(e,t,n,r,i,a,o,s,u){t=t||L;var l,c=(e=e||L).length,f=t.length,h=Math.min(c,f);for(l=0;l<h;l++){var d=t[l]=u?Hi(t[l]):Wi(t[l]);y(e[l],d,n,null,i,a,o,s,u)}c>f?J(e,i,a,!0,!1,h):N(t,n,r,i,a,o,s,u,h)},W=function(e,t,n,r,i,a,o,s,u){for(var l=0,c=t.length,f=e.length-1,h=c-1;l<=f&&l<=h;){var d=e[l],v=t[l]=u?Hi(t[l]):Wi(t[l]);if(!Pi(d,v))break;y(d,v,n,null,i,a,o,s,u),l++}for(;l<=f&&l<=h;){var p=e[f],m=t[h]=u?Hi(t[h]):Wi(t[h]);if(!Pi(p,m))break;y(p,m,n,null,i,a,o,s,u),f--,h--}if(l>f){if(l<=h)for(var g=h+1,k=g<c?t[g].el:r;l<=h;)y(null,t[l]=u?Hi(t[l]):Wi(t[l]),n,k,i,a,o,s,u),l++}else if(l>h)for(;l<=f;)K(e[l],i,a,!0),l++;else{var b,w=l,_=l,C=new Map;for(l=_;l<=h;l++){var x=t[l]=u?Hi(t[l]):Wi(t[l]);null!=x.key&&C.set(x.key,l)}var E=0,S=h-_+1,I=!1,T=0,A=new Array(S);for(l=0;l<S;l++)A[l]=0;for(l=w;l<=f;l++){var N=e[l];if(E>=S)K(N,i,a,!0);else{var M=void 0;if(null!=N.key)M=C.get(N.key);else for(b=_;b<=h;b++)if(0===A[b-_]&&Pi(N,t[b])){M=b;break}void 0===M?K(N,i,a,!0):(A[M-_]=l+1,M>=T?T=M:I=!0,y(N,t[M],n,null,i,a,o,s,u),E++)}}var O=I?function(e){var t,n,r,i,a,o=e.slice(),s=[0],u=e.length;for(t=0;t<u;t++){var l=e[t];if(0!==l){if(e[n=s[s.length-1]]<l){o[t]=n,s.push(t);continue}for(r=0,i=s.length-1;r<i;)e[s[a=r+i>>1]]<l?r=a+1:i=a;l<e[s[r]]&&(r>0&&(o[t]=s[r-1]),s[r]=t)}}r=s.length,i=s[r-1];for(;r-- >0;)s[r]=i,i=o[i];return s}(A):L;for(b=O.length-1,l=S-1;l>=0;l--){var P=_+l,D=t[P],R=P+1<c?t[P+1].el:r;0===A[l]?y(null,D,n,R,i,a,o,s,u):I&&(b<0||l!==O[b]?H(D,n,R,2):b--)}}},H=function e(t,n,r,i){var o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=t.el,u=t.type,l=t.transition,c=t.children,f=t.shapeFlag;if(6&f)e(t.component.subTree,n,r,i);else if(128&f)t.suspense.move(n,r,i);else if(64&f)u.move(t,n,r,ie);else if(u!==wi){if(u!==xi)if(2!==i&&1&f&&l)if(0===i)l.beforeEnter(s),a(s,n,r),pi((function(){return l.enter(s)}),o);else{var h=l.leave,d=l.delayLeave,v=l.afterLeave,p=function(){return a(s,n,r)},m=function(){h(s,(function(){p(),v&&v()}))};d?d(s,p,m):m()}else a(s,n,r);else C(t,n,r)}else{a(s,n,r);for(var g=0;g<c.length;g++)e(c[g],n,r,i);a(t.anchor,n,r)}},K=function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=e.type,o=e.props,s=e.ref,u=e.children,l=e.dynamicChildren,c=e.shapeFlag,f=e.patchFlag,h=e.dirs;if(null!=s&&vi(s,null,n,e,!0),256&c)t.ctx.deactivate(e);else{var d,v=1&c&&h,p=!dr(e);if(p&&(d=o&&o.onVnodeBeforeUnmount)&&Yi(d,t,e),6&c)X(e.component,n,r);else{if(128&c)return void e.suspense.unmount(n,r);v&&Zn(e,null,t,"beforeUnmount"),64&c?e.type.remove(e,t,n,i,ie,r):l&&(a!==wi||f>0&&64&f)?J(l,t,n,!1,!0):(a===wi&&384&f||!i&&16&c)&&J(u,t,n),r&&Q(e)}(p&&(d=o&&o.onVnodeUnmounted)||v)&&pi((function(){d&&Yi(d,t,e),v&&Zn(e,null,t,"unmounted")}),n)}},Q=function(e){var t=e.type,n=e.el,r=e.anchor,i=e.transition;if(t!==wi)if(t!==xi){var a=function(){o(n),i&&!i.persisted&&i.afterLeave&&i.afterLeave()};if(1&e.shapeFlag&&i&&!i.persisted){var s=i.leave,u=i.delayLeave,l=function(){return s(n,a)};u?u(e.el,a,l):l()}else a()}else x(e);else Y(n,r)},Y=function(e,t){for(var n;e!==t;)n=v(e),o(e),e=n;o(t)},X=function(e,t,n){var r=e.bum,i=e.scope,a=e.update,o=e.subTree,s=e.um;r&&ae(r),i.stop(),a&&(a.active=!1,K(o,e,t,n)),s&&pi(s,t),pi((function(){e.isUnmounted=!0}),t),t&&t.pendingBranch&&!t.isUnmounted&&e.asyncDep&&!e.asyncResolved&&e.suspenseId===t.pendingId&&(t.deps--,0===t.deps&&t.resolve())},J=function(e,t,n){for(var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;a<e.length;a++)K(e[a],t,n,r,i)},ee=function e(t){return 6&t.shapeFlag?e(t.component.subTree):128&t.shapeFlag?t.suspense.next():v(t.anchor||t.el)},ne=!1,re=function(e,t,n){null==e?t._vnode&&K(t._vnode,null,null,!0):y(t._vnode||null,e,t,null,null,null,n),ne||(ne=!0,wn(),_n(),ne=!1),t._vnode=e},ie={p:y,um:K,m:H,r:Q,mt:j,mc:N,pc:z,pbc:O,n:ee,o:e};if(t){var se=w(t(ie),2);r=se[0],i=se[1]}return{render:re,hydrate:r,createApp:Xr(re,r)}}(e)}function gi(e,t){var n=e.type,r=e.props;return"svg"===t&&"foreignObject"===n||"mathml"===t&&"annotation-xml"===n&&r&&r.encoding&&r.encoding.includes("html")?void 0:t}function yi(e,t){var n=e.effect,r=e.update;n.allowRecurse=r.allowRecurse=t}function ki(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.children,i=t.children;if(R(r)&&R(i))for(var a=0;a<r.length;a++){var o=r[a],s=i[a];1&s.shapeFlag&&!s.dynamicChildren&&((s.patchFlag<=0||32===s.patchFlag)&&((s=i[a]=Hi(i[a])).el=o.el),n||ki(o,s)),s.type===_i&&(s.el=o.el)}}function bi(e){var t=e.subTree.component;if(t)return t.asyncDep&&!t.asyncResolved?t:bi(t)}var wi=Symbol.for("v-fgt"),_i=Symbol.for("v-txt"),Ci=Symbol.for("v-cmt"),xi=Symbol.for("v-stc"),Ei=[],Si=null;function Li(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ei.push(Si=e?null:[])}var Ii=1;function Ti(e){Ii+=e}function Ai(e){return e.dynamicChildren=Ii>0?Si||L:null,Ei.pop(),Si=Ei[Ei.length-1]||null,Ii>0&&Si&&Si.push(e),e}function Ni(e,t,n,r,i,a){return Ai(ji(e,t,n,r,i,a,!0))}function Mi(e,t,n,r,i){return Ai(Vi(e,t,n,r,i,!0))}function Oi(e){return!!e&&!0===e.__v_isVNode}function Pi(e,t){return e.type===t.type&&e.key===t.key}var Di="__vInternal",Ri=function(e){var t=e.key;return null!=t?t:null},Fi=function(e){var t=e.ref,n=e.ref_key,r=e.ref_for;return"number"==typeof t&&(t=""+t),null!=t?B(t)||Kt(t)||U(t)?{i:Tn,r:t,k:n,f:!!r}:t:null};function ji(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:e===wi?0:1,o=arguments.length>6&&void 0!==arguments[6]&&arguments[6],s=arguments.length>7&&void 0!==arguments[7]&&arguments[7],u={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&Ri(t),ref:t&&Fi(t),scopeId:An,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:a,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:Tn};return s?(Ki(u,n),128&a&&e.normalize(u)):n&&(u.shapeFlag|=B(n)?8:16),Ii>0&&!o&&Si&&(u.patchFlag>0||6&a)&&32!==u.patchFlag&&Si.push(u),u}var Vi=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=arguments.length>5&&void 0!==arguments[5]&&arguments[5];e&&e!==Bn||(e=Ci);if(Oi(e)){var o=Bi(e,t,!0);return n&&Ki(o,n),Ii>0&&!a&&Si&&(6&o.shapeFlag?Si[Si.indexOf(e)]=o:Si.push(o)),o.patchFlag|=-2,o}s=e,U(s)&&"__vccOpts"in s&&(e=e.__vccOpts);var s;if(t){var u=t=Ui(t),l=u.class,c=u.style;l&&!B(l)&&(t.class=pe(l)),q(c)&&(Vt(c)&&!R(c)&&(c=M({},c)),t.style=ce(c))}var f=B(e)?1:function(e){return e.__isSuspense}(e)?128:function(e){return e.__isTeleport}(e)?64:q(e)?4:U(e)?2:0;return ji(e,t,n,r,i,f,a,!0)};function Ui(e){return e?Vt(e)||Di in e?M({},e):e:null}function Bi(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=e.props,i=e.ref,a=e.patchFlag,o=e.children,s=t?Qi(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:s,key:s&&Ri(s),ref:t&&t.ref?n&&i?R(i)?i.concat(Fi(t)):[i,Fi(t)]:Fi(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==wi?-1===a?16:16|a:a,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&Bi(e.ssContent),ssFallback:e.ssFallback&&Bi(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function zi(){return Vi(_i,null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:" ",arguments.length>1&&void 0!==arguments[1]?arguments[1]:0)}function qi(e,t){var n=Vi(xi,null,e);return n.staticCount=t,n}function Gi(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?(Li(),Mi(Ci,null,e)):Vi(Ci,null,e)}function Wi(e){return null==e||"boolean"==typeof e?Vi(Ci):R(e)?Vi(wi,null,e.slice()):"object"===C(e)?Hi(e):Vi(_i,null,String(e))}function Hi(e){return null===e.el&&-1!==e.patchFlag||e.memo?e:Bi(e)}function Ki(e,t){var n=0,r=e.shapeFlag;if(null==t)t=null;else if(R(t))n=16;else if("object"===C(t)){if(65&r){var i=t.default;return void(i&&(i._c&&(i._d=!1),Ki(e,i()),i._c&&(i._d=!0)))}n=32;var a=t._;a||Di in t?3===a&&Tn&&(1===Tn.slots._?t._=1:(t._=2,e.patchFlag|=1024)):t._ctx=Tn}else U(t)?(t={default:t,_ctx:Tn},n=32):(t=String(t),64&r?(n=16,t=[zi(t)]):n=8);e.children=t,e.shapeFlag|=n}function Qi(){for(var e={},t=0;t<arguments.length;t++){var n=t<0||arguments.length<=t?void 0:arguments[t];for(var r in n)if("class"===r)e.class!==n.class&&(e.class=pe([e.class,n.class]));else if("style"===r)e.style=ce([e.style,n.style]);else if(A(r)){var i=e[r],a=n[r];!a||i===a||R(i)&&i.includes(a)||(e[r]=i?[].concat(i,a):a)}else""!==r&&(e[r]=n[r])}return e}function Yi(e,t,n){sn(e,t,7,[n,arguments.length>3&&void 0!==arguments[3]?arguments[3]:null])}var $i=Yr(),Xi=0;var Ji,Zi,ea=null,ta=function(){return ea||Tn},na=le(),ra=function(e,t){var n;return(n=na[e])||(n=na[e]=[]),n.push(t),function(e){n.length>1?n.forEach((function(t){return t(e)})):n[0](e)}};Ji=ra("__VUE_INSTANCE_SETTERS__",(function(e){return ea=e})),Zi=ra("__VUE_SSR_SETTERS__",(function(e){return ua=e}));var ia=function(e){var t=ea;return Ji(e),e.scope.on(),function(){e.scope.off(),Ji(t)}},aa=function(){ea&&ea.scope.off(),Ji(null)};function oa(e){return 4&e.vnode.shapeFlag}var sa,ua=!1;function la(e,t,n){U(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:q(t)&&(e.setupState=en(t)),ca(e,n)}function ca(e,t,n){var r=e.type;if(!e.render){if(!t&&sa&&!r.render){var i=r.template||Br(e).template;if(i){var a=e.appContext.config,o=a.isCustomElement,s=a.compilerOptions,u=r.delimiters,l=r.compilerOptions,c=M(M({isCustomElement:o,delimiters:u},s),l);r.render=sa(i,c)}}e.render=r.render||I}var f=ia(e);Re();try{jr(e)}finally{Fe(),f()}}function fa(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(en(Bt(e.exposed)),{get:function(t,n){return n in t?t[n]:n in Or?Or[n](e):void 0},has:function(e,t){return t in e||t in Or}}))}function ha(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return U(e)?e.displayName||e.name:e.name||t&&e.__name}var da=function(e,t){var n=function(e,t){var n,r,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=U(e);return a?(n=e,r=I):(n=e.get,r=e.set),new Gt(n,r,a||!r,i)}(e,t,ua);return n};function va(e,t,n){var r=arguments.length;return 2===r?q(t)&&!R(t)?Oi(t)?Vi(e,null,[t]):Vi(e,t):Vi(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):3===r&&Oi(n)&&(n=[n]),Vi(e,t,n))}var pa="3.4.21",ma="undefined"!=typeof document?document:null,ga=ma&&ma.createElement("template"),ya={insert:function(e,t,n){t.insertBefore(e,n||null)},remove:function(e){var t=e.parentNode;t&&t.removeChild(e)},createElement:function(e,t,n,r){var i="svg"===t?ma.createElementNS("http://www.w3.org/2000/svg",e):"mathml"===t?ma.createElementNS("http://www.w3.org/1998/Math/MathML",e):ma.createElement(e,n?{is:n}:void 0);return"select"===e&&r&&null!=r.multiple&&i.setAttribute("multiple",r.multiple),i},createText:function(e){return ma.createTextNode(e)},createComment:function(e){return ma.createComment(e)},setText:function(e,t){e.nodeValue=t},setElementText:function(e,t){e.textContent=t},parentNode:function(e){return e.parentNode},nextSibling:function(e){return e.nextSibling},querySelector:function(e){return ma.querySelector(e)},setScopeId:function(e,t){e.setAttribute(t,"")},insertStaticContent:function(e,t,n,r,i,a){var o=n?n.previousSibling:t.lastChild;if(i&&(i===a||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),i!==a&&(i=i.nextSibling););else{ga.innerHTML="svg"===r?"<svg>".concat(e,"</svg>"):"mathml"===r?"<math>".concat(e,"</math>"):e;var s=ga.content;if("svg"===r||"mathml"===r){for(var u=s.firstChild;u.firstChild;)s.appendChild(u.firstChild);s.removeChild(u)}t.insertBefore(s,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}},ka="transition",ba="animation",wa=Symbol("_vtc"),_a=function(e,t){var n=t.slots;return va(ar,La(e),n)};
/**
            * @vue/runtime-dom v3.4.21
            * (c) 2018-present Yuxi (Evan) You and Vue contributors
            * @license MIT
            **/_a.displayName="Transition";var Ca={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},xa=_a.props=M({},ir,Ca),Ea=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];R(e)?e.forEach((function(e){return e.apply(void 0,_(t))})):e&&e.apply(void 0,_(t))},Sa=function(e){return!!e&&(R(e)?e.some((function(e){return e.length>1})):e.length>1)};function La(e){var t={};for(var n in e)n in Ca||(t[n]=e[n]);if(!1===e.css)return t;var r=e.name,i=void 0===r?"v":r,a=e.type,o=e.duration,s=e.enterFromClass,u=void 0===s?"".concat(i,"-enter-from"):s,l=e.enterActiveClass,c=void 0===l?"".concat(i,"-enter-active"):l,f=e.enterToClass,h=void 0===f?"".concat(i,"-enter-to"):f,d=e.appearFromClass,v=void 0===d?u:d,p=e.appearActiveClass,m=void 0===p?c:p,g=e.appearToClass,y=void 0===g?h:g,k=e.leaveFromClass,b=void 0===k?"".concat(i,"-leave-from"):k,w=e.leaveActiveClass,_=void 0===w?"".concat(i,"-leave-active"):w,C=e.leaveToClass,x=void 0===C?"".concat(i,"-leave-to"):C,E=function(e){if(null==e)return null;if(q(e))return[Ia(e.enter),Ia(e.leave)];var t=Ia(e);return[t,t]}(o),S=E&&E[0],L=E&&E[1],I=t.onBeforeEnter,T=t.onEnter,A=t.onEnterCancelled,N=t.onLeave,O=t.onLeaveCancelled,P=t.onBeforeAppear,D=void 0===P?I:P,R=t.onAppear,F=void 0===R?T:R,j=t.onAppearCancelled,V=void 0===j?A:j,U=function(e,t,n){Aa(e,t?y:h),Aa(e,t?m:c),n&&n()},B=function(e,t){e._isLeaving=!1,Aa(e,b),Aa(e,x),Aa(e,_),t&&t()},z=function(e){return function(t,n){var r=e?F:T,i=function(){return U(t,e,n)};Ea(r,[t,i]),Na((function(){Aa(t,e?v:u),Ta(t,e?y:h),Sa(r)||Oa(t,a,S,i)}))}};return M(t,{onBeforeEnter:function(e){Ea(I,[e]),Ta(e,u),Ta(e,c)},onBeforeAppear:function(e){Ea(D,[e]),Ta(e,v),Ta(e,m)},onEnter:z(!1),onAppear:z(!0),onLeave:function(e,t){e._isLeaving=!0;var n=function(){return B(e,t)};Ta(e,b),Fa(),Ta(e,_),Na((function(){e._isLeaving&&(Aa(e,b),Ta(e,x),Sa(N)||Oa(e,a,L,n))})),Ea(N,[e,n])},onEnterCancelled:function(e){U(e,!1),Ea(A,[e])},onAppearCancelled:function(e){U(e,!0),Ea(V,[e])},onLeaveCancelled:function(e){B(e),Ea(O,[e])}})}function Ia(e){return ue(e)}function Ta(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.add(t)})),(e[wa]||(e[wa]=new Set)).add(t)}function Aa(e,t){t.split(/\s+/).forEach((function(t){return t&&e.classList.remove(t)}));var n=e[wa];n&&(n.delete(t),n.size||(e[wa]=void 0))}function Na(e){requestAnimationFrame((function(){requestAnimationFrame(e)}))}var Ma=0;function Oa(e,t,n,r){var i=e._endId=++Ma,a=function(){i===e._endId&&r()};if(n)return setTimeout(a,n);var o=Pa(e,t),s=o.type,u=o.timeout,l=o.propCount;if(!s)return r();var c=s+"end",f=0,h=function(){e.removeEventListener(c,d),a()},d=function(t){t.target===e&&++f>=l&&h()};setTimeout((function(){f<l&&h()}),u+1),e.addEventListener(c,d)}function Pa(e,t){var n=window.getComputedStyle(e),r=function(e){return(n[e]||"").split(", ")},i=r("".concat(ka,"Delay")),a=r("".concat(ka,"Duration")),o=Da(i,a),s=r("".concat(ba,"Delay")),u=r("".concat(ba,"Duration")),l=Da(s,u),c=null,f=0,h=0;return t===ka?o>0&&(c=ka,f=o,h=a.length):t===ba?l>0&&(c=ba,f=l,h=u.length):h=(c=(f=Math.max(o,l))>0?o>l?ka:ba:null)?c===ka?a.length:u.length:0,{type:c,timeout:f,propCount:h,hasTransform:c===ka&&/\b(transform|all)(,|$)/.test(r("".concat(ka,"Property")).toString())}}function Da(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max.apply(Math,_(t.map((function(t,n){return Ra(t)+Ra(e[n])}))))}function Ra(e){return"auto"===e?0:1e3*Number(e.slice(0,-1).replace(",","."))}function Fa(){return document.body.offsetHeight}var ja=Symbol("_vod"),Va=Symbol("_vsh"),Ua=Symbol("");function Ba(e){var t=ta();if(t){var n=t.ut=function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:e(t.proxy);Array.from(document.querySelectorAll('[data-v-owner="'.concat(t.uid,'"]'))).forEach((function(e){return qa(e,n)}))},r=function(){var r=e(t.proxy);za(t.subTree,r),n(r)};Qn(r,null,{flush:"post"}),_r((function(){var e=new MutationObserver(r);e.observe(t.subTree.el.parentNode,{childList:!0}),Sr((function(){return e.disconnect()}))}))}}function za(e,t){if(128&e.shapeFlag){var n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push((function(){za(n.activeBranch,t)}))}for(;e.component;)e=e.component.subTree;if(1&e.shapeFlag&&e.el)qa(e.el,t);else if(e.type===wi)e.children.forEach((function(e){return za(e,t)}));else if(e.type===xi)for(var r=e,i=r.el,a=r.anchor;i&&(qa(i,t),i!==a);)i=i.nextSibling}function qa(e,t){if(1===e.nodeType){var n=e.style,r="";for(var i in t)n.setProperty("--".concat(i),t[i]),r+="--".concat(i,": ").concat(t[i],";");n[Ua]=r}}var Ga=/(^|;)\s*display\s*:/;var Wa=/\s*!important$/;function Ha(e,t,n){if(R(n))n.forEach((function(n){return Ha(e,t,n)}));else if(null==n&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{var r=function(e,t){var n=Qa[t];if(n)return n;var r=Z(t);if("filter"!==r&&r in e)return Qa[t]=r;r=ne(r);for(var i=0;i<Ka.length;i++){var a=Ka[i]+r;if(a in e)return Qa[t]=a}return t}(e,t);Wa.test(n)?e.setProperty(te(r),n.replace(Wa,""),"important"):e[r]=n}}var Ka=["Webkit","Moz","ms"],Qa={};var Ya="http://www.w3.org/1999/xlink";function $a(e,t,n,r){e.addEventListener(t,n,r)}var Xa=Symbol("_vei");function Ja(e,t,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,a=e[Xa]||(e[Xa]={}),o=a[t];if(r&&o)o.value=r;else{var s=function(e){var t;if(Za.test(e)){var n;for(t={};n=e.match(Za);)e=e.slice(0,e.length-n[0].length),t[n[0].toLowerCase()]=!0}var r=":"===e[2]?e.slice(3):te(e.slice(2));return[r,t]}(t),u=w(s,2),l=u[0],c=u[1];if(r){var f=a[t]=function(e,t){var n=function e(n){if(n._vts){if(n._vts<=e.attached)return}else n._vts=Date.now();sn(function(e,t){if(R(t)){var n=e.stopImmediatePropagation;return e.stopImmediatePropagation=function(){n.call(e),e._stopped=!0},t.map((function(e){return function(t){return!t._stopped&&e&&e(t)}}))}return t}(n,e.value),t,5,[n])};return n.value=e,n.attached=no(),n}(r,i);$a(e,l,f,c)}else o&&(!function(e,t,n,r){e.removeEventListener(t,n,r)}(e,l,o,c),a[t]=void 0)}}var Za=/(?:Once|Passive|Capture)$/;var eo=0,to=Promise.resolve(),no=function(){return eo||(to.then((function(){return eo=0})),eo=Date.now())};var ro=function(e){return 111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)>96&&e.charCodeAt(2)<123};var io=new WeakMap,ao=new WeakMap,oo=Symbol("_moveCb"),so=Symbol("_enterCb"),uo={name:"TransitionGroup",props:M({},xa,{tag:String,moveClass:String}),setup:function(e,t){var n,r,i=t.slots,a=ta(),o=nr();return xr((function(){if(n.length){var t=e.moveClass||"".concat(e.name||"v","-move");if(function(e,t,n){var r=e.cloneNode(),i=e[wa];i&&i.forEach((function(e){e.split(/\s+/).forEach((function(e){return e&&r.classList.remove(e)}))}));n.split(/\s+/).forEach((function(e){return e&&r.classList.add(e)})),r.style.display="none";var a=1===t.nodeType?t:t.parentNode;a.appendChild(r);var o=Pa(r).hasTransform;return a.removeChild(r),o}(n[0].el,a.vnode.el,t)){n.forEach(co),n.forEach(fo);var r=n.filter(ho);Fa(),r.forEach((function(e){var n=e.el,r=n.style;Ta(n,t),r.transform=r.webkitTransform=r.transitionDuration="";var i=n[oo]=function(e){e&&e.target!==n||e&&!/transform$/.test(e.propertyName)||(n.removeEventListener("transitionend",i),n[oo]=null,Aa(n,t))};n.addEventListener("transitionend",i)}))}}})),function(){var t=Ut(e),s=La(t),u=t.tag||wi;n=r,r=i.default?fr(i.default()):[];for(var l=0;l<r.length;l++){var c=r[l];null!=c.key&&cr(c,sr(c,s,o,a))}if(n)for(var f=0;f<n.length;f++){var h=n[f];cr(h,sr(h,s,o,a)),io.set(h,h.el.getBoundingClientRect())}return Vi(u,null,r)}}},lo=uo;function co(e){var t=e.el;t[oo]&&t[oo](),t[so]&&t[so]()}function fo(e){ao.set(e,e.el.getBoundingClientRect())}function ho(e){var t=io.get(e),n=ao.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){var a=e.el.style;return a.transform=a.webkitTransform="translate(".concat(r,"px,").concat(i,"px)"),a.transitionDuration="0s",e}}var vo=function(e){var t=e.props["onUpdate:modelValue"]||!1;return R(t)?function(e){return ae(t,e)}:t};function po(e){e.target.composing=!0}function mo(e){var t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}var go=Symbol("_assign"),yo={created:function(e,t,n){var r=t.modifiers,i=r.lazy,a=r.trim,o=r.number;e[go]=vo(n);var s=o||n.props&&"number"===n.props.type;$a(e,i?"change":"input",(function(t){if(!t.target.composing){var n=e.value;a&&(n=n.trim()),s&&(n=se(n)),e[go](n)}})),a&&$a(e,"change",(function(){e.value=e.value.trim()})),i||($a(e,"compositionstart",po),$a(e,"compositionend",mo),$a(e,"change",mo))},mounted:function(e,t){var n=t.value;e.value=null==n?"":n},beforeUpdate:function(e,t,n){var r=t.value,i=t.modifiers,a=i.lazy,o=i.trim,s=i.number;if(e[go]=vo(n),!e.composing){var u=null==r?"":r;if((s||"number"===e.type?se(e.value):e.value)!==u){if(document.activeElement===e&&"range"!==e.type){if(a)return;if(o&&e.value.trim()===u)return}e.value=u}}}},ko={deep:!0,created:function(e,t,n){e[go]=vo(n),$a(e,"change",(function(){var t=e._modelValue,n=Co(e),r=e.checked,i=e[go];if(R(t)){var a=ke(t,n),o=-1!==a;if(r&&!o)i(t.concat(n));else if(!r&&o){var s=_(t);s.splice(a,1),i(s)}}else if(j(t)){var u=new Set(t);r?u.add(n):u.delete(n),i(u)}else i(xo(e,r))}))},mounted:bo,beforeUpdate:function(e,t,n){e[go]=vo(n),bo(e,t,n)}};function bo(e,t,n){var r=t.value,i=t.oldValue;e._modelValue=r,R(r)?e.checked=ke(r,n.props.value)>-1:j(r)?e.checked=r.has(n.props.value):r!==i&&(e.checked=ye(r,xo(e,!0)))}var wo={deep:!0,created:function(e,t,n){var r=t.value,i=t.modifiers.number,a=j(r);$a(e,"change",(function(){var t=Array.prototype.filter.call(e.options,(function(e){return e.selected})).map((function(e){return i?se(Co(e)):Co(e)}));e[go](e.multiple?a?new Set(t):t:t[0]),e._assigning=!0,yn((function(){e._assigning=!1}))})),e[go]=vo(n)},mounted:function(e,t){_o(e,t.value,t.modifiers.number)},beforeUpdate:function(e,t,n){e[go]=vo(n)},updated:function(e,t){var n=t.value,r=t.modifiers.number;e._assigning||_o(e,n,r)}};function _o(e,t,n){var r=e.multiple,i=R(t);if(!r||i||j(t)){for(var a=0,o=e.options.length;a<o;a++){var s=e.options[a],u=Co(s);if(r)if(i){var l=C(u);s.selected="string"===l||"number"===l?t.includes(n?se(u):u):ke(t,u)>-1}else s.selected=t.has(u);else if(ye(Co(s),t))return void(e.selectedIndex!==a&&(e.selectedIndex=a))}r||-1===e.selectedIndex||(e.selectedIndex=-1)}}function Co(e){return"_value"in e?e._value:e.value}function xo(e,t){var n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}var Eo,So=M({patchProp:function(e,t,n,r,i,a,o,s,u){var l="svg"===i;"class"===t?function(e,t,n){var r=e[wa];r&&(t=(t?[t].concat(_(r)):_(r)).join(" ")),null==t?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}(e,r,l):"style"===t?function(e,t,n){var r=e.style,i=B(n),a=!1;if(n&&!i){if(t)if(B(t)){var o,s=x(t.split(";"));try{for(s.s();!(o=s.n()).done;){var u=o.value,l=u.slice(0,u.indexOf(":")).trim();null==n[l]&&Ha(r,l,"")}}catch(d){s.e(d)}finally{s.f()}}else for(var c in t)null==n[c]&&Ha(r,c,"");for(var f in n)"display"===f&&(a=!0),Ha(r,f,n[f])}else if(i){if(t!==n){var h=r[Ua];h&&(n+=";"+h),r.cssText=n,a=Ga.test(n)}}else t&&e.removeAttribute("style");ja in e&&(e[ja]=a?r.display:"",e[Va]&&(r.display="none"))}(e,n,r):A(t)?N(t)||Ja(e,t,n,r,o):("."===t[0]?(t=t.slice(1),1):"^"===t[0]?(t=t.slice(1),0):function(e,t,n,r){if(r)return"innerHTML"===t||"textContent"===t||!!(t in e&&ro(t)&&U(n));if("spellcheck"===t||"draggable"===t||"translate"===t)return!1;if("form"===t)return!1;if("list"===t&&"INPUT"===e.tagName)return!1;if("type"===t&&"TEXTAREA"===e.tagName)return!1;if("width"===t||"height"===t){var i=e.tagName;if("IMG"===i||"VIDEO"===i||"CANVAS"===i||"SOURCE"===i)return!1}if(ro(t)&&B(n))return!1;return t in e}(e,t,r,l))?function(e,t,n,r,i,a,o){if("innerHTML"===t||"textContent"===t)return r&&o(r,i,a),void(e[t]=null==n?"":n);var s=e.tagName;if("value"===t&&"PROGRESS"!==s&&!s.includes("-")){var u=null==n?"":n;return("OPTION"===s?e.getAttribute("value")||"":e.value)===u&&"_value"in e||(e.value=u),null==n&&e.removeAttribute(t),void(e._value=n)}var l=!1;if(""===n||null==n){var c=C(e[t]);"boolean"===c?n=ge(n):null==n&&"string"===c?(n="",l=!0):"number"===c&&(n=0,l=!0)}try{e[t]=n}catch(f){}l&&e.removeAttribute(t)}(e,t,r,a,o,s,u):("true-value"===t?e._trueValue=r:"false-value"===t&&(e._falseValue=r),function(e,t,n,r,i){if(r&&t.startsWith("xlink:"))null==n?e.removeAttributeNS(Ya,t.slice(6,t.length)):e.setAttributeNS(Ya,t,n);else{var a=me(t);null==n||a&&!ge(n)?e.removeAttribute(t):e.setAttribute(t,a?"":n)}}(e,t,r,l))}},ya);
/*!
              * vue-router v4.3.0
              * (c) 2024 Eduardo San Martin Morote
              * @license MIT
              */
var Lo="undefined"!=typeof document;var Io=Object.assign;function To(e,t){var n={};for(var r in t){var i=t[r];n[r]=No(i)?i.map(e):e(i)}return n}var Ao=function(){},No=Array.isArray,Mo=/#/g,Oo=/&/g,Po=/\//g,Do=/=/g,Ro=/\?/g,Fo=/\+/g,jo=/%5B/g,Vo=/%5D/g,Uo=/%5E/g,Bo=/%60/g,zo=/%7B/g,qo=/%7C/g,Go=/%7D/g,Wo=/%20/g;function Ho(e){return encodeURI(""+e).replace(qo,"|").replace(jo,"[").replace(Vo,"]")}function Ko(e){return Ho(e).replace(Fo,"%2B").replace(Wo,"+").replace(Mo,"%23").replace(Oo,"%26").replace(Bo,"`").replace(zo,"{").replace(Go,"}").replace(Uo,"^")}function Qo(e){return null==e?"":function(e){return Ho(e).replace(Mo,"%23").replace(Ro,"%3F")}(e).replace(Po,"%2F")}function Yo(e){try{return decodeURIComponent(""+e)}catch(t){}return""+e}var $o,Xo,Jo,Zo,es=/\/$/,ts=function(e){return e.replace(es,"")};function ns(e,t){var n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",i={},a="",o="",s=t.indexOf("#"),u=t.indexOf("?");return s<u&&s>=0&&(u=-1),u>-1&&(n=t.slice(0,u),i=e(a=t.slice(u+1,s>-1?s:t.length))),s>-1&&(n=n||t.slice(0,s),o=t.slice(s,t.length)),n=function(e,t){if(e.startsWith("/"))return e;if(!e)return t;var n=t.split("/"),r=e.split("/"),i=r[r.length-1];".."!==i&&"."!==i||r.push("");var a,o,s=n.length-1;for(a=0;a<r.length;a++)if("."!==(o=r[a])){if(".."!==o)break;s>1&&s--}return n.slice(0,s).join("/")+"/"+r.slice(a).join("/")}(null!=n?n:t,r),{fullPath:n+(a&&"?")+a+o,path:n,query:i,hash:Yo(o)}}function rs(e,t){return t&&e.toLowerCase().startsWith(t.toLowerCase())?e.slice(t.length)||"/":e}function is(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function as(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(var n in e)if(!os(e[n],t[n]))return!1;return!0}function os(e,t){return No(e)?ss(e,t):No(t)?ss(t,e):e===t}function ss(e,t){return No(t)?e.length===t.length&&e.every((function(e,n){return e===t[n]})):1===e.length&&e[0]===t}(Xo=$o||($o={})).pop="pop",Xo.push="push",(Zo=Jo||(Jo={})).back="back",Zo.forward="forward",Zo.unknown="";var us=/^[^#]+#/;function ls(e,t){return e.replace(us,"#")+t}var cs=function(){return{left:window.scrollX,top:window.scrollY}};function fs(e){var t;if("el"in e){var n=e.el,r="string"==typeof n&&n.startsWith("#"),i="string"==typeof n?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=function(e,t){var n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(null!=t.left?t.left:window.scrollX,null!=t.top?t.top:window.scrollY)}function hs(e,t){return(history.state?history.state.position-t:-1)+e}var ds=new Map;var vs=function(){return location.protocol+"//"+location.host};function ps(e,t){var n=t.pathname,r=t.search,i=t.hash,a=e.indexOf("#");if(a>-1){var o=i.includes(e.slice(a))?e.slice(a).length:1,s=i.slice(o);return"/"!==s[0]&&(s="/"+s),rs(s,"")}return rs(n,e)+r+i}function ms(e,t,n){var r=arguments.length>4&&void 0!==arguments[4]&&arguments[4];return{back:e,current:t,forward:n,replaced:arguments.length>3&&void 0!==arguments[3]&&arguments[3],position:window.history.length,scroll:r?cs():null}}function gs(e){var t=function(e){var t=window,n=t.history,r=t.location,i={value:ps(e,r)},a={value:n.state};function o(t,i,o){var s=e.indexOf("#"),u=s>-1?(r.host&&document.querySelector("base")?e:e.slice(s))+t:vs()+e+t;try{n[o?"replaceState":"pushState"](i,"",u),a.value=i}catch(l){console.error(l),r[o?"replace":"assign"](u)}}return a.value||o(i.value,{back:null,current:i.value,forward:null,position:n.length-1,replaced:!0,scroll:null},!0),{location:i,state:a,push:function(e,t){var r=Io({},a.value,n.state,{forward:e,scroll:cs()});o(r.current,r,!0),o(e,Io({},ms(i.value,e,null),{position:r.position+1},t),!1),i.value=e},replace:function(e,t){o(e,Io({},n.state,ms(a.value.back,e,a.value.forward,!0),t,{position:a.value.position}),!0),i.value=e}}}(e=function(e){if(!e)if(Lo){var t=document.querySelector("base");e=(e=t&&t.getAttribute("href")||"/").replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return"/"!==e[0]&&"#"!==e[0]&&(e="/"+e),ts(e)}(e)),n=function(e,t,n,r){var i=[],a=[],o=null,s=function(a){var s=a.state,u=ps(e,location),l=n.value,c=t.value,f=0;if(s){if(n.value=u,t.value=s,o&&o===l)return void(o=null);f=c?s.position-c.position:0}else r(u);i.forEach((function(e){e(n.value,l,{delta:f,type:$o.pop,direction:f?f>0?Jo.forward:Jo.back:Jo.unknown})}))};function u(){var e=window.history;e.state&&e.replaceState(Io({},e.state,{scroll:cs()}),"")}return window.addEventListener("popstate",s),window.addEventListener("beforeunload",u,{passive:!0}),{pauseListeners:function(){o=n.value},listen:function(e){i.push(e);var t=function(){var t=i.indexOf(e);t>-1&&i.splice(t,1)};return a.push(t),t},destroy:function(){var e,t=x(a);try{for(t.s();!(e=t.n()).done;)(0,e.value)()}catch(n){t.e(n)}finally{t.f()}a=[],window.removeEventListener("popstate",s),window.removeEventListener("beforeunload",u)}}}(e,t.state,t.location,t.replace);var r=Io({location:"",base:e,go:function(e){!(arguments.length>1&&void 0!==arguments[1])||arguments[1]||n.pauseListeners(),history.go(e)},createHref:ls.bind(null,e)},t,n);return Object.defineProperty(r,"location",{enumerable:!0,get:function(){return t.location.value}}),Object.defineProperty(r,"state",{enumerable:!0,get:function(){return t.state.value}}),r}function ys(e){return"string"==typeof e||"symbol"===C(e)}var ks,bs,ws={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},_s=Symbol("");function Cs(e,t){return Io(new Error,k({type:e},_s,!0),t)}function xs(e,t){return e instanceof Error&&_s in e&&(null==t||!!(e.type&t))}(bs=ks||(ks={}))[bs.aborted=4]="aborted",bs[bs.cancelled=8]="cancelled",bs[bs.duplicated=16]="duplicated";var Es="[^/]+?",Ss={sensitive:!1,strict:!1,start:!0,end:!0},Ls=/[.+*?^${}()[\]/\\]/g;function Is(e,t){for(var n=0;n<e.length&&n<t.length;){var r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?1===e.length&&80===e[0]?-1:1:e.length>t.length?1===t.length&&80===t[0]?1:-1:0}function Ts(e,t){for(var n=0,r=e.score,i=t.score;n<r.length&&n<i.length;){var a=Is(r[n],i[n]);if(a)return a;n++}if(1===Math.abs(i.length-r.length)){if(As(r))return 1;if(As(i))return-1}return i.length-r.length}function As(e){var t=e[e.length-1];return e.length>0&&t[t.length-1]<0}var Ns={type:0,value:""},Ms=/[a-zA-Z0-9_]/;function Os(e,t,n){var r=function(e,t){var n,r=Io({},Ss,t),i=[],a=r.start?"^":"",o=[],s=x(e);try{for(s.s();!(n=s.n()).done;){var u=n.value,l=u.length?[]:[90];r.strict&&!u.length&&(a+="/");for(var c=0;c<u.length;c++){var f=u[c],h=40+(r.sensitive?.25:0);if(0===f.type)c||(a+="/"),a+=f.value.replace(Ls,"\\$&"),h+=40;else if(1===f.type){var d=f.value,v=f.repeatable,p=f.optional,m=f.regexp;o.push({name:d,repeatable:v,optional:p});var g=m||Es;if(g!==Es){h+=10;try{new RegExp("(".concat(g,")"))}catch(w){throw new Error('Invalid custom RegExp for param "'.concat(d,'" (').concat(g,"): ")+w.message)}}var y=v?"((?:".concat(g,")(?:/(?:").concat(g,"))*)"):"(".concat(g,")");c||(y=p&&u.length<2?"(?:/".concat(y,")"):"/"+y),p&&(y+="?"),a+=y,h+=20,p&&(h+=-8),v&&(h+=-20),".*"===g&&(h+=-50)}l.push(h)}i.push(l)}}catch(w){s.e(w)}finally{s.f()}if(r.strict&&r.end){var k=i.length-1;i[k][i[k].length-1]+=.7000000000000001}r.strict||(a+="/?"),r.end?a+="$":r.strict&&(a+="(?:/|$)");var b=new RegExp(a,r.sensitive?"":"i");return{re:b,score:i,keys:o,parse:function(e){var t=e.match(b),n={};if(!t)return null;for(var r=1;r<t.length;r++){var i=t[r]||"",a=o[r-1];n[a.name]=i&&a.repeatable?i.split("/"):i}return n},stringify:function(t){var n,r="",i=!1,a=x(e);try{for(a.s();!(n=a.n()).done;){var o=n.value;i&&r.endsWith("/")||(r+="/"),i=!1;var s,u=x(o);try{for(u.s();!(s=u.n()).done;){var l=s.value;if(0===l.type)r+=l.value;else if(1===l.type){var c=l.value,f=l.repeatable,h=l.optional,d=c in t?t[c]:"";if(No(d)&&!f)throw new Error('Provided param "'.concat(c,'" is an array but it is not repeatable (* or + modifiers)'));var v=No(d)?d.join("/"):d;if(!v){if(!h)throw new Error('Missing required param "'.concat(c,'"'));o.length<2&&(r.endsWith("/")?r=r.slice(0,-1):i=!0)}r+=v}}}catch(w){u.e(w)}finally{u.f()}}}catch(w){a.e(w)}finally{a.f()}return r||"/"}}}(function(e){if(!e)return[[]];if("/"===e)return[[Ns]];if(!e.startsWith("/"))throw new Error('Invalid path "'.concat(e,'"'));function t(e){throw new Error("ERR (".concat(r,')/"').concat(l,'": ').concat(e))}var n,r=0,i=r,a=[];function o(){n&&a.push(n),n=[]}var s,u=0,l="",c="";function f(){l&&(0===r?n.push({type:0,value:l}):1===r||2===r||3===r?(n.length>1&&("*"===s||"+"===s)&&t("A repeatable param (".concat(l,") must be alone in its segment. eg: '/:ids+.")),n.push({type:1,value:l,regexp:c,repeatable:"*"===s||"+"===s,optional:"*"===s||"?"===s})):t("Invalid state to consume buffer"),l="")}function h(){l+=s}for(;u<e.length;)if("\\"!==(s=e[u++])||2===r)switch(r){case 0:"/"===s?(l&&f(),o()):":"===s?(f(),r=1):h();break;case 4:h(),r=i;break;case 1:"("===s?r=2:Ms.test(s)?h():(f(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&u--);break;case 2:")"===s?"\\"==c[c.length-1]?c=c.slice(0,-1)+s:r=3:c+=s;break;case 3:f(),r=0,"*"!==s&&"?"!==s&&"+"!==s&&u--,c="";break;default:t("Unknown state")}else i=r,r=4;return 2===r&&t('Unfinished custom RegExp for param "'.concat(l,'"')),f(),o(),a}(e.path),n),i=Io(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function Ps(e,t){var n=[],r=new Map;function i(e,n,r){var s=!r,u=function(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:Rs(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}(e);u.aliasOf=r&&r.record;var l,c,f=Vs(t,e),h=[u];if("alias"in e){var d,v=x("string"==typeof e.alias?[e.alias]:e.alias);try{for(v.s();!(d=v.n()).done;){var p=d.value;h.push(Io({},u,{components:r?r.record.components:u.components,path:p,aliasOf:r?r.record:u}))}}catch(E){v.e(E)}finally{v.f()}}for(var m=0,g=h;m<g.length;m++){var y=g[m],k=y.path;if(n&&"/"!==k[0]){var b=n.record.path,w="/"===b[b.length-1]?"":"/";y.path=n.record.path+(k&&w+k)}if(l=Os(y,n,f),r?r.alias.push(l):((c=c||l)!==l&&c.alias.push(l),s&&e.name&&!Fs(l)&&a(e.name)),u.children)for(var _=u.children,C=0;C<_.length;C++)i(_[C],l,r&&r.children[C]);r=r||l,(l.record.components&&Object.keys(l.record.components).length||l.record.name||l.record.redirect)&&o(l)}return c?function(){a(c)}:Ao}function a(e){if(ys(e)){var t=r.get(e);t&&(r.delete(e),n.splice(n.indexOf(t),1),t.children.forEach(a),t.alias.forEach(a))}else{var i=n.indexOf(e);i>-1&&(n.splice(i,1),e.record.name&&r.delete(e.record.name),e.children.forEach(a),e.alias.forEach(a))}}function o(e){for(var t=0;t<n.length&&Ts(e,n[t])>=0&&(e.record.path!==n[t].record.path||!Us(e,n[t]));)t++;n.splice(t,0,e),e.record.name&&!Fs(e)&&r.set(e.record.name,e)}return t=Vs({strict:!1,end:!0,sensitive:!1},t),e.forEach((function(e){return i(e)})),{addRoute:i,resolve:function(e,t){var i,a,o,s={};if("name"in e&&e.name){if(!(i=r.get(e.name)))throw Cs(1,{location:e});o=i.record.name,s=Io(Ds(t.params,i.keys.filter((function(e){return!e.optional})).concat(i.parent?i.parent.keys.filter((function(e){return e.optional})):[]).map((function(e){return e.name}))),e.params&&Ds(e.params,i.keys.map((function(e){return e.name})))),a=i.stringify(s)}else if(null!=e.path)a=e.path,(i=n.find((function(e){return e.re.test(a)})))&&(s=i.parse(a),o=i.record.name);else{if(!(i=t.name?r.get(t.name):n.find((function(e){return e.re.test(t.path)}))))throw Cs(1,{location:e,currentLocation:t});o=i.record.name,s=Io({},t.params,e.params),a=i.stringify(s)}for(var u=[],l=i;l;)u.unshift(l.record),l=l.parent;return{name:o,path:a,params:s,matched:u,meta:js(u)}},removeRoute:a,getRoutes:function(){return n},getRecordMatcher:function(e){return r.get(e)}}}function Ds(e,t){var n,r={},i=x(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;a in e&&(r[a]=e[a])}}catch(o){i.e(o)}finally{i.f()}return r}function Rs(e){var t={},n=e.props||!1;if("component"in e)t.default=n;else for(var r in e.components)t[r]="object"===C(n)?n[r]:n;return t}function Fs(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function js(e){return e.reduce((function(e,t){return Io(e,t.meta)}),{})}function Vs(e,t){var n={};for(var r in e)n[r]=r in t?t[r]:e[r];return n}function Us(e,t){return t.children.some((function(t){return t===e||Us(e,t)}))}function Bs(e){var t={};if(""===e||"?"===e)return t;for(var n=("?"===e[0]?e.slice(1):e).split("&"),r=0;r<n.length;++r){var i=n[r].replace(Fo," "),a=i.indexOf("="),o=Yo(a<0?i:i.slice(0,a)),s=a<0?null:Yo(i.slice(a+1));if(o in t){var u=t[o];No(u)||(u=t[o]=[u]),u.push(s)}else t[o]=s}return t}function zs(e){var t="",n=function(n){var r=e[n];if(n=Ko(n).replace(Do,"%3D"),null==r)return void 0!==r&&(t+=(t.length?"&":"")+n),1;var i=No(r)?r.map((function(e){return e&&Ko(e)})):[r&&Ko(r)];i.forEach((function(e){void 0!==e&&(t+=(t.length?"&":"")+n,null!=e&&(t+="="+e))}))};for(var r in e)n(r);return t}function qs(e){var t={};for(var n in e){var r=e[n];void 0!==r&&(t[n]=No(r)?r.map((function(e){return null==e?null:""+e})):null==r?r:""+r)}return t}var Gs=Symbol(""),Ws=Symbol(""),Hs=Symbol(""),Ks=Symbol(""),Qs=Symbol("");function Ys(){var e=[];return{add:function(t){return e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}},list:function(){return e.slice()},reset:function(){e=[]}}}function $s(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:function(e){return e()},o=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return function(){return new Promise((function(s,u){var l=function(e){var a;!1===e?u(Cs(4,{from:n,to:t})):e instanceof Error?u(e):"string"==typeof(a=e)||a&&"object"===C(a)?u(Cs(2,{from:t,to:e})):(o&&r.enterCallbacks[i]===o&&"function"==typeof e&&o.push(e),s())},c=a((function(){return e.call(r&&r.instances[i],t,n,l)})),f=Promise.resolve(c);e.length<3&&(f=f.then(l)),f.catch((function(e){return u(e)}))}))}}function Xs(e,t,n,r){var i,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:function(e){return e()},o=[],s=x(e);try{var u=function(){var e=i.value,s=function(i){var s,u=e.components[i];if("beforeRouteEnter"!==t&&!e.instances[i])return 1;if("object"===C(s=u)||"displayName"in s||"props"in s||"__vccOpts"in s){var l=(u.__vccOpts||u)[t];l&&o.push($s(l,n,r,e,i,a))}else{var c=u();o.push((function(){return c.then((function(o){if(!o)return Promise.reject(new Error("Couldn't resolve component \"".concat(i,'" at "').concat(e.path,'"')));var s,u=(s=o).__esModule||"Module"===s[Symbol.toStringTag]?o.default:o;e.components[i]=u;var l=(u.__vccOpts||u)[t];return l&&$s(l,n,r,e,i,a)()}))}))}};for(var u in e.components)s(u)};for(s.s();!(i=s.n()).done;)u()}catch(l){s.e(l)}finally{s.f()}return o}function Js(e){var t=ei(Hs),n=ei(Ks),r=da((function(){return t.resolve(Jt(e.to))})),i=da((function(){var e=r.value.matched,t=e.length,i=e[t-1],a=n.matched;if(!i||!a.length)return-1;var o=a.findIndex(is.bind(null,i));if(o>-1)return o;var s=eu(e[t-2]);return t>1&&eu(i)===s&&a[a.length-1].path!==s?a.findIndex(is.bind(null,e[t-2])):o})),a=da((function(){return i.value>-1&&function(e,t){var n,r=function(){var n=t[i],r=e[i];if("string"==typeof n){if(n!==r)return{v:!1}}else if(!No(r)||r.length!==n.length||n.some((function(e,t){return e!==r[t]})))return{v:!1}};for(var i in t)if(n=r())return n.v;return!0}(n.params,r.value.params)})),o=da((function(){return i.value>-1&&i.value===n.matched.length-1&&as(n.params,r.value.params)}));return{route:r,href:da((function(){return r.value.href})),isActive:a,isExactActive:o,navigate:function(){return function(e){if(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)return;if(e.defaultPrevented)return;if(void 0!==e.button&&0!==e.button)return;if(e.currentTarget&&e.currentTarget.getAttribute){var t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}e.preventDefault&&e.preventDefault();return!0}(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})?t[Jt(e.replace)?"replace":"push"](Jt(e.to)).catch(Ao):Promise.resolve()}}}var Zs=hr({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:Js,setup:function(e,t){var n=t.slots,r=Mt(Js(e)),i=ei(Hs).options,a=da((function(){return k(k({},tu(e.activeClass,i.linkActiveClass,"router-link-active"),r.isActive),tu(e.exactActiveClass,i.linkExactActiveClass,"router-link-exact-active"),r.isExactActive)}));return function(){var t=n.default&&n.default(r);return e.custom?t:va("a",{"aria-current":r.isExactActive?e.ariaCurrentValue:null,href:r.href,onClick:r.navigate,class:a.value},t)}}});function eu(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}var tu=function(e,t,n){return null!=e?e:null!=t?t:n},nu=hr({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup:function(e,t){var n=t.attrs,r=t.slots,i=ei(Qs),a=da((function(){return e.route||i.value})),o=ei(Ws,0),s=da((function(){for(var e,t=Jt(o),n=a.value.matched;(e=n[t])&&!e.components;)t++;return t})),u=da((function(){return a.value.matched[s.value]}));Zr(Ws,da((function(){return s.value+1}))),Zr(Gs,u),Zr(Qs,a);var l=Qt();return Kn((function(){return[l.value,u.value,e.name]}),(function(e,t){var n=w(e,3),r=n[0],i=n[1],a=n[2],o=w(t,3),s=o[0],u=o[1];o[2];i&&(i.instances[a]=r,u&&u!==i&&r&&r===s&&(i.leaveGuards.size||(i.leaveGuards=u.leaveGuards),i.updateGuards.size||(i.updateGuards=u.updateGuards))),!r||!i||u&&is(i,u)&&s||(i.enterCallbacks[a]||[]).forEach((function(e){return e(r)}))}),{flush:"post"}),function(){var t=a.value,i=e.name,o=u.value,s=o&&o.components[i];if(!s)return ru(r.default,{Component:s,route:t});var c=o.props[i],f=c?!0===c?t.params:"function"==typeof c?c(t):c:null,h=va(s,Io({},f,n,{onVnodeUnmounted:function(e){e.component.isUnmounted&&(o.instances[i]=null)},ref:l}));return ru(r.default,{Component:h,route:t})||h}}});function ru(e,t){if(!e)return null;var n=e(t);return 1===n.length?n[0]:n}var iu=nu;function au(){return ei(Hs)}
/*!
              * shared v9.10.2
              * (c) 2024 kazuya kawaguchi
              * Released under the MIT License.
              */var ou,su="undefined"!=typeof window,uu=function(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]?Symbol.for(e):Symbol(e)},lu=function(e,t,n){return cu({l:e,k:t,s:n})},cu=function(e){return JSON.stringify(e).replace(/\u2028/g,"\\u2028").replace(/\u2029/g,"\\u2029").replace(/\u0027/g,"\\u0027")},fu=function(e){return"number"==typeof e&&isFinite(e)},hu=function(e){return"[object Date]"===Lu(e)},du=function(e){return"[object RegExp]"===Lu(e)},vu=function(e){return Iu(e)&&0===Object.keys(e).length},pu=Object.assign,mu=function(){return ou||(ou="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{})};function gu(e){return e.replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&apos;")}var yu=Object.prototype.hasOwnProperty;function ku(e,t){return yu.call(e,t)}var bu=Array.isArray,wu=function(e){return"function"==typeof e},_u=function(e){return"string"==typeof e},Cu=function(e){return"boolean"==typeof e},xu=function(e){return null!==e&&"object"===C(e)},Eu=function(e){return xu(e)&&wu(e.then)&&wu(e.catch)},Su=Object.prototype.toString,Lu=function(e){return Su.call(e)},Iu=function(e){if(!xu(e))return!1;var t=Object.getPrototypeOf(e);return null===t||t.constructor===Object};function Tu(e){var t=e;return function(){return++t}}function Au(e,t){"undefined"!=typeof console&&(console.warn("[intlify] "+e),t&&console.warn(t.stack))}var Nu=function(e){return!xu(e)||bu(e)};function Mu(e,t){if(Nu(e)||Nu(t))throw new Error("Invalid value");for(var n=[{src:e,des:t}],r=function(){var e=n.pop(),t=e.src,r=e.des;Object.keys(t).forEach((function(e){Nu(t[e])||Nu(r[e])?r[e]=t[e]:n.push({src:t[e],des:r[e]})}))};n.length;)r()}
/*!
              * message-compiler v9.10.2
              * (c) 2024 kazuya kawaguchi
              * Released under the MIT License.
              */function Ou(e,t,n){var r={start:e,end:t};return null!=n&&(r.source=n),r}var Pu=/\{([0-9a-zA-Z]+)\}/g;function Du(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return 1===n.length&&ju(n[0])&&(n=n[0]),n&&n.hasOwnProperty||(n={}),e.replace(Pu,(function(e,t){return n.hasOwnProperty(t)?n[t]:""}))}var Ru=Object.assign,Fu=function(e){return"string"==typeof e},ju=function(e){return null!==e&&"object"===C(e)};function Vu(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.reduce((function(e,n,r){return 0===r?e+n:e+t+n}),"")}var Uu={EXPECTED_TOKEN:1,INVALID_TOKEN_IN_PLACEHOLDER:2,UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER:3,UNKNOWN_ESCAPE_SEQUENCE:4,INVALID_UNICODE_ESCAPE_SEQUENCE:5,UNBALANCED_CLOSING_BRACE:6,UNTERMINATED_CLOSING_BRACE:7,EMPTY_PLACEHOLDER:8,NOT_ALLOW_NEST_PLACEHOLDER:9,INVALID_LINKED_FORMAT:10,MUST_HAVE_MESSAGES_IN_PLURAL:11,UNEXPECTED_EMPTY_LINKED_MODIFIER:12,UNEXPECTED_EMPTY_LINKED_KEY:13,UNEXPECTED_LEXICAL_ANALYSIS:14,UNHANDLED_CODEGEN_NODE_TYPE:15,UNHANDLED_MINIFIER_NODE_TYPE:16,__EXTEND_POINT__:17},Bu=(k(k(k(k(k(k(k(k(k(k(s={},Uu.EXPECTED_TOKEN,"Expected token: '{0}'"),Uu.INVALID_TOKEN_IN_PLACEHOLDER,"Invalid token in placeholder: '{0}'"),Uu.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,"Unterminated single quote in placeholder"),Uu.UNKNOWN_ESCAPE_SEQUENCE,"Unknown escape sequence: \\{0}"),Uu.INVALID_UNICODE_ESCAPE_SEQUENCE,"Invalid unicode escape sequence: {0}"),Uu.UNBALANCED_CLOSING_BRACE,"Unbalanced closing brace"),Uu.UNTERMINATED_CLOSING_BRACE,"Unterminated closing brace"),Uu.EMPTY_PLACEHOLDER,"Empty placeholder"),Uu.NOT_ALLOW_NEST_PLACEHOLDER,"Not allowed nest placeholder"),Uu.INVALID_LINKED_FORMAT,"Invalid linked format"),k(k(k(k(k(k(s,Uu.MUST_HAVE_MESSAGES_IN_PLURAL,"Plural must have messages"),Uu.UNEXPECTED_EMPTY_LINKED_MODIFIER,"Unexpected empty linked modifier"),Uu.UNEXPECTED_EMPTY_LINKED_KEY,"Unexpected empty linked key"),Uu.UNEXPECTED_LEXICAL_ANALYSIS,"Unexpected lexical analysis in token: '{0}'"),Uu.UNHANDLED_CODEGEN_NODE_TYPE,"unhandled codegen node type: '{0}'"),Uu.UNHANDLED_MINIFIER_NODE_TYPE,"unhandled mimifier node type: '{0}'"));function zu(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.domain,i=n.messages,a=n.args,o=Du.apply(void 0,[(i||Bu)[e]||""].concat(_(a||[]))),s=new SyntaxError(String(o));return s.code=e,t&&(s.location=t),s.domain=r,s}function qu(e){throw e}var Gu=" ",Wu="\r",Hu="\n",Ku=String.fromCharCode(8232),Qu=String.fromCharCode(8233);function Yu(e){var t=e,n=0,r=1,i=1,a=0,o=function(e){return t[e]===Wu&&t[e+1]===Hu},s=function(e){return t[e]===Qu},u=function(e){return t[e]===Ku},l=function(e){return o(e)||function(e){return t[e]===Hu}(e)||s(e)||u(e)},c=function(e){return o(e)||s(e)||u(e)?Hu:t[e]};function f(){return a=0,l(n)&&(r++,i=0),o(n)&&n++,n++,i++,t[n]}return{index:function(){return n},line:function(){return r},column:function(){return i},peekOffset:function(){return a},charAt:c,currentChar:function(){return c(n)},currentPeek:function(){return c(n+a)},next:f,peek:function(){return o(n+a)&&a++,a++,t[n+a]},reset:function(){n=0,r=1,i=1,a=0},resetPeek:function(){a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0},skipToPeek:function(){for(var e=n+a;e!==n;)f();a=0}}}var $u=void 0,Xu=".",Ju="'",Zu="tokenizer";function el(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1!==t.location,r=Yu(e),i=function(){return r.index()},a=function(){return e=r.line(),t=r.column(),n=r.index(),{line:e,column:t,offset:n};var e,t,n},o=a(),s=i(),u={currentType:14,offset:s,startLoc:o,endLoc:o,lastType:14,lastOffset:s,lastStartLoc:o,lastEndLoc:o,braceNest:0,inLinked:!1,text:""},l=function(){return u},c=t.onError;function f(e,t,r){var i=l();if(t.column+=r,t.offset+=r,c){for(var a=n?Ou(i.startLoc,t):null,o=arguments.length,s=new Array(o>3?o-3:0),u=3;u<o;u++)s[u-3]=arguments[u];var f=zu(e,a,{domain:Zu,args:s});c(f)}}function h(e,t,r){e.endLoc=a(),e.currentType=t;var i={type:t};return n&&(i.loc=Ou(e.startLoc,e.endLoc)),null!=r&&(i.value=r),i}var d=function(e){return h(e,14)};function v(e,t){return e.currentChar()===t?(e.next(),t):(f(Uu.EXPECTED_TOKEN,a(),0,t),"")}function p(e){for(var t="";e.currentPeek()===Gu||e.currentPeek()===Hu;)t+=e.currentPeek(),e.peek();return t}function m(e){var t=p(e);return e.skipToPeek(),t}function g(e){if(e===$u)return!1;var t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||95===t}function y(e,t){if(2!==t.currentType)return!1;p(e);var n=function(e){if(e===$u)return!1;var t=e.charCodeAt(0);return t>=48&&t<=57}("-"===e.currentPeek()?e.peek():e.currentPeek());return e.resetPeek(),n}function k(e){p(e);var t="|"===e.currentPeek();return e.resetPeek(),t}function b(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],a=e.currentPeek();return"{"===a?"%"!==r&&n:"@"!==a&&a?"%"===a?(e.peek(),t(n,"%",!0)):"|"===a?!("%"!==r&&!i)||!(r===Gu||r===Hu):a===Gu?(e.peek(),t(!0,Gu,i)):a!==Hu||(e.peek(),t(!0,Hu,i)):"%"===r||n}();return t&&e.resetPeek(),n}function w(e,t){var n=e.currentChar();return n===$u?$u:t(n)?(e.next(),n):null}function _(e){return w(e,(function(e){var t=e.charCodeAt(0);return t>=97&&t<=122||t>=65&&t<=90||t>=48&&t<=57||95===t||36===t}))}function C(e){return w(e,(function(e){var t=e.charCodeAt(0);return t>=48&&t<=57}))}function x(e){return w(e,(function(e){var t=e.charCodeAt(0);return t>=48&&t<=57||t>=65&&t<=70||t>=97&&t<=102}))}function E(e){for(var t="",n="";t=C(e);)n+=t;return n}function S(e){for(var t="";;){var n=e.currentChar();if("{"===n||"}"===n||"@"===n||"|"===n||!n)break;if("%"===n){if(!b(e))break;t+=n,e.next()}else if(n===Gu||n===Hu)if(b(e))t+=n,e.next();else{if(k(e))break;t+=n,e.next()}else t+=n,e.next()}return t}function L(e){var t=e.currentChar();switch(t){case"\\":case"'":return e.next(),"\\".concat(t);case"u":return I(e,t,4);case"U":return I(e,t,6);default:return f(Uu.UNKNOWN_ESCAPE_SEQUENCE,a(),0,t),""}}function I(e,t,n){v(e,t);for(var r="",i=0;i<n;i++){var o=x(e);if(!o){f(Uu.INVALID_UNICODE_ESCAPE_SEQUENCE,a(),0,"\\".concat(t).concat(r).concat(e.currentChar()));break}r+=o}return"\\".concat(t).concat(r)}function T(e){m(e);var t=v(e,"|");return m(e),t}function A(e,t){var n=null;switch(e.currentChar()){case"{":return t.braceNest>=1&&f(Uu.NOT_ALLOW_NEST_PLACEHOLDER,a(),0),e.next(),n=h(t,2,"{"),m(e),t.braceNest++,n;case"}":return t.braceNest>0&&2===t.currentType&&f(Uu.EMPTY_PLACEHOLDER,a(),0),e.next(),n=h(t,3,"}"),t.braceNest--,t.braceNest>0&&m(e),t.inLinked&&0===t.braceNest&&(t.inLinked=!1),n;case"@":return t.braceNest>0&&f(Uu.UNTERMINATED_CLOSING_BRACE,a(),0),n=N(e,t)||d(t),t.braceNest=0,n;default:var r,i,o;if(k(e))return t.braceNest>0&&f(Uu.UNTERMINATED_CLOSING_BRACE,a(),0),n=h(t,1,T(e)),t.braceNest=0,t.inLinked=!1,n;if(t.braceNest>0&&(5===t.currentType||6===t.currentType||7===t.currentType))return f(Uu.UNTERMINATED_CLOSING_BRACE,a(),0),t.braceNest=0,M(e,t);if(r=function(e,t){if(2!==t.currentType)return!1;p(e);var n=g(e.currentPeek());return e.resetPeek(),n}(e,t))return n=h(t,5,function(e){m(e);for(var t="",n="";t=_(e);)n+=t;return e.currentChar()===$u&&f(Uu.UNTERMINATED_CLOSING_BRACE,a(),0),n}(e)),m(e),n;if(i=y(e,t))return n=h(t,6,function(e){m(e);var t="";return"-"===e.currentChar()?(e.next(),t+="-".concat(E(e))):t+=E(e),e.currentChar()===$u&&f(Uu.UNTERMINATED_CLOSING_BRACE,a(),0),t}(e)),m(e),n;if(o=function(e,t){if(2!==t.currentType)return!1;p(e);var n=e.currentPeek()===Ju;return e.resetPeek(),n}(e,t))return n=h(t,7,function(e){m(e),v(e,"'");for(var t="",n="",r=function(e){return e!==Ju&&e!==Hu};t=w(e,r);)n+="\\"===t?L(e):t;var i=e.currentChar();return i===Hu||i===$u?(f(Uu.UNTERMINATED_SINGLE_QUOTE_IN_PLACEHOLDER,a(),0),i===Hu&&(e.next(),v(e,"'")),n):(v(e,"'"),n)}(e)),m(e),n;if(!r&&!i&&!o)return n=h(t,13,function(e){m(e);for(var t="",n="",r=function(e){return"{"!==e&&"}"!==e&&e!==Gu&&e!==Hu};t=w(e,r);)n+=t;return n}(e)),f(Uu.INVALID_TOKEN_IN_PLACEHOLDER,a(),0,n.value),m(e),n}return n}function N(e,t){var n=t.currentType,r=null,i=e.currentChar();switch(8!==n&&9!==n&&12!==n&&10!==n||i!==Hu&&i!==Gu||f(Uu.INVALID_LINKED_FORMAT,a(),0),i){case"@":return e.next(),r=h(t,8,"@"),t.inLinked=!0,r;case".":return m(e),e.next(),h(t,9,".");case":":return m(e),e.next(),h(t,10,":");default:return k(e)?(r=h(t,1,T(e)),t.braceNest=0,t.inLinked=!1,r):function(e,t){if(8!==t.currentType)return!1;p(e);var n="."===e.currentPeek();return e.resetPeek(),n}(e,t)||function(e,t){var n=t.currentType;if(8!==n&&12!==n)return!1;p(e);var r=":"===e.currentPeek();return e.resetPeek(),r}(e,t)?(m(e),N(e,t)):function(e,t){if(9!==t.currentType)return!1;p(e);var n=g(e.currentPeek());return e.resetPeek(),n}(e,t)?(m(e),h(t,12,function(e){for(var t="",n="";t=_(e);)n+=t;return n}(e))):function(e,t){if(10!==t.currentType)return!1;var n=function t(){var n=e.currentPeek();return"{"===n?g(e.peek()):!("@"===n||"%"===n||"|"===n||":"===n||"."===n||n===Gu||!n)&&(n===Hu?(e.peek(),t()):g(n))}();return e.resetPeek(),n}(e,t)?(m(e),"{"===i?A(e,t)||r:h(t,11,function(e){return function t(){var n=arguments.length>0&&void 0!==arguments[0]&&arguments[0],r=arguments.length>1?arguments[1]:void 0,i=e.currentChar();return"{"!==i&&"%"!==i&&"@"!==i&&"|"!==i&&"("!==i&&")"!==i&&i?i===Gu?r:i===Hu||i===Xu?(r+=i,e.next(),t(n,r)):(r+=i,e.next(),t(!0,r)):r}(!1,"")}(e))):(8===n&&f(Uu.INVALID_LINKED_FORMAT,a(),0),t.braceNest=0,t.inLinked=!1,M(e,t))}}function M(e,t){var n={type:14};if(t.braceNest>0)return A(e,t)||d(t);if(t.inLinked)return N(e,t)||d(t);switch(e.currentChar()){case"{":return A(e,t)||d(t);case"}":return f(Uu.UNBALANCED_CLOSING_BRACE,a(),0),e.next(),h(t,3,"}");case"@":return N(e,t)||d(t);default:if(k(e))return n=h(t,1,T(e)),t.braceNest=0,t.inLinked=!1,n;var r=function(e){var t=p(e),n="%"===e.currentPeek()&&"{"===e.peek();return e.resetPeek(),{isModulo:n,hasSpace:t.length>0}}(e),i=r.isModulo,o=r.hasSpace;if(i)return o?h(t,0,S(e)):h(t,4,function(e){m(e);var t=e.currentChar();return"%"!==t&&f(Uu.EXPECTED_TOKEN,a(),0,t),e.next(),"%"}(e));if(b(e))return h(t,0,S(e))}return n}return{nextToken:function(){var e=u.currentType,t=u.offset,n=u.startLoc,o=u.endLoc;return u.lastType=e,u.lastOffset=t,u.lastStartLoc=n,u.lastEndLoc=o,u.offset=i(),u.startLoc=a(),r.currentChar()===$u?h(u,14):M(r,u)},currentOffset:i,currentPosition:a,context:l}}var tl="parser",nl=/(?:\\\\|\\'|\\u([0-9a-fA-F]{4})|\\U([0-9a-fA-F]{6}))/g;function rl(e,t,n){switch(e){case"\\\\":return"\\";case"\\'":return"'";default:var r=parseInt(t||n,16);return r<=55295||r>=57344?String.fromCodePoint(r):""}}function il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=!1!==e.location,n=e.onError;function r(e,r,i,a){var o=e.currentPosition();if(o.offset+=a,o.column+=a,n){for(var s=t?Ou(i,o):null,u=arguments.length,l=new Array(u>4?u-4:0),c=4;c<u;c++)l[c-4]=arguments[c];var f=zu(r,s,{domain:tl,args:l});n(f)}}function i(e,n,r){var i={type:e};return t&&(i.start=n,i.end=n,i.loc={start:r,end:r}),i}function a(e,n,r,i){i&&(e.type=i),t&&(e.end=n,e.loc&&(e.loc.end=r))}function o(e,t){var n=e.context(),r=i(3,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}function s(e,t){var n=e.context(),r=i(5,n.lastOffset,n.lastStartLoc);return r.index=parseInt(t,10),e.nextToken(),a(r,e.currentOffset(),e.currentPosition()),r}function u(e,t){var n=e.context(),r=i(4,n.lastOffset,n.lastStartLoc);return r.key=t,e.nextToken(),a(r,e.currentOffset(),e.currentPosition()),r}function l(e,t){var n=e.context(),r=i(9,n.lastOffset,n.lastStartLoc);return r.value=t.replace(nl,rl),e.nextToken(),a(r,e.currentOffset(),e.currentPosition()),r}function c(e){var t=e.context(),n=i(6,t.offset,t.startLoc),o=e.nextToken();if(9===o.type){var c=function(e){var t=e.nextToken(),n=e.context(),o=n.lastOffset,s=n.lastStartLoc,u=i(8,o,s);return 12!==t.type?(r(e,Uu.UNEXPECTED_EMPTY_LINKED_MODIFIER,n.lastStartLoc,0),u.value="",a(u,o,s),{nextConsumeToken:t,node:u}):(null==t.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,n.lastStartLoc,0,al(t)),u.value=t.value||"",a(u,e.currentOffset(),e.currentPosition()),{node:u})}(e);n.modifier=c.node,o=c.nextConsumeToken||e.nextToken()}switch(10!==o.type&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(o)),2===(o=e.nextToken()).type&&(o=e.nextToken()),o.type){case 11:null==o.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(o)),n.key=function(e,t){var n=e.context(),r=i(7,n.offset,n.startLoc);return r.value=t,a(r,e.currentOffset(),e.currentPosition()),r}(e,o.value||"");break;case 5:null==o.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(o)),n.key=u(e,o.value||"");break;case 6:null==o.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(o)),n.key=s(e,o.value||"");break;case 7:null==o.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(o)),n.key=l(e,o.value||"");break;default:r(e,Uu.UNEXPECTED_EMPTY_LINKED_KEY,t.lastStartLoc,0);var f=e.context(),h=i(7,f.offset,f.startLoc);return h.value="",a(h,f.offset,f.startLoc),n.key=h,a(n,f.offset,f.startLoc),{nextConsumeToken:o,node:n}}return a(n,e.currentOffset(),e.currentPosition()),{node:n}}function f(e){var t=e.context(),n=i(2,1===t.currentType?e.currentOffset():t.offset,1===t.currentType?t.endLoc:t.startLoc);n.items=[];var f=null;do{var h=f||e.nextToken();switch(f=null,h.type){case 0:null==h.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(h)),n.items.push(o(e,h.value||""));break;case 6:null==h.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(h)),n.items.push(s(e,h.value||""));break;case 5:null==h.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(h)),n.items.push(u(e,h.value||""));break;case 7:null==h.value&&r(e,Uu.UNEXPECTED_LEXICAL_ANALYSIS,t.lastStartLoc,0,al(h)),n.items.push(l(e,h.value||""));break;case 8:var d=c(e);n.items.push(d.node),f=d.nextConsumeToken||null}}while(14!==t.currentType&&1!==t.currentType);return a(n,1===t.currentType?t.lastOffset:e.currentOffset(),1===t.currentType?t.lastEndLoc:e.currentPosition()),n}function h(e){var t=e.context(),n=t.offset,o=t.startLoc,s=f(e);return 14===t.currentType?s:function(e,t,n,o){var s=e.context(),u=0===o.items.length,l=i(1,t,n);l.cases=[],l.cases.push(o);do{var c=f(e);u||(u=0===c.items.length),l.cases.push(c)}while(14!==s.currentType);return u&&r(e,Uu.MUST_HAVE_MESSAGES_IN_PLURAL,n,0),a(l,e.currentOffset(),e.currentPosition()),l}(e,n,o,s)}return{parse:function(n){var o=el(n,Ru({},e)),s=o.context(),u=i(0,s.offset,s.startLoc);return t&&u.loc&&(u.loc.source=n),u.body=h(o),e.onCacheKey&&(u.cacheKey=e.onCacheKey(n)),14!==s.currentType&&r(o,Uu.UNEXPECTED_LEXICAL_ANALYSIS,s.lastStartLoc,0,n[s.offset]||""),a(u,o.currentOffset(),o.currentPosition()),u}}}function al(e){if(14===e.type)return"EOF";var t=(e.value||"").replace(/\r?\n/g,"\\n");return t.length>10?t.slice(0,9)+"":t}function ol(e,t){for(var n=0;n<e.length;n++)sl(e[n],t)}function sl(e,t){switch(e.type){case 1:ol(e.cases,t),t.helper("plural");break;case 2:ol(e.items,t);break;case 6:sl(e.key,t),t.helper("linked"),t.helper("type");break;case 5:t.helper("interpolate"),t.helper("list");break;case 4:t.helper("interpolate"),t.helper("named")}}function ul(e){var t=function(e){var t={ast:e,helpers:new Set};return{context:function(){return t},helper:function(e){return t.helpers.add(e),e}}}(e);t.helper("normalize"),e.body&&sl(e.body,t);var n=t.context();e.helpers=Array.from(n.helpers)}function ll(e){if(1===e.items.length){var t=e.items[0];3!==t.type&&9!==t.type||(e.static=t.value,delete t.value)}else{for(var n=[],r=0;r<e.items.length;r++){var i=e.items[r];if(3!==i.type&&9!==i.type)break;if(null==i.value)break;n.push(i.value)}if(n.length===e.items.length){e.static=Vu(n);for(var a=0;a<e.items.length;a++){var o=e.items[a];3!==o.type&&9!==o.type||delete o.value}}}}var cl="minifier";function fl(e){switch(e.t=e.type,e.type){case 0:var t=e;fl(t.body),t.b=t.body,delete t.body;break;case 1:for(var n=e,r=n.cases,i=0;i<r.length;i++)fl(r[i]);n.c=r,delete n.cases;break;case 2:for(var a=e,o=a.items,s=0;s<o.length;s++)fl(o[s]);a.i=o,delete a.items,a.static&&(a.s=a.static,delete a.static);break;case 3:case 9:case 8:case 7:var u=e;u.value&&(u.v=u.value,delete u.value);break;case 6:var l=e;fl(l.key),l.k=l.key,delete l.key,l.modifier&&(fl(l.modifier),l.m=l.modifier,delete l.modifier);break;case 5:var c=e;c.i=c.index,delete c.index;break;case 4:var f=e;f.k=f.key,delete f.key;break;default:throw zu(Uu.UNHANDLED_MINIFIER_NODE_TYPE,null,{domain:cl,args:[e.type]})}delete e.type}var hl="parser";function dl(e,t){var n=e.helper;switch(t.type){case 0:!function(e,t){t.body?dl(e,t.body):e.push("null")}(e,t);break;case 1:!function(e,t){var n=e.helper,r=e.needIndent;if(t.cases.length>1){e.push("".concat(n("plural"),"([")),e.indent(r());for(var i=t.cases.length,a=0;a<i&&(dl(e,t.cases[a]),a!==i-1);a++)e.push(", ");e.deindent(r()),e.push("])")}}(e,t);break;case 2:!function(e,t){var n=e.helper,r=e.needIndent;e.push("".concat(n("normalize"),"([")),e.indent(r());for(var i=t.items.length,a=0;a<i&&(dl(e,t.items[a]),a!==i-1);a++)e.push(", ");e.deindent(r()),e.push("])")}(e,t);break;case 6:!function(e,t){var n=e.helper;e.push("".concat(n("linked"),"(")),dl(e,t.key),t.modifier?(e.push(", "),dl(e,t.modifier),e.push(", _type")):e.push(", undefined, _type"),e.push(")")}(e,t);break;case 8:case 7:case 9:case 3:e.push(JSON.stringify(t.value),t);break;case 5:e.push("".concat(n("interpolate"),"(").concat(n("list"),"(").concat(t.index,"))"),t);break;case 4:e.push("".concat(n("interpolate"),"(").concat(n("named"),"(").concat(JSON.stringify(t.key),"))"),t);break;default:throw zu(Uu.UNHANDLED_CODEGEN_NODE_TYPE,null,{domain:hl,args:[t.type]})}}var vl=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Fu(t.mode)?t.mode:"normal",r=Fu(t.filename)?t.filename:"message.intl",i=!!t.sourceMap,a=null!=t.breakLineCode?t.breakLineCode:"arrow"===n?";":"\n",o=t.needIndent?t.needIndent:"arrow"!==n,s=e.helpers||[],u=function(e,t){t.sourceMap;var n=t.filename,r=t.breakLineCode,i=t.needIndent,a=!1!==t.location,o={filename:n,code:"",column:1,line:1,offset:0,map:void 0,breakLineCode:r,needIndent:i,indentLevel:0};function s(e,t){o.code+=e}function u(e){var t=arguments.length>1&&void 0!==arguments[1]&&!arguments[1]?"":r;s(i?t+"  ".repeat(e):t)}return a&&e.loc&&(o.source=e.loc.source),{context:function(){return o},push:s,indent:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=++o.indentLevel;e&&u(t)},deindent:function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],t=--o.indentLevel;e&&u(t)},newline:function(){u(o.indentLevel)},helper:function(e){return"_".concat(e)},needIndent:function(){return o.needIndent}}}(e,{mode:n,filename:r,sourceMap:i,breakLineCode:a,needIndent:o});u.push("normal"===n?"function __msg__ (ctx) {":"(ctx) => {"),u.indent(o),s.length>0&&(u.push("const { ".concat(Vu(s.map((function(e){return"".concat(e,": _").concat(e)})),", ")," } = ctx")),u.newline()),u.push("return "),dl(u,e),u.deindent(o),u.push("}"),delete e.helpers;var l=u.context(),c=l.code,f=l.map;return{ast:e,code:c,map:f?f.toJSON():void 0}};function pl(e){var t=Ru({},arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}),n=!!t.jit,r=!!t.minify,i=null==t.optimize||t.optimize,a=il(t).parse(e);return n?(i&&function(e){var t=e.body;2===t.type?ll(t):t.cases.forEach((function(e){return ll(e)}))}(a),r&&fl(a),{ast:a,code:""}):(ul(a,t),vl(a,t))}
/*!
              * core-base v9.10.2
              * (c) 2024 kazuya kawaguchi
              * Released under the MIT License.
              */var ml=[];ml[0]=k(k(k(k({},"w",[0]),"i",[3,0]),"[",[4]),"o",[7]),ml[1]=k(k(k(k({},"w",[1]),".",[2]),"[",[4]),"o",[7]),ml[2]=k(k(k({},"w",[2]),"i",[3,0]),"0",[3,0]),ml[3]=k(k(k(k(k(k({},"i",[3,0]),"0",[3,0]),"w",[1,1]),".",[2,1]),"[",[4,1]),"o",[7,1]),ml[4]=k(k(k(k(k(k({},"'",[5,0]),'"',[6,0]),"[",[4,2]),"]",[1,3]),"o",8),"l",[4,0]),ml[5]=k(k(k({},"'",[4,0]),"o",8),"l",[5,0]),ml[6]=k(k(k({},'"',[4,0]),"o",8),"l",[6,0]);var gl=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function yl(e){if(null==e)return"o";switch(e.charCodeAt(0)){case 91:case 93:case 46:case 34:case 39:return e;case 95:case 36:case 45:return"i";case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"w"}return"i"}function kl(e){var t,n,r,i=e.trim();return("0"!==e.charAt(0)||!isNaN(parseInt(e)))&&(r=i,gl.test(r)?(n=(t=i).charCodeAt(0))!==t.charCodeAt(t.length-1)||34!==n&&39!==n?t:t.slice(1,-1):"*"+i)}var bl=new Map;function wl(e,t){return xu(e)?e[t]:null}var _l=function(e){return e},Cl=function(e){return""},xl="text",El=function(e){return 0===e.length?"":function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return e.reduce((function(e,n,r){return 0===r?e+n:e+t+n}),"")}(e)},Sl=function(e){return null==e?"":bu(e)||Iu(e)&&e.toString===Su?JSON.stringify(e,null,2):String(e)};function Ll(e,t){return e=Math.abs(e),2===t?e?e>1?1:0:1:e?Math.min(e,2):0}function Il(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.locale,n=function(e){var t=fu(e.pluralIndex)?e.pluralIndex:-1;return e.named&&(fu(e.named.count)||fu(e.named.n))?fu(e.named.count)?e.named.count:fu(e.named.n)?e.named.n:t:t}(e),r=xu(e.pluralRules)&&_u(t)&&wu(e.pluralRules[t])?e.pluralRules[t]:Ll,i=xu(e.pluralRules)&&_u(t)&&wu(e.pluralRules[t])?Ll:void 0,a=e.list||[],o=e.named||{};fu(e.pluralIndex)&&function(e,t){t.count||(t.count=e),t.n||(t.n=e)}(n,o);function s(t){var n=wu(e.messages)?e.messages(t):!!xu(e.messages)&&e.messages[t];return n||(e.parent?e.parent.message(t):Cl)}var u=Iu(e.processor)&&wu(e.processor.normalize)?e.processor.normalize:El,l=Iu(e.processor)&&wu(e.processor.interpolate)?e.processor.interpolate:Sl,c=Iu(e.processor)&&_u(e.processor.type)?e.processor.type:xl,f=k(k(k(k(k(k(k(k(k({},"list",(function(e){return a[e]})),"named",(function(e){return o[e]})),"plural",(function(e){return e[r(n,e.length,i)]})),"linked",(function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=r[0],o=r[1],u="text",l="";1===r.length?xu(a)?(l=a.modifier||l,u=a.type||u):_u(a)&&(l=a||l):2===r.length&&(_u(a)&&(l=a||l),_u(o)&&(u=o||u));var c=s(t)(f),h="vnode"===u&&bu(c)&&l?c[0]:c;return l?function(t){return e.modifiers?e.modifiers[t]:_l}(l)(h,u):h})),"message",s),"type",c),"interpolate",l),"normalize",u),"values",pu({},a,o));return f}var Tl=null;var Al=Nl("function:translate");function Nl(e){return function(t){return Tl&&Tl.emit(e,t)}}var Ml,Ol=Uu.__EXTEND_POINT__,Pl=Tu(Ol),Dl={INVALID_ARGUMENT:Ol,INVALID_DATE_ARGUMENT:Pl(),INVALID_ISO_DATE_ARGUMENT:Pl(),NOT_SUPPORT_NON_STRING_MESSAGE:Pl(),NOT_SUPPORT_LOCALE_PROMISE_VALUE:Pl(),NOT_SUPPORT_LOCALE_ASYNC_FUNCTION:Pl(),NOT_SUPPORT_LOCALE_TYPE:Pl(),__EXTEND_POINT__:Pl()};function Rl(e){return zu(e,null,void 0)}function Fl(e,t){return null!=t.locale?jl(t.locale):jl(e.locale)}function jl(e){if(_u(e))return e;if(wu(e)){if(e.resolvedOnce&&null!=Ml)return Ml;if("Function"===e.constructor.name){var t=e();if(Eu(t))throw Rl(Dl.NOT_SUPPORT_LOCALE_PROMISE_VALUE);return Ml=t}throw Rl(Dl.NOT_SUPPORT_LOCALE_ASYNC_FUNCTION)}throw Rl(Dl.NOT_SUPPORT_LOCALE_TYPE)}function Vl(e,t,n){return _(new Set([n].concat(_(bu(t)?t:xu(t)?Object.keys(t):_u(t)?[t]:[n]))))}function Ul(e,t,n){var r=_u(n)?n:Yl,i=e;i.__localeChainCache||(i.__localeChainCache=new Map);var a=i.__localeChainCache.get(r);if(!a){a=[];for(var o=[n];bu(o);)o=Bl(a,o,t);var s=bu(t)||!Iu(t)?t:t.default?t.default:null;o=_u(s)?[s]:s,bu(o)&&Bl(a,o,!1),i.__localeChainCache.set(r,a)}return a}function Bl(e,t,n){for(var r=!0,i=0;i<t.length&&Cu(r);i++){var a=t[i];_u(a)&&(r=zl(e,t[i],n))}return r}function zl(e,t,n){var r,i=t.split("-");do{r=ql(e,i.join("-"),n),i.splice(-1,1)}while(i.length&&!0===r);return r}function ql(e,t,n){var r=!1;if(!e.includes(t)&&(r=!0,t)){r="!"!==t[t.length-1];var i=t.replace(/!/g,"");e.push(i),(bu(n)||Iu(n))&&n[i]&&(r=n[i])}return r}var Gl,Wl,Hl,Kl="9.10.2",Ql=-1,Yl="en-US",$l="",Xl=function(e){return"".concat(e.charAt(0).toLocaleUpperCase()).concat(e.substr(1))};function Jl(e){Gl=e}var Zl=null,ec=function(e){Zl=e},tc=function(){return Zl},nc=null,rc=function(e){nc=e},ic=function(){return nc},ac=0;function oc(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=wu(e.onWarn)?e.onWarn:Au,n=_u(e.version)?e.version:Kl,r=_u(e.locale)||wu(e.locale)?e.locale:Yl,i=wu(r)?Yl:r,a=bu(e.fallbackLocale)||Iu(e.fallbackLocale)||_u(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:i,o=Iu(e.messages)?e.messages:k({},i,{}),s=Iu(e.datetimeFormats)?e.datetimeFormats:k({},i,{}),u=Iu(e.numberFormats)?e.numberFormats:k({},i,{}),l=pu({},e.modifiers||{},{upper:function(e,t){return"text"===t&&_u(e)?e.toUpperCase():"vnode"===t&&xu(e)&&"__v_isVNode"in e?e.children.toUpperCase():e},lower:function(e,t){return"text"===t&&_u(e)?e.toLowerCase():"vnode"===t&&xu(e)&&"__v_isVNode"in e?e.children.toLowerCase():e},capitalize:function(e,t){return"text"===t&&_u(e)?Xl(e):"vnode"===t&&xu(e)&&"__v_isVNode"in e?Xl(e.children):e}}),c=e.pluralRules||{},f=wu(e.missing)?e.missing:null,h=!Cu(e.missingWarn)&&!du(e.missingWarn)||e.missingWarn,d=!Cu(e.fallbackWarn)&&!du(e.fallbackWarn)||e.fallbackWarn,v=!!e.fallbackFormat,p=!!e.unresolving,m=wu(e.postTranslation)?e.postTranslation:null,g=Iu(e.processor)?e.processor:null,y=!Cu(e.warnHtmlMessage)||e.warnHtmlMessage,b=!!e.escapeParameter,w=wu(e.messageCompiler)?e.messageCompiler:Gl,_=wu(e.messageResolver)?e.messageResolver:Wl||wl,C=wu(e.localeFallbacker)?e.localeFallbacker:Hl||Vl,x=xu(e.fallbackContext)?e.fallbackContext:void 0,E=e,S=xu(E.__datetimeFormatters)?E.__datetimeFormatters:new Map,L=xu(E.__numberFormatters)?E.__numberFormatters:new Map,I=xu(E.__meta)?E.__meta:{},T={version:n,cid:++ac,locale:r,fallbackLocale:a,messages:o,modifiers:l,pluralRules:c,missing:f,missingWarn:h,fallbackWarn:d,fallbackFormat:v,unresolving:p,postTranslation:m,processor:g,warnHtmlMessage:y,escapeParameter:b,messageCompiler:w,messageResolver:_,localeFallbacker:C,fallbackContext:x,onWarn:t,__meta:I};return T.datetimeFormats=s,T.numberFormats=u,T.__datetimeFormatters=S,T.__numberFormatters=L,__INTLIFY_PROD_DEVTOOLS__&&function(e,t,n){Tl&&Tl.emit("i18n:init",{timestamp:Date.now(),i18n:e,version:t,meta:n})}(T,n,I),T}function sc(e,t,n,r,i){var a=e.missing;e.onWarn;if(null!==a){var o=a(e,n,t,i);return _u(o)?o:t}return t}function uc(e,t,n){e.__localeChainCache=new Map,e.localeFallbacker(e,n,t)}function lc(e){return function(t){return function(e,t){var n=t.b||t.body;if(1===(n.t||n.type)){var r=n,i=r.c||r.cases;return e.plural(i.reduce((function(t,n){return[].concat(_(t),[cc(e,n)])}),[]))}return cc(e,n)}(t,e)}}function cc(e,t){var n=t.s||t.static;if(n)return"text"===e.type?n:e.normalize([n]);var r=(t.i||t.items).reduce((function(t,n){return[].concat(_(t),[fc(e,n)])}),[]);return e.normalize(r)}function fc(e,t){var n=t.t||t.type;switch(n){case 3:var r=t;return r.v||r.value;case 9:var i=t;return i.v||i.value;case 4:var a=t;return e.interpolate(e.named(a.k||a.key));case 5:var o=t;return e.interpolate(e.list(null!=o.i?o.i:o.index));case 6:var s=t,u=s.m||s.modifier;return e.linked(fc(e,s.k||s.key),u?fc(e,u):void 0,e.type);case 7:var l=t;return l.v||l.value;case 8:var c=t;return c.v||c.value;default:throw new Error("unhandled node type on format message part: ".concat(n))}}var hc=function(e){return e},dc=Object.create(null),vc=function(e){return xu(e)&&(0===e.t||0===e.type)&&("b"in e||"body"in e)};function pc(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1,r=t.onError||qu;return t.onError=function(e){n=!0,r(e)},c(c({},pl(e,t)),{},{detectError:n})}var mc=function(){return""},gc=function(e){return wu(e)};function yc(e){for(var t=e.fallbackFormat,n=e.postTranslation,r=e.unresolving,i=e.messageCompiler,a=e.fallbackLocale,o=e.messages,s=arguments.length,u=new Array(s>1?s-1:0),l=1;l<s;l++)u[l-1]=arguments[l];var c=w(wc.apply(void 0,u),2),f=c[0],h=c[1],d=Cu(h.missingWarn)?h.missingWarn:e.missingWarn,v=Cu(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn,p=Cu(h.escapeParameter)?h.escapeParameter:e.escapeParameter,m=!!h.resolvedMessage,g=_u(h.default)||Cu(h.default)?Cu(h.default)?i?f:function(){return f}:h.default:t?i?f:function(){return f}:"",y=t||""!==g,k=Fl(e,h);p&&function(e){bu(e.list)?e.list=e.list.map((function(e){return _u(e)?gu(e):e})):xu(e.named)&&Object.keys(e.named).forEach((function(t){_u(e.named[t])&&(e.named[t]=gu(e.named[t]))}))}(h);var b=w(m?[f,k,o[k]||{}]:kc(e,f,k,a,v,d),3),_=b[0],C=b[1],x=b[2],E=_,S=f;if(m||_u(E)||vc(E)||gc(E)||y&&(S=E=g),!(m||(_u(E)||vc(E)||gc(E))&&_u(C)))return r?Ql:f;var L=!1,I=gc(E)?E:bc(e,f,C,E,S,(function(){L=!0}));if(L)return E;var T=function(e,t,n,r){var i=e.modifiers,a=e.pluralRules,o=e.messageResolver,s=e.fallbackLocale,u=e.fallbackWarn,l=e.missingWarn,c=e.fallbackContext,f=function(r){var i=o(n,r);if(null==i&&c){var a=w(kc(c,r,t,s,u,l),3)[2];i=o(a,r)}if(_u(i)||vc(i)){var f=!1,h=bc(e,r,t,i,r,(function(){f=!0}));return f?mc:h}return gc(i)?i:mc},h={locale:t,modifiers:i,pluralRules:a,messages:f};e.processor&&(h.processor=e.processor);r.list&&(h.list=r.list);r.named&&(h.named=r.named);fu(r.plural)&&(h.pluralIndex=r.plural);return h}(e,C,x,h),A=function(e,t,n){var r=t(n);return r}(0,I,Il(T)),N=n?n(A,f):A;if(__INTLIFY_PROD_DEVTOOLS__){var M={timestamp:Date.now(),key:_u(f)?f:gc(E)?E.key:"",locale:C||(gc(E)?E.locale:""),format:_u(E)?E:gc(E)?E.source:"",message:N};M.meta=pu({},e.__meta,tc()||{}),Al(M)}return N}function kc(e,t,n,r,i,a){for(var o,s=e.messages,u=(e.onWarn,e.messageResolver),l=(0,e.localeFallbacker)(e,r,n),c={},f=null,h=0;h<l.length&&(null===(f=u(c=s[o=l[h]]||{},t))&&(f=c[t]),!(_u(f)||vc(f)||gc(f)));h++){var d=sc(e,t,o,0,"translate");d!==t&&(f=d)}return[f,o,c]}function bc(e,t,n,r,i,a){var o=e.messageCompiler,s=e.warnHtmlMessage;if(gc(r)){var u=r;return u.locale=u.locale||n,u.key=u.key||t,u}if(null==o){var l=function(){return r};return l.locale=n,l.key=t,l}var c=o(r,function(e,t,n,r,i,a){return{locale:t,key:n,warnHtmlMessage:i,onError:function(e){throw a&&a(e),e},onCacheKey:function(e){return lu(t,n,e)}}}(0,n,i,0,s,a));return c.locale=n,c.key=t,c.source=r,c}function wc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o={};if(!(_u(r)||fu(r)||gc(r)||vc(r)))throw Rl(Dl.INVALID_ARGUMENT);var s=fu(r)?String(r):(gc(r),r);return fu(i)?o.plural=i:_u(i)?o.default=i:Iu(i)&&!vu(i)?o.named=i:bu(i)&&(o.list=i),fu(a)?o.plural=a:_u(a)?o.default=a:Iu(a)&&pu(o,a),[s,o]}function _c(e){for(var t=e.datetimeFormats,n=e.unresolving,r=e.fallbackLocale,i=(e.onWarn,e.localeFallbacker),a=e.__datetimeFormatters,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];var l=w(xc.apply(void 0,s),4),c=l[0],f=l[1],h=l[2],d=l[3];Cu(h.missingWarn)?h.missingWarn:e.missingWarn;Cu(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn;var v=!!h.part,p=Fl(e,h),m=i(e,r,p);if(!_u(c)||""===c)return new Intl.DateTimeFormat(p,d).format(f);for(var g,y=null,k=0;k<m.length&&(y=(t[g=m[k]]||{})[c],!Iu(y));k++)sc(e,c,g,0,"datetime format");if(!Iu(y)||!_u(g))return n?Ql:c;var b="".concat(g,"__").concat(c);vu(d)||(b="".concat(b,"__").concat(JSON.stringify(d)));var _=a.get(b);return _||(_=new Intl.DateTimeFormat(g,pu({},y,d)),a.set(b,_)),v?_.formatToParts(f):_.format(f)}var Cc=["localeMatcher","weekday","era","year","month","day","hour","minute","second","timeZoneName","formatMatcher","hour12","timeZone","dateStyle","timeStyle","calendar","dayPeriod","numberingSystem","hourCycle","fractionalSecondDigits"];function xc(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r,i=t[0],a=t[1],o=t[2],s=t[3],u={},l={};if(_u(i)){var c=i.match(/(\d{4}-\d{2}-\d{2})(T|\s)?(.*)/);if(!c)throw Rl(Dl.INVALID_ISO_DATE_ARGUMENT);var f=c[3]?c[3].trim().startsWith("T")?"".concat(c[1].trim()).concat(c[3].trim()):"".concat(c[1].trim(),"T").concat(c[3].trim()):c[1].trim();r=new Date(f);try{r.toISOString()}catch(h){throw Rl(Dl.INVALID_ISO_DATE_ARGUMENT)}}else if(hu(i)){if(isNaN(i.getTime()))throw Rl(Dl.INVALID_DATE_ARGUMENT);r=i}else{if(!fu(i))throw Rl(Dl.INVALID_ARGUMENT);r=i}return _u(a)?u.key=a:Iu(a)&&Object.keys(a).forEach((function(e){Cc.includes(e)?l[e]=a[e]:u[e]=a[e]})),_u(o)?u.locale=o:Iu(o)&&(l=o),Iu(s)&&(l=s),[u.key||"",r,u,l]}function Ec(e,t,n){var r=e;for(var i in n){var a="".concat(t,"__").concat(i);r.__datetimeFormatters.has(a)&&r.__datetimeFormatters.delete(a)}}function Sc(e){for(var t=e.numberFormats,n=e.unresolving,r=e.fallbackLocale,i=(e.onWarn,e.localeFallbacker),a=e.__numberFormatters,o=arguments.length,s=new Array(o>1?o-1:0),u=1;u<o;u++)s[u-1]=arguments[u];var l=w(Ic.apply(void 0,s),4),c=l[0],f=l[1],h=l[2],d=l[3];Cu(h.missingWarn)?h.missingWarn:e.missingWarn;Cu(h.fallbackWarn)?h.fallbackWarn:e.fallbackWarn;var v=!!h.part,p=Fl(e,h),m=i(e,r,p);if(!_u(c)||""===c)return new Intl.NumberFormat(p,d).format(f);for(var g,y=null,k=0;k<m.length&&(y=(t[g=m[k]]||{})[c],!Iu(y));k++)sc(e,c,g,0,"number format");if(!Iu(y)||!_u(g))return n?Ql:c;var b="".concat(g,"__").concat(c);vu(d)||(b="".concat(b,"__").concat(JSON.stringify(d)));var _=a.get(b);return _||(_=new Intl.NumberFormat(g,pu({},y,d)),a.set(b,_)),v?_.formatToParts(f):_.format(f)}var Lc=["localeMatcher","style","currency","currencyDisplay","currencySign","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","compactDisplay","notation","signDisplay","unit","unitDisplay","roundingMode","roundingPriority","roundingIncrement","trailingZeroDisplay"];function Ic(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2],o=t[3],s={},u={};if(!fu(r))throw Rl(Dl.INVALID_ARGUMENT);var l=r;return _u(i)?s.key=i:Iu(i)&&Object.keys(i).forEach((function(e){Lc.includes(e)?u[e]=i[e]:s[e]=i[e]})),_u(a)?s.locale=a:Iu(a)&&(u=a),Iu(o)&&(u=o),[s.key||"",l,s,u]}function Tc(e,t,n){var r=e;for(var i in n){var a="".concat(t,"__").concat(i);r.__numberFormatters.has(a)&&r.__numberFormatters.delete(a)}}"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(mu().__INTLIFY_PROD_DEVTOOLS__=!1),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(mu().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(mu().__INTLIFY_DROP_MESSAGE_COMPILER__=!1);
/*!
              * vue-i18n v9.10.2
              * (c) 2024 kazuya kawaguchi
              * Released under the MIT License.
              */
var Ac="9.10.2";var Nc=Tu(8);Nc(),Nc(),Nc(),Nc(),Nc(),Nc(),Nc(),Nc(),Nc();var Mc=Dl.__EXTEND_POINT__,Oc=Tu(Mc),Pc={UNEXPECTED_RETURN_TYPE:Mc,INVALID_ARGUMENT:Oc(),MUST_BE_CALL_SETUP_TOP:Oc(),NOT_INSTALLED:Oc(),NOT_AVAILABLE_IN_LEGACY_MODE:Oc(),REQUIRED_VALUE:Oc(),INVALID_VALUE:Oc(),CANNOT_SETUP_VUE_DEVTOOLS_PLUGIN:Oc(),NOT_INSTALLED_WITH_PROVIDE:Oc(),UNEXPECTED_ERROR:Oc(),NOT_COMPATIBLE_LEGACY_VUE_I18N:Oc(),BRIDGE_SUPPORT_VUE_2_ONLY:Oc(),MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION:Oc(),NOT_AVAILABLE_COMPOSITION_IN_LEGACY:Oc(),__EXTEND_POINT__:Oc()};function Dc(e){return zu(e,null,void 0)}var Rc=uu("__translateVNode"),Fc=uu("__datetimeParts"),jc=uu("__numberParts"),Vc=uu("__setPluralRules"),Uc=uu("__injectWithOption"),Bc=uu("__dispose");function zc(e){if(!xu(e))return e;for(var t in e)if(ku(e,t))if(t.includes(".")){for(var n=t.split("."),r=n.length-1,i=e,a=!1,o=0;o<r;o++){if(n[o]in i||(i[n[o]]={}),!xu(i[n[o]])){a=!0;break}i=i[n[o]]}a||(i[n[r]]=e[t],delete e[t]),xu(i[n[r]])&&zc(i[n[r]])}else xu(e[t])&&zc(e[t]);return e}function qc(e,t){var n=t.messages,r=t.__i18n,i=t.messageResolver,a=t.flatJson,o=Iu(n)?n:bu(r)?{}:k({},e,{});if(bu(r)&&r.forEach((function(e){if("locale"in e&&"resource"in e){var t=e.locale,n=e.resource;t?(o[t]=o[t]||{},Mu(n,o[t])):Mu(n,o)}else _u(e)&&Mu(JSON.parse(e),o)})),null==i&&a)for(var s in o)ku(o,s)&&zc(o[s]);return o}function Gc(e){return e.type}function Wc(e,t,n){var r=xu(t.messages)?t.messages:{};"__i18nGlobal"in n&&(r=qc(e.locale.value,{messages:r,__i18n:n.__i18nGlobal}));var i=Object.keys(r);if(i.length&&i.forEach((function(t){e.mergeLocaleMessage(t,r[t])})),xu(t.datetimeFormats)){var a=Object.keys(t.datetimeFormats);a.length&&a.forEach((function(n){e.mergeDateTimeFormat(n,t.datetimeFormats[n])}))}if(xu(t.numberFormats)){var o=Object.keys(t.numberFormats);o.length&&o.forEach((function(n){e.mergeNumberFormat(n,t.numberFormats[n])}))}}function Hc(e){return Vi(_i,null,e,0)}var Kc="__INTLIFY_META__",Qc=function(){return[]},Yc=function(){return!1},$c=0;function Xc(e){return function(t,n,r,i){return e(n,r,ta()||void 0,i)}}var Jc=function(){var e=ta(),t=null;return e&&(t=Gc(e)[Kc])?k({},Kc,t):null};function Zc(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.__root,r=t.__injectWithOption,i=void 0===n,a=t.flatJson,o=su?Qt:Yt,s=!!t.translateExistCompatible,u=!Cu(t.inheritLocale)||t.inheritLocale,l=o(n&&u?n.locale.value:_u(t.locale)?t.locale:Yl),c=o(n&&u?n.fallbackLocale.value:_u(t.fallbackLocale)||bu(t.fallbackLocale)||Iu(t.fallbackLocale)||!1===t.fallbackLocale?t.fallbackLocale:l.value),f=o(qc(l.value,t)),h=o(Iu(t.datetimeFormats)?t.datetimeFormats:k({},l.value,{})),d=o(Iu(t.numberFormats)?t.numberFormats:k({},l.value,{})),v=n?n.missingWarn:!Cu(t.missingWarn)&&!du(t.missingWarn)||t.missingWarn,p=n?n.fallbackWarn:!Cu(t.fallbackWarn)&&!du(t.fallbackWarn)||t.fallbackWarn,m=n?n.fallbackRoot:!Cu(t.fallbackRoot)||t.fallbackRoot,g=!!t.fallbackFormat,y=wu(t.missing)?t.missing:null,b=wu(t.missing)?Xc(t.missing):null,_=wu(t.postTranslation)?t.postTranslation:null,C=n?n.warnHtmlMessage:!Cu(t.warnHtmlMessage)||t.warnHtmlMessage,x=!!t.escapeParameter,E=n?n.modifiers:Iu(t.modifiers)?t.modifiers:{},S=t.pluralRules||n&&n.pluralRules;uc(e=function(){i&&rc(null);var n={version:Ac,locale:l.value,fallbackLocale:c.value,messages:f.value,modifiers:E,pluralRules:S,missing:null===b?void 0:b,missingWarn:v,fallbackWarn:p,fallbackFormat:g,unresolving:!0,postTranslation:null===_?void 0:_,warnHtmlMessage:C,escapeParameter:x,messageResolver:t.messageResolver,messageCompiler:t.messageCompiler,__meta:{framework:"vue"}};n.datetimeFormats=h.value,n.numberFormats=d.value,n.__datetimeFormatters=Iu(e)?e.__datetimeFormatters:void 0,n.__numberFormatters=Iu(e)?e.__numberFormatters:void 0;var r=oc(n);return i&&rc(r),r}(),l.value,c.value);var L=da({get:function(){return l.value},set:function(t){l.value=t,e.locale=l.value}}),I=da({get:function(){return c.value},set:function(t){c.value=t,e.fallbackLocale=c.value,uc(e,l.value,t)}}),T=da((function(){return f.value})),A=da((function(){return h.value})),N=da((function(){return d.value}));var M=function(t,r,a,o,s,u){var v;l.value,c.value,f.value,h.value,d.value;try{__INTLIFY_PROD_DEVTOOLS__&&ec(Jc()),i||(e.fallbackContext=n?ic():void 0),v=t(e)}finally{__INTLIFY_PROD_DEVTOOLS__,i||(e.fallbackContext=void 0)}if("translate exists"!==a&&fu(v)&&v===Ql||"translate exists"===a&&!v){var p=w(r(),2),g=p[0];p[1];return n&&m?o(n):s(g)}if(u(v))return v;throw Dc(Pc.UNEXPECTED_RETURN_TYPE)};function O(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){return Reflect.apply(yc,null,[e].concat(t))}),(function(){return wc.apply(void 0,t)}),"translate",(function(e){return Reflect.apply(e.t,e,[].concat(t))}),(function(e){return e}),(function(e){return _u(e)}))}var P={normalize:function(e){return e.map((function(e){return _u(e)||fu(e)||Cu(e)?Hc(String(e)):e}))},interpolate:function(e){return e},type:"vnode"};function D(e){return f.value[e]||{}}$c++,n&&su&&(Kn(n.locale,(function(t){u&&(l.value=t,e.locale=t,uc(e,l.value,c.value))})),Kn(n.fallbackLocale,(function(t){u&&(c.value=t,e.fallbackLocale=t,uc(e,l.value,c.value))})));var R=k({id:$c,locale:L,fallbackLocale:I,get inheritLocale(){return u},set inheritLocale(t){u=t,t&&n&&(l.value=n.locale.value,c.value=n.fallbackLocale.value,uc(e,l.value,c.value))},get availableLocales(){return Object.keys(f.value).sort()},messages:T,get modifiers(){return E},get pluralRules(){return S||{}},get isGlobal(){return i},get missingWarn(){return v},set missingWarn(t){v=t,e.missingWarn=v},get fallbackWarn(){return p},set fallbackWarn(t){p=t,e.fallbackWarn=p},get fallbackRoot(){return m},set fallbackRoot(e){m=e},get fallbackFormat(){return g},set fallbackFormat(t){g=t,e.fallbackFormat=g},get warnHtmlMessage(){return C},set warnHtmlMessage(t){C=t,e.warnHtmlMessage=t},get escapeParameter(){return x},set escapeParameter(t){x=t,e.escapeParameter=t},t:O,getLocaleMessage:D,setLocaleMessage:function(t,n){if(a){var r=k({},t,n);for(var i in r)ku(r,i)&&zc(r[i]);n=r[t]}f.value[t]=n,e.messages=f.value},mergeLocaleMessage:function(t,n){f.value[t]=f.value[t]||{};var r=k({},t,n);if(a)for(var i in r)ku(r,i)&&zc(r[i]);Mu(n=r[t],f.value[t]),e.messages=f.value},getPostTranslationHandler:function(){return wu(_)?_:null},setPostTranslationHandler:function(t){_=t,e.postTranslation=t},getMissingHandler:function(){return y},setMissingHandler:function(t){null!==t&&(b=Xc(t)),y=t,e.missing=b}},Vc,(function(t){S=t,e.pluralRules=S}));return R.datetimeFormats=A,R.numberFormats=N,R.rt=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1],a=t[2];if(a&&!xu(a))throw Dc(Pc.INVALID_ARGUMENT);return O.apply(void 0,[r,i,pu({resolvedMessage:!0},a||{})])},R.te=function(t,n){return M((function(){if(!t)return!1;var r=D(_u(n)?n:l.value),i=e.messageResolver(r,t);return s?null!=i:vc(i)||gc(i)||_u(i)}),(function(){return[t]}),"translate exists",(function(e){return Reflect.apply(e.te,e,[t,n])}),Yc,(function(e){return Cu(e)}))},R.tm=function(t){var r=function(t){for(var n=null,r=Ul(e,c.value,l.value),i=0;i<r.length;i++){var a=f.value[r[i]]||{},o=e.messageResolver(a,t);if(null!=o){n=o;break}}return n}(t);return null!=r?r:n&&n.tm(t)||{}},R.d=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){return Reflect.apply(_c,null,[e].concat(t))}),(function(){return xc.apply(void 0,t)}),"datetime format",(function(e){return Reflect.apply(e.d,e,[].concat(t))}),(function(){return $l}),(function(e){return _u(e)}))},R.n=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){return Reflect.apply(Sc,null,[e].concat(t))}),(function(){return Ic.apply(void 0,t)}),"number format",(function(e){return Reflect.apply(e.n,e,[].concat(t))}),(function(){return $l}),(function(e){return _u(e)}))},R.getDateTimeFormat=function(e){return h.value[e]||{}},R.setDateTimeFormat=function(t,n){h.value[t]=n,e.datetimeFormats=h.value,Ec(e,t,n)},R.mergeDateTimeFormat=function(t,n){h.value[t]=pu(h.value[t]||{},n),e.datetimeFormats=h.value,Ec(e,t,n)},R.getNumberFormat=function(e){return d.value[e]||{}},R.setNumberFormat=function(t,n){d.value[t]=n,e.numberFormats=d.value,Tc(e,t,n)},R.mergeNumberFormat=function(t,n){d.value[t]=pu(d.value[t]||{},n),e.numberFormats=d.value,Tc(e,t,n)},R[Uc]=r,R[Rc]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){var n,r=e;try{r.processor=P,n=Reflect.apply(yc,null,[r].concat(t))}finally{r.processor=null}return n}),(function(){return wc.apply(void 0,t)}),"translate",(function(e){return e[Rc].apply(e,t)}),(function(e){return[Hc(e)]}),(function(e){return bu(e)}))},R[Fc]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){return Reflect.apply(_c,null,[e].concat(t))}),(function(){return xc.apply(void 0,t)}),"datetime format",(function(e){return e[Fc].apply(e,t)}),Qc,(function(e){return _u(e)||bu(e)}))},R[jc]=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return M((function(e){return Reflect.apply(Sc,null,[e].concat(t))}),(function(){return Ic.apply(void 0,t)}),"number format",(function(e){return e[jc].apply(e,t)}),Qc,(function(e){return _u(e)||bu(e)}))},R}function ef(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Zc(function(e){var t=_u(e.locale)?e.locale:Yl,n=_u(e.fallbackLocale)||bu(e.fallbackLocale)||Iu(e.fallbackLocale)||!1===e.fallbackLocale?e.fallbackLocale:t,r=wu(e.missing)?e.missing:void 0,i=!Cu(e.silentTranslationWarn)&&!du(e.silentTranslationWarn)||!e.silentTranslationWarn,a=!Cu(e.silentFallbackWarn)&&!du(e.silentFallbackWarn)||!e.silentFallbackWarn,o=!Cu(e.fallbackRoot)||e.fallbackRoot,s=!!e.formatFallbackMessages,u=Iu(e.modifiers)?e.modifiers:{},l=e.pluralizationRules,c=wu(e.postTranslation)?e.postTranslation:void 0,f=!_u(e.warnHtmlInMessage)||"off"!==e.warnHtmlInMessage,h=!!e.escapeParameterHtml,d=!Cu(e.sync)||e.sync,v=e.messages;if(Iu(e.sharedMessages)){var p=e.sharedMessages;v=Object.keys(p).reduce((function(e,t){var n=e[t]||(e[t]={});return pu(n,p[t]),e}),v||{})}var m=e.__i18n,g=e.__root,y=e.__injectWithOption,k=e.datetimeFormats,b=e.numberFormats,w=e.flatJson,_=e.translateExistCompatible;return{locale:t,fallbackLocale:n,messages:v,flatJson:w,datetimeFormats:k,numberFormats:b,missing:r,missingWarn:i,fallbackWarn:a,fallbackRoot:o,fallbackFormat:s,modifiers:u,pluralRules:l,postTranslation:c,warnHtmlMessage:f,escapeParameter:h,messageResolver:e.messageResolver,inheritLocale:d,translateExistCompatible:_,__i18n:m,__root:g,__injectWithOption:y}}(e)),n=e.__extender,r={id:t.id,get locale(){return t.locale.value},set locale(e){t.locale.value=e},get fallbackLocale(){return t.fallbackLocale.value},set fallbackLocale(e){t.fallbackLocale.value=e},get messages(){return t.messages.value},get datetimeFormats(){return t.datetimeFormats.value},get numberFormats(){return t.numberFormats.value},get availableLocales(){return t.availableLocales},get formatter(){return{interpolate:function(){return[]}}},set formatter(e){},get missing(){return t.getMissingHandler()},set missing(e){t.setMissingHandler(e)},get silentTranslationWarn(){return Cu(t.missingWarn)?!t.missingWarn:t.missingWarn},set silentTranslationWarn(e){t.missingWarn=Cu(e)?!e:e},get silentFallbackWarn(){return Cu(t.fallbackWarn)?!t.fallbackWarn:t.fallbackWarn},set silentFallbackWarn(e){t.fallbackWarn=Cu(e)?!e:e},get modifiers(){return t.modifiers},get formatFallbackMessages(){return t.fallbackFormat},set formatFallbackMessages(e){t.fallbackFormat=e},get postTranslation(){return t.getPostTranslationHandler()},set postTranslation(e){t.setPostTranslationHandler(e)},get sync(){return t.inheritLocale},set sync(e){t.inheritLocale=e},get warnHtmlInMessage(){return t.warnHtmlMessage?"warn":"off"},set warnHtmlInMessage(e){t.warnHtmlMessage="off"!==e},get escapeParameterHtml(){return t.escapeParameter},set escapeParameterHtml(e){t.escapeParameter=e},get preserveDirectiveContent(){return!0},set preserveDirectiveContent(e){},get pluralizationRules(){return t.pluralRules||{}},__composer:t,t:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s={},u=null,l=null;if(!_u(i))throw Dc(Pc.INVALID_ARGUMENT);var c=i;return _u(a)?s.locale=a:bu(a)?u=a:Iu(a)&&(l=a),bu(o)?u=o:Iu(o)&&(l=o),Reflect.apply(t.t,t,[c,u||l||{},s])},rt:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Reflect.apply(t.rt,t,[].concat(n))},tc:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],a=n[1],o=n[2],s={plural:1},u=null,l=null;if(!_u(i))throw Dc(Pc.INVALID_ARGUMENT);var c=i;return _u(a)?s.locale=a:fu(a)?s.plural=a:bu(a)?u=a:Iu(a)&&(l=a),_u(o)?s.locale=o:bu(o)?u=o:Iu(o)&&(l=o),Reflect.apply(t.t,t,[c,u||l||{},s])},te:function(e,n){return t.te(e,n)},tm:function(e){return t.tm(e)},getLocaleMessage:function(e){return t.getLocaleMessage(e)},setLocaleMessage:function(e,n){t.setLocaleMessage(e,n)},mergeLocaleMessage:function(e,n){t.mergeLocaleMessage(e,n)},d:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Reflect.apply(t.d,t,[].concat(n))},getDateTimeFormat:function(e){return t.getDateTimeFormat(e)},setDateTimeFormat:function(e,n){t.setDateTimeFormat(e,n)},mergeDateTimeFormat:function(e,n){t.mergeDateTimeFormat(e,n)},n:function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return Reflect.apply(t.n,t,[].concat(n))},getNumberFormat:function(e){return t.getNumberFormat(e)},setNumberFormat:function(e,n){t.setNumberFormat(e,n)},mergeNumberFormat:function(e,n){t.mergeNumberFormat(e,n)},getChoiceIndex:function(e,t){return-1}};return r.__extender=n,r}var tf={tag:{type:[String,Object]},locale:{type:String},scope:{type:String,validator:function(e){return"parent"===e||"global"===e},default:"parent"},i18n:{type:Object}};function nf(e){return wi}var rf=hr({name:"i18n-t",props:pu({keypath:{type:String,required:!0},plural:{type:[Number,String],validator:function(e){return fu(e)||!isNaN(e)}}},tf),setup:function(e,t){var n=t.slots,r=t.attrs,i=e.i18n||gf({useScope:e.scope,__useComponent:!0});return function(){var a=Object.keys(n).filter((function(e){return"_"!==e})),o={};e.locale&&(o.locale=e.locale),void 0!==e.plural&&(o.plural=_u(e.plural)?+e.plural:e.plural);var s=function(e,t){var n=e.slots;return 1===t.length&&"default"===t[0]?(n.default?n.default():[]).reduce((function(e,t){return[].concat(_(e),_(t.type===wi?t.children:[t]))}),[]):t.reduce((function(e,t){var r=n[t];return r&&(e[t]=r()),e}),{})}(t,a),u=i[Rc](e.keypath,s,o),l=pu({},r);return va(_u(e.tag)||xu(e.tag)?e.tag:nf(),l,u)}}}),af=rf;function of(e,t,n,r){var i=t.slots,a=t.attrs;return function(){var t={part:!0},o={};e.locale&&(t.locale=e.locale),_u(e.format)?t.key=e.format:xu(e.format)&&(_u(e.format.key)&&(t.key=e.format.key),o=Object.keys(e.format).reduce((function(t,r){return n.includes(r)?pu({},t,k({},r,e.format[r])):t}),{}));var s=r.apply(void 0,[e.value,t,o]),u=[t.key];bu(s)?u=s.map((function(e,t){var n=i[e.type],r=n?n(k(k(k({},e.type,e.value),"index",t),"parts",s)):[e.value];return function(e){return bu(e)&&!_u(e[0])}(r)&&(r[0].key="".concat(e.type,"-").concat(t)),r})):_u(s)&&(u=[s]);var l=pu({},a);return va(_u(e.tag)||xu(e.tag)?e.tag:nf(),l,u)}}var sf=hr({name:"i18n-n",props:pu({value:{type:Number,required:!0},format:{type:[String,Object]}},tf),setup:function(e,t){var n=e.i18n||gf({useScope:"parent",__useComponent:!0});return of(e,t,Lc,(function(){return n[jc].apply(n,arguments)}))}}),uf=sf,lf=hr({name:"i18n-d",props:pu({value:{type:[Number,Date],required:!0},format:{type:[String,Object]}},tf),setup:function(e,t){var n=e.i18n||gf({useScope:"parent",__useComponent:!0});return of(e,t,Cc,(function(){return n[Fc].apply(n,arguments)}))}}),cf=lf;function ff(e){if(_u(e))return{path:e};if(Iu(e)){if(!("path"in e))throw Dc(Pc.REQUIRED_VALUE);return e}throw Dc(Pc.INVALID_VALUE)}function hf(e){var t=e.path,n=e.locale,r=e.args,i=e.choice,a=e.plural,o={},s=r||{};return _u(n)&&(o.locale=n),fu(i)&&(o.plural=i),fu(a)&&(o.plural=a),[t,s,o]}function df(e,t){var n=Iu(arguments.length<=2?void 0:arguments[2])?arguments.length<=2?void 0:arguments[2]:{},r=!!n.useI18nComponentName;(!Cu(n.globalInstall)||n.globalInstall)&&([r?"i18n":af.name,"I18nT"].forEach((function(t){return e.component(t,af)})),[uf.name,"I18nN"].forEach((function(t){return e.component(t,uf)})),[cf.name,"I18nD"].forEach((function(t){return e.component(t,cf)}))),e.directive("t",function(e){var t=function(t){var n=t.instance,r=(t.modifiers,t.value);if(!n||!n.$)throw Dc(Pc.UNEXPECTED_ERROR);var i=function(e,t){var n=e;if("composition"===e.mode)return n.__getInstance(t)||e.global;var r=n.__getInstance(t);return null!=r?r.__composer:e.global.__composer}(e,n.$),a=ff(r);return[Reflect.apply(i.t,i,_(hf(a))),i]};return{created:function(n,r){var i=w(t(r),2),a=i[0],o=i[1];su&&e.global===o&&(n.__i18nWatcher=Kn(o.locale,(function(){r.instance&&r.instance.$forceUpdate()}))),n.__composer=o,n.textContent=a},unmounted:function(e){su&&e.__i18nWatcher&&(e.__i18nWatcher(),e.__i18nWatcher=void 0,delete e.__i18nWatcher),e.__composer&&(e.__composer=void 0,delete e.__composer)},beforeUpdate:function(e,t){var n=t.value;if(e.__composer){var r=e.__composer,i=ff(n);e.textContent=Reflect.apply(r.t,r,_(hf(i)))}},getSSRProps:function(e){return{textContent:w(t(e),1)[0]}}}}(t))}function vf(e,t,n){return{beforeCreate:function(){var r=this,i=ta();if(!i)throw Dc(Pc.UNEXPECTED_ERROR);var a=this.$options;if(a.i18n){var o=a.i18n;if(a.__i18n&&(o.__i18n=a.__i18n),o.__root=t,this===this.$root)this.$i18n=pf(e,o);else{o.__injectWithOption=!0,o.__extender=n.__vueI18nExtend,this.$i18n=ef(o);var s=this.$i18n;s.__extender&&(s.__disposer=s.__extender(this.$i18n))}}else if(a.__i18n)if(this===this.$root)this.$i18n=pf(e,a);else{this.$i18n=ef({__i18n:a.__i18n,__injectWithOption:!0,__extender:n.__vueI18nExtend,__root:t});var u=this.$i18n;u.__extender&&(u.__disposer=u.__extender(this.$i18n))}else this.$i18n=e;a.__i18nGlobal&&Wc(t,a,a),this.$t=function(){var e;return(e=r.$i18n).t.apply(e,arguments)},this.$rt=function(){var e;return(e=r.$i18n).rt.apply(e,arguments)},this.$tc=function(){var e;return(e=r.$i18n).tc.apply(e,arguments)},this.$te=function(e,t){return r.$i18n.te(e,t)},this.$d=function(){var e;return(e=r.$i18n).d.apply(e,arguments)},this.$n=function(){var e;return(e=r.$i18n).n.apply(e,arguments)},this.$tm=function(e){return r.$i18n.tm(e)},n.__setInstance(i,this.$i18n)},mounted:function(){},unmounted:function(){var e=ta();if(!e)throw Dc(Pc.UNEXPECTED_ERROR);var t=this.$i18n;delete this.$t,delete this.$rt,delete this.$tc,delete this.$te,delete this.$d,delete this.$n,delete this.$tm,t.__disposer&&(t.__disposer(),delete t.__disposer,delete t.__extender),n.__deleteInstance(e),delete this.$i18n}}}function pf(e,t){e.locale=t.locale||e.locale,e.fallbackLocale=t.fallbackLocale||e.fallbackLocale,e.missing=t.missing||e.missing,e.silentTranslationWarn=t.silentTranslationWarn||e.silentFallbackWarn,e.silentFallbackWarn=t.silentFallbackWarn||e.silentFallbackWarn,e.formatFallbackMessages=t.formatFallbackMessages||e.formatFallbackMessages,e.postTranslation=t.postTranslation||e.postTranslation,e.warnHtmlInMessage=t.warnHtmlInMessage||e.warnHtmlInMessage,e.escapeParameterHtml=t.escapeParameterHtml||e.escapeParameterHtml,e.sync=t.sync||e.sync,e.__composer[Vc](t.pluralizationRules||e.pluralizationRules);var n=qc(e.locale,{messages:t.messages,__i18n:t.__i18n});return Object.keys(n).forEach((function(t){return e.mergeLocaleMessage(t,n[t])})),t.datetimeFormats&&Object.keys(t.datetimeFormats).forEach((function(n){return e.mergeDateTimeFormat(n,t.datetimeFormats[n])})),t.numberFormats&&Object.keys(t.numberFormats).forEach((function(n){return e.mergeNumberFormat(n,t.numberFormats[n])})),e}var mf=uu("global-vue-i18n");function gf(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=ta();if(null==t)throw Dc(Pc.MUST_BE_CALL_SETUP_TOP);if(!t.isCE&&null!=t.appContext.app&&!t.appContext.app.__VUE_I18N_SYMBOL__)throw Dc(Pc.NOT_INSTALLED);var n=function(e){var t=ei(e.isCE?mf:e.appContext.app.__VUE_I18N_SYMBOL__);if(!t)throw Dc(e.isCE?Pc.NOT_INSTALLED_WITH_PROVIDE:Pc.UNEXPECTED_ERROR);return t}(t),r=function(e){return"composition"===e.mode?e.global:e.global.__composer}(n),i=Gc(t),a=function(e,t){return vu(e)?"__i18n"in t?"local":"global":e.useScope?e.useScope:"local"}(e,i);if(__VUE_I18N_LEGACY_API__&&"legacy"===n.mode&&!e.__useComponent){if(!n.allowComposition)throw Dc(Pc.NOT_AVAILABLE_IN_LEGACY_MODE);return function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i="local"===t,a=Yt(null);if(i&&e.proxy&&!e.proxy.$options.i18n&&!e.proxy.$options.__i18n)throw Dc(Pc.MUST_DEFINE_I18N_OPTION_IN_ALLOW_COMPOSITION);var o=Cu(r.inheritLocale)?r.inheritLocale:!_u(r.locale),s=Qt(!i||o?n.locale.value:_u(r.locale)?r.locale:Yl),u=Qt(!i||o?n.fallbackLocale.value:_u(r.fallbackLocale)||bu(r.fallbackLocale)||Iu(r.fallbackLocale)||!1===r.fallbackLocale?r.fallbackLocale:s.value),l=Qt(qc(s.value,r)),c=Qt(Iu(r.datetimeFormats)?r.datetimeFormats:k({},s.value,{})),f=Qt(Iu(r.numberFormats)?r.numberFormats:k({},s.value,{})),h=i?n.missingWarn:!Cu(r.missingWarn)&&!du(r.missingWarn)||r.missingWarn,d=i?n.fallbackWarn:!Cu(r.fallbackWarn)&&!du(r.fallbackWarn)||r.fallbackWarn,v=i?n.fallbackRoot:!Cu(r.fallbackRoot)||r.fallbackRoot,p=!!r.fallbackFormat,m=wu(r.missing)?r.missing:null,g=wu(r.postTranslation)?r.postTranslation:null,y=i?n.warnHtmlMessage:!Cu(r.warnHtmlMessage)||r.warnHtmlMessage,b=!!r.escapeParameter,w=i?n.modifiers:Iu(r.modifiers)?r.modifiers:{},_=r.pluralRules||i&&n.pluralRules;function C(){return[s.value,u.value,l.value,c.value,f.value]}var x=da({get:function(){return a.value?a.value.locale.value:s.value},set:function(e){a.value&&(a.value.locale.value=e),s.value=e}}),E=da({get:function(){return a.value?a.value.fallbackLocale.value:u.value},set:function(e){a.value&&(a.value.fallbackLocale.value=e),u.value=e}}),S=da((function(){return a.value?a.value.messages.value:l.value})),L=da((function(){return c.value})),I=da((function(){return f.value}));function T(){return a.value?a.value.getPostTranslationHandler():g}function A(e){a.value&&a.value.setPostTranslationHandler(e)}function N(){return a.value?a.value.getMissingHandler():m}function M(e){a.value&&a.value.setMissingHandler(e)}function O(e){return C(),e()}function P(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.value?O((function(){return Reflect.apply(a.value.t,null,[].concat(t))})):O((function(){return""}))}function D(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.value?Reflect.apply(a.value.rt,null,[].concat(t)):""}function R(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.value?O((function(){return Reflect.apply(a.value.d,null,[].concat(t))})):O((function(){return""}))}function F(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return a.value?O((function(){return Reflect.apply(a.value.n,null,[].concat(t))})):O((function(){return""}))}function j(e){return a.value?a.value.tm(e):{}}function V(e,t){return!!a.value&&a.value.te(e,t)}function U(e){return a.value?a.value.getLocaleMessage(e):{}}function B(e,t){a.value&&(a.value.setLocaleMessage(e,t),l.value[e]=t)}function z(e,t){a.value&&a.value.mergeLocaleMessage(e,t)}function q(e){return a.value?a.value.getDateTimeFormat(e):{}}function G(e,t){a.value&&(a.value.setDateTimeFormat(e,t),c.value[e]=t)}function W(e,t){a.value&&a.value.mergeDateTimeFormat(e,t)}function H(e){return a.value?a.value.getNumberFormat(e):{}}function K(e,t){a.value&&(a.value.setNumberFormat(e,t),f.value[e]=t)}function Q(e,t){a.value&&a.value.mergeNumberFormat(e,t)}var Y={get id(){return a.value?a.value.id:-1},locale:x,fallbackLocale:E,messages:S,datetimeFormats:L,numberFormats:I,get inheritLocale(){return a.value?a.value.inheritLocale:o},set inheritLocale(e){a.value&&(a.value.inheritLocale=e)},get availableLocales(){return a.value?a.value.availableLocales:Object.keys(l.value)},get modifiers(){return a.value?a.value.modifiers:w},get pluralRules(){return a.value?a.value.pluralRules:_},get isGlobal(){return!!a.value&&a.value.isGlobal},get missingWarn(){return a.value?a.value.missingWarn:h},set missingWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackWarn(){return a.value?a.value.fallbackWarn:d},set fallbackWarn(e){a.value&&(a.value.missingWarn=e)},get fallbackRoot(){return a.value?a.value.fallbackRoot:v},set fallbackRoot(e){a.value&&(a.value.fallbackRoot=e)},get fallbackFormat(){return a.value?a.value.fallbackFormat:p},set fallbackFormat(e){a.value&&(a.value.fallbackFormat=e)},get warnHtmlMessage(){return a.value?a.value.warnHtmlMessage:y},set warnHtmlMessage(e){a.value&&(a.value.warnHtmlMessage=e)},get escapeParameter(){return a.value?a.value.escapeParameter:b},set escapeParameter(e){a.value&&(a.value.escapeParameter=e)},t:P,getPostTranslationHandler:T,setPostTranslationHandler:A,getMissingHandler:N,setMissingHandler:M,rt:D,d:R,n:F,tm:j,te:V,getLocaleMessage:U,setLocaleMessage:B,mergeLocaleMessage:z,getDateTimeFormat:q,setDateTimeFormat:G,mergeDateTimeFormat:W,getNumberFormat:H,setNumberFormat:K,mergeNumberFormat:Q};function $(e){e.locale.value=s.value,e.fallbackLocale.value=u.value,Object.keys(l.value).forEach((function(t){e.mergeLocaleMessage(t,l.value[t])})),Object.keys(c.value).forEach((function(t){e.mergeDateTimeFormat(t,c.value[t])})),Object.keys(f.value).forEach((function(t){e.mergeNumberFormat(t,f.value[t])})),e.escapeParameter=b,e.fallbackFormat=p,e.fallbackRoot=v,e.fallbackWarn=d,e.missingWarn=h,e.warnHtmlMessage=y}return wr((function(){if(null==e.proxy||null==e.proxy.$i18n)throw Dc(Pc.NOT_AVAILABLE_COMPOSITION_IN_LEGACY);var n=a.value=e.proxy.$i18n.__composer;"global"===t?(s.value=n.locale.value,u.value=n.fallbackLocale.value,l.value=n.messages.value,c.value=n.datetimeFormats.value,f.value=n.numberFormats.value):i&&$(n)})),Y}(t,a,r,e)}if("global"===a)return Wc(r,e,i),r;if("parent"===a){var o=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=null,i=t.root,a=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null==e)return null;return t&&e.vnode.ctx||e.parent}(t,n);for(;null!=a;){var o=e;if("composition"===e.mode)r=o.__getInstance(a);else if(__VUE_I18N_LEGACY_API__){var s=o.__getInstance(a);null!=s&&(r=s.__composer,n&&r&&!r[Uc]&&(r=null))}if(null!=r)break;if(i===a)break;a=a.parent}return r}(n,t,e.__useComponent);return null==o&&(o=r),o}var s=n,u=s.__getInstance(t);if(null==u){var l=pu({},e);"__i18n"in i&&(l.__i18n=i.__i18n),r&&(l.__root=r),u=Zc(l),s.__composerExtend&&(u[Bc]=s.__composerExtend(u)),function(e,t,n){_r((function(){}),t),Sr((function(){var r=n;e.__deleteInstance(t);var i=r[Bc];i&&(i(),delete r[Bc])}),t)}(s,t,u),s.__setInstance(t,u)}return u}var yf,kf=["locale","fallbackLocale","availableLocales"],bf=["t","rt","d","n","tm","te"];function wf(e,t){var n=Object.create(null);kf.forEach((function(e){var r=Object.getOwnPropertyDescriptor(t,e);if(!r)throw Dc(Pc.UNEXPECTED_ERROR);var i=Kt(r.value)?{get:function(){return r.value.value},set:function(e){r.value.value=e}}:{get:function(){return r.get&&r.get()}};Object.defineProperty(n,e,i)})),e.config.globalProperties.$i18n=n,bf.forEach((function(n){var r=Object.getOwnPropertyDescriptor(t,n);if(!r||!r.value)throw Dc(Pc.UNEXPECTED_ERROR);Object.defineProperty(e.config.globalProperties,"$".concat(n),r)}));return function(){delete e.config.globalProperties.$i18n,bf.forEach((function(t){delete e.config.globalProperties["$".concat(t)]}))}}if("boolean"!=typeof __VUE_I18N_FULL_INSTALL__&&(mu().__VUE_I18N_FULL_INSTALL__=!0),"boolean"!=typeof __VUE_I18N_LEGACY_API__&&(mu().__VUE_I18N_LEGACY_API__=!0),"boolean"!=typeof __INTLIFY_JIT_COMPILATION__&&(mu().__INTLIFY_JIT_COMPILATION__=!1),"boolean"!=typeof __INTLIFY_DROP_MESSAGE_COMPILER__&&(mu().__INTLIFY_DROP_MESSAGE_COMPILER__=!1),"boolean"!=typeof __INTLIFY_PROD_DEVTOOLS__&&(mu().__INTLIFY_PROD_DEVTOOLS__=!1),__INTLIFY_JIT_COMPILATION__?Jl((function(e,t){if(__INTLIFY_JIT_COMPILATION__&&!__INTLIFY_DROP_MESSAGE_COMPILER__&&_u(e)){!Cu(t.warnHtmlMessage)||t.warnHtmlMessage;var n=(t.onCacheKey||hc)(e),r=dc[n];if(r)return r;var i=pc(e,c(c({},t),{},{location:!1,jit:!0})),a=i.ast,o=i.detectError,s=lc(a);return o?s:dc[n]=s}var u=e.cacheKey;if(u){return dc[u]||(dc[u]=lc(e))}return lc(e)})):Jl((function(e,t){if(!_u(e))throw Rl(Dl.NOT_SUPPORT_NON_STRING_MESSAGE);!Cu(t.warnHtmlMessage)||t.warnHtmlMessage;var n=(t.onCacheKey||hc)(e),r=dc[n];if(r)return r;var i=pc(e,t),a=i.code,o=i.detectError,s=new Function("return ".concat(a))();return o?s:dc[n]=s})),Wl=function(e,t){if(!xu(e))return null;var n=bl.get(t);if(n||(n=function(e){var t,n,r,i,a,o,s,u=[],l=-1,c=0,f=0,h=[];function d(){var t=e[l+1];if(5===c&&"'"===t||6===c&&'"'===t)return l++,r="\\"+t,h[0](),!0}for(h[0]=function(){void 0===n?n=r:n+=r},h[1]=function(){void 0!==n&&(u.push(n),n=void 0)},h[2]=function(){h[0](),f++},h[3]=function(){if(f>0)f--,c=4,h[0]();else{if(f=0,void 0===n)return!1;if(!1===(n=kl(n)))return!1;h[1]()}};null!==c;)if(l++,"\\"!==(t=e[l])||!d()){if(i=yl(t),8===(a=(s=ml[c])[i]||s.l||8))return;if(c=a[0],void 0!==a[1]&&(o=h[a[1]])&&(r=t,!1===o()))return;if(7===c)return u}}(t))&&bl.set(t,n),!n)return null;for(var r=n.length,i=e,a=0;a<r;){var o=i[n[a]];if(void 0===o)return null;if(wu(i))return null;i=o,a++}return i},Hl=Ul,__INTLIFY_PROD_DEVTOOLS__){var _f=mu();_f.__INTLIFY__=!0,yf=_f.__INTLIFY_DEVTOOLS_GLOBAL_HOOK__,Tl=yf}var Cf,xf,Ef,Sf=function(e){return Cf=e},Lf=Symbol();
/*!
             * pinia v2.1.7
             * (c) 2023 Eduardo San Martin Morote
             * @license MIT
             */function If(e){return e&&"object"===C(e)&&"[object Object]"===Object.prototype.toString.call(e)&&"function"!=typeof e.toJSON}(Ef=xf||(xf={})).direct="direct",Ef.patchObject="patch object",Ef.patchFunction="patch function";var Tf=function(){};function Af(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:Tf;e.push(t);var i=function(){var n=e.indexOf(t);n>-1&&(e.splice(n,1),r())};return!n&&Le()&&Ie(i),i}function Nf(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];e.slice().forEach((function(e){e.apply(void 0,n)}))}var Mf=function(e){return e()};function Of(e,t){for(var n in e instanceof Map&&t instanceof Map&&t.forEach((function(t,n){return e.set(n,t)})),e instanceof Set&&t instanceof Set&&t.forEach(e.add,e),t)if(t.hasOwnProperty(n)){var r=t[n],i=e[n];If(i)&&If(r)&&e.hasOwnProperty(n)&&!Kt(r)&&!Rt(r)?e[n]=Of(i,r):e[n]=r}return e}var Pf=Symbol();var Df=Object.assign;function Rf(e,t,n,r){var i,a=t.state,o=t.actions,s=t.getters,u=n.state.value[e];return i=Ff(e,(function(){u||(n.state.value[e]=a?a():{});var t=function(e){var t=R(e)?new Array(e.length):{};for(var n in e)t[n]=an(e,n);return t}(n.state.value[e]);return Df(t,o,Object.keys(s||{}).reduce((function(t,r){return t[r]=Bt(da((function(){Sf(n);var t=n._s.get(e);return s[r].call(t,t)}))),t}),{}))}),t,n,r,!0),i}function Ff(e,t){var n,r,i,a,o,s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},u=arguments.length>3?arguments[3]:void 0,l=arguments.length>5?arguments[5]:void 0,c=Df({actions:{}},s),f={deep:!0},h=[],d=[],v=u.state.value[e];function p(t){var n;r=i=!1,"function"==typeof t?(t(u.state.value[e]),n={type:xf.patchFunction,storeId:e,events:a}):(Of(u.state.value[e],t),n={type:xf.patchObject,payload:t,storeId:e,events:a});var s=o=Symbol();yn().then((function(){o===s&&(r=!0)})),i=!0,Nf(h,n,u.state.value[e])}l||v||(u.state.value[e]={}),Qt({});var m=l?function(){var e=s.state,t=e?e():{};this.$patch((function(e){Df(e,t)}))}:Tf;function g(t,n){return function(){Sf(u);var r,i=Array.from(arguments),a=[],o=[];Nf(d,{args:i,name:t,store:k,after:function(e){a.push(e)},onError:function(e){o.push(e)}});try{r=n.apply(this&&this.$id===e?this:k,i)}catch(s){throw Nf(o,s),s}return r instanceof Promise?r.then((function(e){return Nf(a,e),e})).catch((function(e){return Nf(o,e),Promise.reject(e)})):(Nf(a,r),r)}}var y={_p:u,$id:e,$onAction:Af.bind(null,d),$patch:p,$reset:m,$subscribe:function(t){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},s=Af(h,t,o.detached,(function(){return l()})),l=n.run((function(){return Kn((function(){return u.state.value[e]}),(function(n){("sync"===o.flush?i:r)&&t({storeId:e,type:xf.direct,events:a},n)}),Df({},f,o))}));return s},$dispose:function(){n.stop(),h=[],d=[],u._s.delete(e)}},k=Mt(y);u._s.set(e,k);var b,w,_=(u._a&&u._a.runWithContext||Mf)((function(){return u._e.run((function(){return(n=Se()).run(t)}))}));for(var C in _){var x=_[C];if(Kt(x)&&(!Kt(w=x)||!w.effect)||Rt(x))l||(!v||If(b=x)&&b.hasOwnProperty(Pf)||(Kt(x)?x.value=v[C]:Of(x,v[C])),u.state.value[e][C]=x);else if("function"==typeof x){var E=g(C,x);_[C]=E,c.actions[C]=x}}return Df(k,_),Df(Ut(k),_),Object.defineProperty(k,"$state",{get:function(){return u.state.value[e]},set:function(e){p((function(t){Df(t,e)}))}}),u._p.forEach((function(e){Df(k,n.run((function(){return e({store:k,app:u._a,pinia:u,options:c})})))})),v&&l&&s.hydrate&&s.hydrate(k.$state,v),r=!0,i=!0,k}function jf(e,t,n){var r,i,a="function"==typeof t;function o(e,n){return(e=e||(!!(ea||Tn||Jr)?ei(Lf,null):null))&&Sf(e),(e=Cf)._s.has(r)||(a?Ff(r,t,i,e):Rf(r,i,e)),e._s.get(r)}return"string"==typeof e?(r=e,i=a?n:t):(i=e,r=e.id),o.$id=r,o}function Vf(e){e=Ut(e);var t={};for(var n in e){var r=e[n];(Kt(r)||Rt(r))&&(t[n]=rn(e,n))}return t}!function(){var e;try{if(("undefined"==typeof document?"undefined":C(document))<"u"){var t=document.createElement("style");t.nonce=null==(e=document.head.querySelector("meta[property=csp-nonce]"))?void 0:e.content,t.appendChild(document.createTextNode(".vue-notification-group{display:block;position:fixed;z-index:5000}.vue-notification-wrapper{display:block;overflow:hidden;width:100%;margin:0;padding:0}.notification-title{font-weight:600}.vue-notification-template{display:block;box-sizing:border-box;background:white;text-align:left}.vue-notification{display:block;box-sizing:border-box;text-align:left;font-size:12px;padding:10px;margin:0 5px 5px;color:#fff;background:#44A4FC;border-left:5px solid #187FE7}.vue-notification.warn{background:#ffb648;border-left-color:#f48a06}.vue-notification.error{background:#E54D42;border-left-color:#b82e24}.vue-notification.success{background:#68CD86;border-left-color:#42a85f}.vn-fade-enter-active,.vn-fade-leave-active,.vn-fade-move{transition:all .5s}.vn-fade-enter-from,.vn-fade-leave-to{opacity:0}")),document.head.appendChild(t)}}catch(n){console.error("vite-plugin-css-injected-by-js",n)}}();var Uf=new Map,Bf=function(){return y((function e(t,n,r){m(this,e),this.remaining=n,this.callback=t,this.notifyItem=r,this.resume()}),[{key:"pause",value:function(){clearTimeout(this.notifyItem.timer),this.remaining-=Date.now()-this.start}},{key:"resume",value:function(){this.start=Date.now(),clearTimeout(this.notifyItem.timer),this.notifyItem.timer=setTimeout(this.callback,this.remaining)}}])}();var zf,qf={all:zf=zf||new Map,on:function(e,t){var n=zf.get(e);n?n.push(t):zf.set(e,[t])},off:function(e,t){var n=zf.get(e);n&&(t?n.splice(n.indexOf(t)>>>0,1):zf.set(e,[]))},emit:function(e,t){var n=zf.get(e);n&&n.slice().map((function(e){e(t)})),(n=zf.get("*"))&&n.slice().map((function(n){n(e,t)}))}},Gf="[-+]?[0-9]*.?[0-9]+",Wf=[{name:"px",regexp:new RegExp("^".concat(Gf,"px$"))},{name:"%",regexp:new RegExp("^".concat(Gf,"%$"))},{name:"px",regexp:new RegExp("^".concat(Gf,"$"))}],Hf=function(e){switch(C(e)){case"number":return{type:"px",value:e};case"string":return function(e){if("auto"===e)return{type:e,value:0};for(var t=0;t<Wf.length;t++){var n=Wf[t];if(n.regexp.test(e))return{type:n.name,value:parseFloat(e)}}return{type:"",value:e}}(e);default:return{type:"",value:e}}},Kf={x:new Set(["left","center","right"]),y:new Set(["top","bottom"])},Qf=function(e){return function(){return e++}}(0),Yf=function(e){"string"==typeof e&&(e=function(e){return"string"!=typeof e?[]:e.split(/\s+/gi).filter(Boolean)}(e));var t=null,n=null;return e.forEach((function(e){Kf.y.has(e)&&(n=e),Kf.x.has(e)&&(t=e)})),{x:t,y:n}},$f=["top","right"],Xf="vn-fade",Jf={enter:function(e){return{height:[e.clientHeight,0],opacity:[1,0]}},leave:{height:0,opacity:[0,1]}},Zf=hr({name:"velocity-group",inheritAttrs:!1,props:{name:{type:String,default:""}},emits:{enter:function(e,t){return!0},leave:function(e,t){return!0},afterLeave:function(){return!0}},setup:function(e,t){var n=t.slots,r=t.emit,i=function(e,t){r("enter",e,t)},a=function(e,t){r("leave",e,t)},o=function(){r("afterLeave")};return function(){return Vi(lo,{tag:"div",css:!1,name:e.name,onEnter:i,onLeave:a,onAfterLeave:o},{default:function(){var e;return[null==(e=n.default)?void 0:e.call(n)]}})}}}),eh=hr({name:"css-group",inheritAttrs:!1,props:{name:{type:String,default:""}},setup:function(e,t){var n=t.slots;return function(){return Vi(lo,{tag:"div",name:e.name},{default:function(){var e;return[null==(e=n.default)?void 0:e.call(n)]}})}}});function th(e){return"function"==typeof e||"[object Object]"===Object.prototype.toString.call(e)&&!Oi(e)}var nh=0,rh=2,ih=hr({name:"notifications",props:{group:{type:String,default:""},width:{type:[Number,String],default:300},reverse:{type:Boolean,default:!1},position:{type:[String,Array],default:function(){return $f}},classes:{type:[String,Array],default:"vue-notification"},animationType:{type:String,default:"css",validator:function(e){return"css"===e||"velocity"===e}},animation:{type:Object,default:function(){return Jf}},animationName:{type:String,default:Xf},speed:{type:Number,default:300},duration:{type:Number,default:3e3},delay:{type:Number,default:0},max:{type:Number,default:1/0},ignoreDuplicates:{type:Boolean,default:!1},closeOnClick:{type:Boolean,default:!0},pauseOnHover:{type:Boolean,default:!1},dangerouslySetInnerHtml:{type:Boolean,default:!1}},emits:{click:function(e){return!0},destroy:function(e){return!0},start:function(e){return!0}},slots:Object,setup:function(e,t){var n=t.emit,r=t.slots,i=(t.expose,Qt([])),a=Qt(null),o=Uf.get("velocity"),s=da((function(){return"velocity"===e.animationType})),u=da((function(){return s.value?Zf:eh})),l=da((function(){return i.value.filter((function(e){return e.state!==rh}))})),c=da((function(){return Hf(e.width)})),f=da((function(){var t=Yf(e.position),n=t.x,r=t.y,i=c.value.value,a=c.value.type,o={width:i+a};return r&&(o[r]="0px"),n&&("center"===n?o.left="calc(50% - ".concat(+i/2).concat(a,")"):o[n]="0px"),o})),h=da((function(){return"bottom"in f.value})),d=function(){var t;e.pauseOnHover&&(null==(t=a.value)||t.pause())},v=function(){var t;e.pauseOnHover&&(null==(t=a.value)||t.resume())},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(t.group||(t.group=""),t.data||(t.data={}),e.group===t.group)if(t.clean||t.clear)w();else{var r="number"==typeof t.duration?t.duration:e.duration,o="number"==typeof t.speed?t.speed:e.speed,s="boolean"==typeof t.ignoreDuplicates?t.ignoreDuplicates:e.ignoreDuplicates,u=t.title,c=t.text,f=t.type,d=t.data,v={id:t.id||Qf(),title:u,text:c,type:f,state:nh,speed:o,length:r+2*o,data:d,duplicates:0};r>=0&&(a.value=new Bf((function(){return k(v)}),v.length,v));var p=e.reverse?!h.value:h.value,m=-1,g=l.value.find((function(e){return e.title===t.title&&e.text===t.text}));s&&g?g.duplicates++:(p?(i.value.push(v),n("start",v),l.value.length>e.max&&(m=0)):(i.value.unshift(v),n("start",v),l.value.length>e.max&&(m=l.value.length-1)),-1!==m&&k(l.value[m]))}},m=function(e){b(e)},g=function(t){return["vue-notification-template",e.classes,t.type||""]},y=function(e){return s.value?void 0:{transition:"all ".concat(e.speed,"ms")}},k=function(e){clearTimeout(e.timer),e.state=rh,E(),n("destroy",e)},b=function(e){var t=i.value.find((function(t){return t.id===e}));t&&k(t)},w=function(){l.value.forEach(k)},_=function(t,n){var r,i=null==(r=e.animation)?void 0:r[t];return"function"==typeof i?i(n):i},C=function(t,n){if(s.value){var r=_("enter",t);o(t,r,{duration:e.speed,complete:n})}},x=function(t,n){if(s.value){var r=_("leave",t);o(t,r,{duration:e.speed,complete:n})}};function E(){i.value=i.value.filter((function(e){return e.state!==rh}))}return _r((function(){qf.on("add",p),qf.on("close",m)})),function(){var t;return Vi("div",{class:"vue-notification-group",style:f.value},[Vi(u.value,{name:e.animationName,onEnter:C,onLeave:x,onAfterLeave:E},th(t=l.value.map((function(t){return Vi("div",{key:t.id,class:"vue-notification-wrapper",style:y(t),"data-id":t.id,onMouseenter:d,onMouseleave:v},[r.body?r.body({item:t,class:[e.classes,t.type],close:function(){return k(t)}}):Vi("div",{class:g(t),onClick:function(){return function(t){n("click",t),e.closeOnClick&&k(t)}(t)}},[e.dangerouslySetInnerHtml?Vi(wi,null,[t.title?Vi("div",{class:"notification-title",innerHTML:t.title},null):null,Vi("div",{class:"notification-content",innerHTML:t.text},null)]):Vi(wi,null,[t.title?Vi("div",{class:"notification-title"},[t.title]):null,Vi("div",{class:"notification-content"},[t.text])])])])})))?t:{default:function(){return[t]}})])}}}),ah=function(e){"string"==typeof e&&(e={title:"",text:e}),"object"==C(e)&&qf.emit("add",e)};ah.close=function(e){qf.emit("close",e)};var oh={install:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Object.entries(t).forEach((function(e){return Uf.set.apply(Uf,_(e))}));var n=t.name||"notify";e.config.globalProperties["$"+n]=ah,e.component(t.componentName||"Notifications",ih)}},sh=Object.defineProperty,uh=function(e,t,n){return function(e,t,n){t in e?sh(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n}(e,"symbol"!=C(t)?t+"":t,n),n},lh="w",ch="b",fh="p",hh="b",dh="r",vh="q",ph="k",mh="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",gh=-1,yh={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},kh={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},bh={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},wh={b:[16,32,17,15],w:[-16,-32,-17,-15]},_h={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},Ch=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],xh=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],Eh={p:1,n:2,b:4,r:8,q:16,k:32},Sh=["n",hh,dh,vh],Lh=k(k({},ph,kh.KSIDE_CASTLE),vh,kh.QSIDE_CASTLE),Ih={w:[{square:bh.a1,flag:kh.QSIDE_CASTLE},{square:bh.h1,flag:kh.KSIDE_CASTLE}],b:[{square:bh.a8,flag:kh.QSIDE_CASTLE},{square:bh.h8,flag:kh.KSIDE_CASTLE}]},Th={b:1,w:6},Ah=["1-0","0-1","1/2-1/2","*"];function Nh(e){return e>>4}function Mh(e){return 15&e}function Oh(e){return-1!=="0123456789".indexOf(e)}function Ph(e){var t=Mh(e),n=Nh(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function Dh(e){return e===lh?ch:lh}function Rh(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:kh.NORMAL,s=Nh(r);if(i!==fh||7!==s&&0!==s)e.push({color:t,from:n,to:r,piece:i,captured:a,flags:o});else for(var u=0;u<Sh.length;u++){var l=Sh[u];e.push({color:t,from:n,to:r,piece:i,captured:a,promotion:l,flags:o|kh.PROMOTION})}}function Fh(e){var t=e.charAt(0);return t>="a"&&t<="h"?e.match(/[a-h]\d.*[a-h]\d/)?void 0:fh:"o"===(t=t.toLowerCase())?ph:t}function jh(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function Vh(e){return e.split(" ").slice(0,4).join(" ")}var Uh=function(){return y((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:mh;m(this,e),uh(this,"_board",new Array(128)),uh(this,"_turn",lh),uh(this,"_header",{}),uh(this,"_kings",{w:gh,b:gh}),uh(this,"_epSquare",-1),uh(this,"_halfMoves",0),uh(this,"_moveNumber",0),uh(this,"_history",[]),uh(this,"_comments",{}),uh(this,"_castling",{w:0,b:0}),uh(this,"_positionCount",{}),this.load(t)}),[{key:"clear",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveHeaders,t=void 0!==e&&e;this._board=new Array(128),this._kings={w:gh,b:gh},this._turn=lh,this._castling={w:0,b:0},this._epSquare=gh,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}},{key:"removeHeader",value:function(e){e in this._header&&delete this._header[e]}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipValidation,r=void 0!==n&&n,i=t.preserveHeaders,a=void 0!==i&&i,o=e.split(/\s+/);if(o.length>=2&&o.length<6){e=o.concat(["-","-","0","1"].slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!r){var s=function(e){var t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};var n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};var r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};var i=t[0].split("/");if(8!==i.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(var a=0;a<i.length;a++){for(var o=0,s=!1,u=0;u<i[a].length;u++)if(Oh(i[a][u])){if(s)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};o+=parseInt(i[a][u],10),s=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[a][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};o+=1,s=!1}if(8!==o)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};for(var l=0,c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];l<c.length;l++){var f=c[l],h=f.color,d=f.regex;if(!d.test(t[0]))return{ok:!1,error:"Invalid FEN: missing ".concat(h," king")};if((t[0].match(d)||[]).length>1)return{ok:!1,error:"Invalid FEN: too many ".concat(h," kings")}}return Array.from(i[0]+i[7]).some((function(e){return"P"===e.toUpperCase()}))?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}(e),u=s.ok,l=s.error;if(!u)throw new Error(l)}var c=o[0],f=0;this.clear({preserveHeaders:a});for(var h=0;h<c.length;h++){var d=c.charAt(h);if("/"===d)f+=8;else if(Oh(d))f+=parseInt(d,10);else{var v=d<"a"?lh:ch;this._put({type:d.toLowerCase(),color:v},Ph(f)),f++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=kh.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=kh.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=kh.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=kh.QSIDE_CASTLE),this._epSquare="-"===o[3]?gh:bh[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._updateSetup(e),this._incPositionCount(e)}},{key:"fen",value:function(){for(var e,t,n=0,r="",i=bh.a8;i<=bh.h1;i++){if(this._board[i]){n>0&&(r+=n,n=0);var a=this._board[i],o=a.color,s=a.type;r+=o===lh?s.toUpperCase():s.toLowerCase()}else n++;i+1&136&&(n>0&&(r+=n),i!==bh.h1&&(r+="/"),n=0,i+=8)}var u="";this._castling[lh]&kh.KSIDE_CASTLE&&(u+="K"),this._castling[lh]&kh.QSIDE_CASTLE&&(u+="Q"),this._castling[ch]&kh.KSIDE_CASTLE&&(u+="k"),this._castling[ch]&kh.QSIDE_CASTLE&&(u+="q"),u=u||"-";var l="-";if(this._epSquare!==gh)for(var c=this._epSquare+(this._turn===lh?16:-16),f=0,h=[c+1,c-1];f<h.length;f++){var d=h[f];if(!(136&d)){var v=this._turn;if((null==(e=this._board[d])?void 0:e.color)===v&&(null==(t=this._board[d])?void 0:t.type)===fh){this._makeMove({color:v,from:d,to:this._epSquare,piece:fh,captured:fh,flags:kh.EP_CAPTURE});var p=!this._isKingAttacked(v);if(this._undoMove(),p){l=Ph(this._epSquare);break}}}}return[r,this._turn,u,l,this._halfMoves,this._moveNumber].join(" ")}},{key:"_updateSetup",value:function(e){this._history.length>0||(e!==mh?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}},{key:"reset",value:function(){this.load(mh)}},{key:"get",value:function(e){return this._board[bh[e]]||!1}},{key:"put",value:function(e,t){var n=e.type,r=e.color;return!!this._put({type:n,color:r},t)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}},{key:"_put",value:function(e,t){var n=e.type,r=e.color;if(-1==="pnbrqkPNBRQK".indexOf(n.toLowerCase())||!(t in bh))return!1;var i=bh[t];if(n==ph&&this._kings[r]!=gh&&this._kings[r]!=i)return!1;var a=this._board[i];return a&&a.type===ph&&(this._kings[a.color]=gh),this._board[i]={type:n,color:r},n===ph&&(this._kings[r]=i),!0}},{key:"remove",value:function(e){var t=this.get(e);return delete this._board[bh[e]],t&&t.type===ph&&(this._kings[t.color]=gh),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}},{key:"_updateCastlingRights",value:function(){var e,t,n,r,i,a,o,s,u,l,c,f,h=(null==(e=this._board[bh.e1])?void 0:e.type)===ph&&(null==(t=this._board[bh.e1])?void 0:t.color)===lh,d=(null==(n=this._board[bh.e8])?void 0:n.type)===ph&&(null==(r=this._board[bh.e8])?void 0:r.color)===ch;(!h||(null==(i=this._board[bh.a1])?void 0:i.type)!==dh||(null==(a=this._board[bh.a1])?void 0:a.color)!==lh)&&(this._castling.w&=~kh.QSIDE_CASTLE),(!h||(null==(o=this._board[bh.h1])?void 0:o.type)!==dh||(null==(s=this._board[bh.h1])?void 0:s.color)!==lh)&&(this._castling.w&=~kh.KSIDE_CASTLE),(!d||(null==(u=this._board[bh.a8])?void 0:u.type)!==dh||(null==(l=this._board[bh.a8])?void 0:l.color)!==ch)&&(this._castling.b&=~kh.QSIDE_CASTLE),(!d||(null==(c=this._board[bh.h8])?void 0:c.type)!==dh||(null==(f=this._board[bh.h8])?void 0:f.color)!==ch)&&(this._castling.b&=~kh.KSIDE_CASTLE)}},{key:"_updateEnPassantSquare",value:function(){var e,t,n=this;if(this._epSquare!==gh){var r=this._epSquare+(this._turn===lh?-16:16),i=this._epSquare+(this._turn===lh?16:-16),a=[i+1,i-1];if(null===this._board[r]&&null===this._board[this._epSquare]&&(null==(e=this._board[i])?void 0:e.color)===Dh(this._turn)&&(null==(t=this._board[i])?void 0:t.type)===fh){a.some((function(e){var t,r;return!(136&e)&&(null==(t=n._board[e])?void 0:t.color)===n._turn&&(null==(r=n._board[e])?void 0:r.type)===fh}))||(this._epSquare=gh)}else this._epSquare=gh}}},{key:"_attacked",value:function(e,t){for(var n=bh.a8;n<=bh.h1;n++)if(136&n)n+=7;else if(void 0!==this._board[n]&&this._board[n].color===e){var r=this._board[n],i=n-t;if(0!==i){var a=i+119;if(Ch[a]&Eh[r.type]){if(r.type===fh){if(i>0){if(r.color===lh)return!0}else if(r.color===ch)return!0;continue}if("n"===r.type||"k"===r.type)return!0;for(var o=xh[a],s=n+o,u=!1;s!==t;){if(null!=this._board[s]){u=!0;break}s+=o}if(!u)return!0}}}return!1}},{key:"_isKingAttacked",value:function(e){var t=this._kings[e];return-1!==t&&this._attacked(Dh(e),t)}},{key:"isAttacked",value:function(e,t){return this._attacked(t,bh[e])}},{key:"isCheck",value:function(){return this._isKingAttacked(this._turn)}},{key:"inCheck",value:function(){return this.isCheck()}},{key:"isCheckmate",value:function(){return this.isCheck()&&0===this._moves().length}},{key:"isStalemate",value:function(){return!this.isCheck()&&0===this._moves().length}},{key:"isInsufficientMaterial",value:function(){for(var e={b:0,n:0,r:0,q:0,k:0,p:0},t=[],n=0,r=0,i=bh.a8;i<=bh.h1;i++)if(r=(r+1)%2,136&i)i+=7;else{var a=this._board[i];a&&(e[a.type]=a.type in e?e[a.type]+1:1,a.type===hh&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[hh]||1===e.n))return!0;if(n===e[hh]+2){for(var o=0,s=t.length,u=0;u<s;u++)o+=t[u];if(0===o||o===s)return!0}return!1}},{key:"isThreefoldRepetition",value:function(){return this._getPositionCount(this.fen())>=3}},{key:"isDraw",value:function(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}},{key:"isGameOver",value:function(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}},{key:"moves",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.verbose,r=void 0!==n&&n,i=t.square,a=void 0===i?void 0:i,o=t.piece,s=void 0===o?void 0:o,u=this._moves({square:a,piece:s});return r?u.map((function(t){return e._makePretty(t)})):u.map((function(t){return e._moveToSan(t,u)}))}},{key:"_moves",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.legal,r=void 0===n||n,i=t.piece,a=void 0===i?void 0:i,o=t.square,s=void 0===o?void 0:o,u=s?s.toLowerCase():void 0,l=null==a?void 0:a.toLowerCase(),c=[],f=this._turn,h=Dh(f),d=bh.a8,v=bh.h1,p=!1;if(u){if(!(u in bh))return[];d=v=bh[u],p=!0}for(var m=d;m<=v;m++)if(136&m)m+=7;else if(this._board[m]&&this._board[m].color!==h){var g=this._board[m].type,y=void 0;if(g===fh){if(l&&l!==g)continue;y=m+wh[f][0],this._board[y]||(Rh(c,f,m,y,fh),y=m+wh[f][1],Th[f]===Nh(m)&&!this._board[y]&&Rh(c,f,m,y,fh,void 0,kh.BIG_PAWN));for(var k=2;k<4;k++)!(136&(y=m+wh[f][k]))&&((null==(e=this._board[y])?void 0:e.color)===h?Rh(c,f,m,y,fh,this._board[y].type,kh.CAPTURE):y===this._epSquare&&Rh(c,f,m,y,fh,fh,kh.EP_CAPTURE))}else{if(l&&l!==g)continue;for(var b=0,w=_h[g].length;b<w;b++){var _=_h[g][b];for(y=m;!(136&(y+=_));){if(this._board[y]){if(this._board[y].color===f)break;Rh(c,f,m,y,g,this._board[y].type,kh.CAPTURE);break}if(Rh(c,f,m,y,g),"n"===g||g===ph)break}}}}if(!(void 0!==l&&l!==ph||p&&v!==this._kings[f])){if(this._castling[f]&kh.KSIDE_CASTLE){var C=this._kings[f],x=C+2;!this._board[C+1]&&!this._board[x]&&!this._attacked(h,this._kings[f])&&!this._attacked(h,C+1)&&!this._attacked(h,x)&&Rh(c,f,this._kings[f],x,ph,void 0,kh.KSIDE_CASTLE)}if(this._castling[f]&kh.QSIDE_CASTLE){var E=this._kings[f],S=E-2;!this._board[E-1]&&!this._board[E-2]&&!this._board[E-3]&&!this._attacked(h,this._kings[f])&&!this._attacked(h,E-1)&&!this._attacked(h,S)&&Rh(c,f,this._kings[f],S,ph,void 0,kh.QSIDE_CASTLE)}}if(!r||-1===this._kings[f])return c;for(var L=[],I=0,T=c.length;I<T;I++)this._makeMove(c[I]),this._isKingAttacked(f)||L.push(c[I]),this._undoMove();return L}},{key:"move",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strict,n=void 0!==t&&t,r=null;if("string"==typeof e)r=this._moveFromSan(e,n);else if("object"==C(e))for(var i=this._moves(),a=0,o=i.length;a<o;a++)if(e.from===Ph(i[a].from)&&e.to===Ph(i[a].to)&&(!("promotion"in i[a])||e.promotion===i[a].promotion)){r=i[a];break}if(!r)throw"string"==typeof e?new Error("Invalid move: ".concat(e)):new Error("Invalid move: ".concat(JSON.stringify(e)));var s=this._makePretty(r);return this._makeMove(r),this._incPositionCount(s.after),s}},{key:"_push",value:function(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}},{key:"_makeMove",value:function(e){var t=this._turn,n=Dh(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&kh.EP_CAPTURE&&(this._turn===ch?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===ph){if(this._kings[t]=e.to,e.flags&kh.KSIDE_CASTLE){var r=e.to-1,i=e.to+1;this._board[r]=this._board[i],delete this._board[i]}else if(e.flags&kh.QSIDE_CASTLE){var a=e.to+1,o=e.to-2;this._board[a]=this._board[o],delete this._board[o]}this._castling[t]=0}if(this._castling[t])for(var s=0,u=Ih[t].length;s<u;s++)if(e.from===Ih[t][s].square&&this._castling[t]&Ih[t][s].flag){this._castling[t]^=Ih[t][s].flag;break}if(this._castling[n])for(var l=0,c=Ih[n].length;l<c;l++)if(e.to===Ih[n][l].square&&this._castling[n]&Ih[n][l].flag){this._castling[n]^=Ih[n][l].flag;break}e.flags&kh.BIG_PAWN?this._epSquare=t===ch?e.to-16:e.to+16:this._epSquare=gh,e.piece===fh||e.flags&(kh.CAPTURE|kh.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===ch&&this._moveNumber++,this._turn=n}},{key:"undo",value:function(){var e=this._undoMove();if(e){var t=this._makePretty(e);return this._decPositionCount(t.after),t}return null}},{key:"_undoMove",value:function(){var e=this._history.pop();if(void 0===e)return null;var t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;var n,r,i=this._turn,a=Dh(i);if(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)if(t.flags&kh.EP_CAPTURE){var o;o=i===ch?t.to-16:t.to+16,this._board[o]={type:fh,color:a}}else this._board[t.to]={type:t.captured,color:a};t.flags&(kh.KSIDE_CASTLE|kh.QSIDE_CASTLE)&&(t.flags&kh.KSIDE_CASTLE?(n=t.to+1,r=t.to-1):(n=t.to-2,r=t.to+1),this._board[n]=this._board[r],delete this._board[r]);return t}},{key:"pgn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.newline,r=void 0===n?"\n":n,i=t.maxWidth,a=void 0===i?0:i,o=[],s=!1;for(var u in this._header)o.push("["+u+' "'+this._header[u]+'"]'+r),s=!0;s&&this._history.length&&o.push(r);for(var l=function(t){var n=e._comments[e.fen()];if(C(n)<"u"){var r=t.length>0?" ":"";t="".concat(t).concat(r,"{").concat(n,"}")}return t},c=[];this._history.length>0;)c.push(this._undoMove());var f=[],h="";for(0===c.length&&f.push(l(""));c.length>0;){h=l(h);var d=c.pop();if(!d)break;if(this._history.length||"b"!==d.color)"w"===d.color&&(h.length&&f.push(h),h=this._moveNumber+".");else{var v="".concat(this._moveNumber,". ...");h=h?"".concat(h," ").concat(v):v}h=h+" "+this._moveToSan(d,this._moves({legal:!0})),this._makeMove(d)}if(h.length&&f.push(l(h)),C(this._header.Result)<"u"&&f.push(this._header.Result),0===a)return o.join("")+f.join(" ");for(var p=function(){return o.length>0&&" "===o[o.length-1]&&(o.pop(),!0)},m=function(e,t){var n,i=x(t.split(" "));try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s){if(e+s.length>a){for(;p();)e--;o.push(r),e=0}o.push(s),e+=s.length,o.push(" "),e++}}}catch(u){i.e(u)}finally{i.f()}return p()&&e--,e},g=0,y=0;y<f.length;y++)g+f[y].length>a&&f[y].includes("{")?g=m(g,f[y]):(g+f[y].length>a&&0!==y?(" "===o[o.length-1]&&o.pop(),o.push(r),g=0):0!==y&&(o.push(" "),g++),o.push(f[y]),g+=f[y].length);return o.join("")}},{key:"header",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=2)"string"==typeof t[r]&&"string"==typeof t[r+1]&&(this._header[t[r]]=t[r+1]);return this._header}},{key:"loadPgn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strict,r=void 0!==n&&n,i=t.newlineChar,a=void 0===i?"\r?\n":i;function o(e){return e.replace(/\\/g,"\\")}e=e.trim();var s=new RegExp("^(\\[((?:"+o(a)+")|.)*\\])((?:\\s*"+o(a)+"){2}|(?:\\s*"+o(a)+")*$)").exec(e),u=s&&s.length>=2?s[1]:"";this.reset();var l=function(e){for(var t={},n=e.split(new RegExp(o(a))),r="",i="",s=0;s<n.length;s++){var u=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;r=n[s].replace(u,"$1"),i=n[s].replace(u,"$2"),r.trim().length>0&&(t[r]=i)}return t}(u),c="";for(var f in l)"fen"===f.toLowerCase()&&(c=l[f]),this.header(f,l[f]);if(r){if("1"===l.SetUp){if(!("FEN"in l))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(l.FEN,{preserveHeaders:!0})}}else c&&this.load(c,{preserveHeaders:!0});for(var h=function(e){return e=e.replace(new RegExp(o(a),"g")," "),"{".concat(function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("")}(e.slice(1,e.length-1)),"}")},d=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+(e.match(/.{1,2}/g)||[]).join("%"))}(e.slice(1,e.length-1))},v=e.replace(u,"").replace(new RegExp("({[^}]*})+?|;([^".concat(o(a),"]*)"),"g"),(function(e,t,n){return void 0!==t?h(t):" "+h("{".concat(n.slice(1),"}"))})).replace(new RegExp(o(a),"g")," "),p=/(\([^()]+\))+?/g;p.test(v);)v=v.replace(p,"");var m=(v=(v=(v=v.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).trim().split(new RegExp(/\s+/));m=m.filter((function(e){return""!==e}));for(var g="",y=0;y<m.length;y++){var k=d(m[y]);if(void 0===k){var b=this._moveFromSan(m[y],r);if(null==b){if(!(Ah.indexOf(m[y])>-1))throw new Error("Invalid move in PGN: ".concat(m[y]));g=m[y]}else g="",this._makeMove(b),this._incPositionCount(this.fen())}else this._comments[this.fen()]=k}g&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",g)}},{key:"_moveToSan",value:function(e,t){var n="";if(e.flags&kh.KSIDE_CASTLE)n="O-O";else if(e.flags&kh.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==fh){var r=function(e,t){for(var n=e.from,r=e.to,i=e.piece,a=0,o=0,s=0,u=0,l=t.length;u<l;u++){var c=t[u].from,f=t[u].to;i===t[u].piece&&n!==c&&r===f&&(a++,Nh(n)===Nh(c)&&o++,Mh(n)===Mh(c)&&s++)}return a>0?o>0&&s>0?Ph(n):s>0?Ph(n).charAt(1):Ph(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(kh.CAPTURE|kh.EP_CAPTURE)&&(e.piece===fh&&(n+=Ph(e.from)[0]),n+="x"),n+=Ph(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}},{key:"_moveFromSan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=jh(e),r=Fh(n),i=this._moves({legal:!0,piece:r}),a=0,o=i.length;a<o;a++)if(n===jh(this._moveToSan(i[a],i)))return i[a];if(t)return null;var s,u,l,c,f,h=!1;if((u=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/))?(s=u[1],l=u[2],c=u[3],f=u[4],1==l.length&&(h=!0)):(u=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/))&&(s=u[1],l=u[2],c=u[3],f=u[4],1==l.length&&(h=!0)),r=Fh(n),i=this._moves({legal:!0,piece:s||r}),!c)return null;for(var d=0,v=i.length;d<v;d++)if(l){if(!(s&&s.toLowerCase()!=i[d].piece||bh[l]!=i[d].from||bh[c]!=i[d].to||f&&f.toLowerCase()!=i[d].promotion))return i[d];if(h){var p=Ph(i[d].from);if(!(s&&s.toLowerCase()!=i[d].piece||bh[c]!=i[d].to||l!=p[0]&&l!=p[1]||f&&f.toLowerCase()!=i[d].promotion))return i[d]}}else if(n===jh(this._moveToSan(i[d],i)).replace("x",""))return i[d];return null}},{key:"ascii",value:function(){for(var e="   +------------------------+\n",t=bh.a8;t<=bh.h1;t++){if(0===Mh(t)&&(e+=" "+"87654321"[Nh(t)]+" |"),this._board[t]){var n=this._board[t].type;e+=" "+(this._board[t].color===lh?n.toUpperCase():n.toLowerCase())+" "}else e+=" . ";t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h"}},{key:"perft",value:function(e){for(var t=this._moves({legal:!1}),n=0,r=this._turn,i=0,a=t.length;i<a;i++)this._makeMove(t[i]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}},{key:"_makePretty",value:function(e){var t=e.color,n=e.piece,r=e.from,i=e.to,a=e.flags,o=e.captured,s=e.promotion,u="";for(var l in kh)kh[l]&a&&(u+=yh[l]);var c=Ph(r),f=Ph(i),h={color:t,piece:n,from:c,to:f,san:this._moveToSan(e,this._moves({legal:!0})),flags:u,lan:c+f,before:this.fen(),after:""};return this._makeMove(e),h.after=this.fen(),this._undoMove(),o&&(h.captured=o),s&&(h.promotion=s,h.lan+=s),h}},{key:"turn",value:function(){return this._turn}},{key:"board",value:function(){for(var e=[],t=[],n=bh.a8;n<=bh.h1;n++)null==this._board[n]?t.push(null):t.push({square:Ph(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}},{key:"squareColor",value:function(e){if(e in bh){var t=bh[e];return(Nh(t)+Mh(t))%2==0?"light":"dark"}return null}},{key:"history",value:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).verbose,t=void 0!==e&&e,n=[],r=[];this._history.length>0;)n.push(this._undoMove());for(;;){var i=n.pop();if(!i)break;t?r.push(this._makePretty(i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}},{key:"_getPositionCount",value:function(e){var t=Vh(e);return this._positionCount[t]||0}},{key:"_incPositionCount",value:function(e){var t=Vh(e);void 0===this._positionCount[t]&&(this._positionCount[t]=0),this._positionCount[t]+=1}},{key:"_decPositionCount",value:function(e){var t=Vh(e);1===this._positionCount[t]?delete this._positionCount[t]:this._positionCount[t]-=1}},{key:"_pruneComments",value:function(){for(var e=this,t=[],n={},r=function(t){t in e._comments&&(n[t]=e._comments[t])};this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){var i=t.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}},{key:"getComment",value:function(){return this._comments[this.fen()]}},{key:"setComment",value:function(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}},{key:"deleteComment",value:function(){var e=this._comments[this.fen()];return delete this._comments[this.fen()],e}},{key:"getComments",value:function(){var e=this;return this._pruneComments(),Object.keys(this._comments).map((function(t){return{fen:t,comment:e._comments[t]}}))}},{key:"deleteComments",value:function(){var e=this;return this._pruneComments(),Object.keys(this._comments).map((function(t){var n=e._comments[t];return delete e._comments[t],{fen:t,comment:n}}))}},{key:"setCastlingRights",value:function(e,t){for(var n=0,r=[ph,vh];n<r.length;n++){var i=r[n];void 0!==t[i]&&(t[i]?this._castling[e]|=Lh[i]:this._castling[e]&=~Lh[i])}this._updateCastlingRights();var a=this.getCastlingRights(e);return!(void 0!==t[ph]&&t[ph]!==a[ph]||void 0!==t[vh]&&t[vh]!==a[vh])}},{key:"getCastlingRights",value:function(e){return k(k({},ph,!!(this._castling[e]&Lh[ph])),vh,!!(this._castling[e]&Lh[vh]))}},{key:"moveNumber",value:function(){return this._moveNumber}}])}(),Bh=["width","height"],zh=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],qh=hr({__name:"BP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},zh,8,Bh)}}}),Gh=["width","height"],Wh=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#000000;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#000000;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z " style="fill:#ffffff;stroke:none;"></path></g>',1)],Hh=hr({__name:"BN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Wh,8,Gh)}}}),Kh=["width","height"],Qh=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#ffffff;stroke-linejoin:miter;"></path></g>',1)],Yh=hr({__name:"BB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Qh,8,Kh)}}}),$h=["width","height"],Xh=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z " style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z " style="stroke-linecap:butt;"></path><path d="M 12,35.5 L 33,35.5 L 33,35.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 13,31.5 L 32,31.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,29.5 L 31,29.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 31,16.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path></g>',1)],Jh=hr({__name:"BR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Xh,8,$h)}}}),Zh=["width","height"],ed=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:none;"><circle cx="6" cy="12" r="2.75"></circle><circle cx="14" cy="9" r="2.75"></circle><circle cx="22.5" cy="8" r="2.75"></circle><circle cx="31" cy="9" r="2.75"></circle><circle cx="39" cy="12" r="2.75"></circle></g><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z" style="stroke-linecap:butt;stroke:#000000;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z" style="stroke-linecap:butt;"></path><path d="M 11,38.5 A 35,35 1 0 0 34,38.5" style="fill:none;stroke:#000000;stroke-linecap:butt;"></path><path d="M 11,29 A 35,35 1 0 1 34,29" style="fill:none;stroke:#ffffff;"></path><path d="M 12.5,31.5 L 32.5,31.5" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5" style="fill:none;stroke:#ffffff;"></path><path d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5" style="fill:none;stroke:#ffffff;"></path></g>',1)],td=hr({__name:"BQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},ed,8,Zh)}}}),nd=["width","height"],rd=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;" id="path6570"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#000000;fill-opacity:1;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#000000;stroke:#000000;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#ffffff;"></path></g>',1)],id=hr({__name:"BK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},rd,8,nd)}}}),ad=["width","height"],od=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#ffffff","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],sd=hr({__name:"WP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},od,8,ad)}}}),ud=["width","height"],ld=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#ffffff;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#ffffff;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#000000;stroke:#000000;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#000000;stroke:#000000;"></path></g>',1)],cd=hr({__name:"WN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},ld,8,ud)}}}),fd=["width","height"],hd=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],dd=hr({__name:"WB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},hd,8,fd)}}}),vd=["width","height"],pd=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14" style="stroke-linecap:butt;"></path><path d="M 34,14 L 31,17 L 14,17 L 11,14"></path><path d="M 31,17 L 31,29.5 L 14,29.5 L 14,17" style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],md=hr({__name:"WR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},pd,8,vd)}}}),gd=["width","height"],yd=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(-1,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(15.5,-5.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(32,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(7,-4.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(24,-4)"></path><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z " style="stroke-linecap:butt;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z " style="stroke-linecap:butt;"></path><path d="M 11.5,30 C 15,29 30,29 33.5,30" style="fill:none;"></path><path d="M 12,33.5 C 18,32.5 27,32.5 33,33.5" style="fill:none;"></path></g>',1)],kd=hr({__name:"WQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},yd,8,gd)}}}),bd=["width","height"],wd=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#ffffff;stroke:#000000;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30" style="fill:none;stroke:#000000;"></path><path d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5" style="fill:none;stroke:#000000;"></path><path d="M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#000000;"></path></g>',1)],_d=hr({__name:"WK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},wd,8,bd)}}}),Cd=["width","height"],xd=[ji("g",{id:"SVGRepo_bgCarrier","stroke-width":"0"},null,-1),ji("g",{id:"SVGRepo_tracerCarrier","stroke-linecap":"round","stroke-linejoin":"round"},null,-1),ji("g",{id:"SVGRepo_iconCarrier"},[ji("polygon",{points:"456.851,0 245,212.564 33.149,0 0.708,32.337 212.669,245.004 0.708,457.678 33.149,490 245,277.443 456.851,490 489.292,457.678 277.331,245.004 489.292,32.337 "})],-1)],Ed=hr({__name:"Cross",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{fill:"#d01616",width:n.value,height:n.value,version:"1.1",id:"Capa_1",xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink",viewBox:"0 0 490 490","xml:space":"preserve",stroke:"#d01616"},xd,8,Cd)}}});function Sd(e,t){return"".concat(String.fromCharCode(97+e)).concat(String.fromCharCode(49+t))}function Ld(e,t,n){return e.split(" ")[0].split("/").map(Id).toReversed()[n][t]}function Id(e){return e.split("").flatMap((function(e){return function(e){var t=e.charCodeAt(0);return t>=48&&t<=57}(e)?function(e){for(var t=parseInt(e),n=[],r=0;r<t;r++)n.push("");return n}(e):e}))}function Td(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"P"===r}function Ad(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"N"===r}function Nd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"B"===r}function Md(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"R"===r}function Od(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"Q"===r}function Pd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"K"===r}function Dd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"p"===r}function Rd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"n"===r}function Fd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"b"===r}function jd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"r"===r}function Vd(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"q"===r}function Ud(e,t,n){var r=Ld(e,t,n);return void 0!==r&&"k"===r}function Bd(e,t,n,r){var i=Math.floor((e-.5*n)/n),a=Math.floor((t-.5*n)/n);return[[!0,"true"].includes(r)?7-i:i,[!0,"true"].includes(r)?a:7-a]}function zd(e,t){if(!t)return[];var n=t.getBoundingClientRect();return[e.clientX-n.x,e.clientY-n.y]}function qd(e,t,n,r,i){return{from:Sd(e,t),to:Sd(n,r),promotion:i}}function Gd(e,t,n){var r=n.originCell;return r.file===e&&r.rank===t}function Wd(e,t,n){var r=n.targetCell;return r.file===e&&r.rank===t}function Hd(e,t,n){var r=n.targetCell;return r.file===e||r.rank===t}function Kd(e){return"P"===e.piece}function Qd(e){return"N"===e.piece}function Yd(e){return"B"===e.piece}function $d(e){return"R"===e.piece}function Xd(e){return"Q"===e.piece}function Jd(e){return"K"===e.piece}function Zd(e){return"p"===e.piece}function ev(e){return"n"===e.piece}function tv(e){return"b"===e.piece}function nv(e){return"r"===e.piece}function rv(e){return"q"===e.piece}function iv(e){return"k"===e.piece}var av=function(e){return Mn("data-v-c00eddd7"),e=e(),On(),e},ov={class:"lowest-layer"},sv=av((function(){return ji("div",null,null,-1)})),uv={key:0,class:"coordinate"},lv={key:1},cv=av((function(){return ji("div",null,null,-1)})),fv={key:0,class:"coordinate"},hv={key:1},dv={key:0,class:"dnd-orig"},vv={key:2,class:"coordinate"},pv={key:3},mv=av((function(){return ji("div",null,null,-1)})),gv={key:0,class:"coordinate"},yv={key:1},kv={class:"player-turn-cell"},bv={key:0,class:"last-move-layer"},wv=[av((function(){return ji("div",{class:"last-move-line last-move-base-line"},null,-1)})),av((function(){return ji("div",{class:"last-move-line last-move-arrow-1"},null,-1)})),av((function(){return ji("div",{class:"last-move-line last-move-arrow-2"},null,-1)})),av((function(){return ji("div",{class:"last-move-line last-move-arrow-point"},null,-1)}))],_v={class:"dnd-layer"},Cv={key:12},xv={key:0,class:"promotion-overlay-layer"},Ev={class:"promotion-layer"},Sv={class:"promotion-buttons"},Lv="4k3/8/8/8/8/8/8/4K3 w - - 0 1",Iv=hr({__name:"ChessboardVue",props:{size:{default:100},reversed:{type:Boolean,default:!1},background:{default:"#124589"},coordinatesVisible:{type:Boolean,default:!0},coordinatesColor:{default:"yellow"},whiteCellsColor:{default:"navajowhite"},blackCellsColor:{default:"peru"},originCellColor:{default:"crimson"},targetCellColor:{default:"ForestGreen"},dndCrossCellColor:{default:"DimGrey"},moveHighlightColor:{default:"CadetBlue"},whitePlayerHuman:{type:Boolean,default:!0},blackPlayerHuman:{type:Boolean,default:!0},lastMoveVisible:{type:Boolean,default:!0}},emits:["checkmate","stalemate","perpetualDraw","missingMaterialDraw","fiftyMovesDraw","waitingManualMove","moveDone"],setup:function(e,t){var n=t.expose,r=t.emit;Ba((function(e){return{23365052:K.value,"7b12f459":e.background,"4e90964b":ee.value,"0ccafbb5":Y.value,aac90db0:$.value,edbfd394:X.value,"66d0db47":J.value,c9bfb090:Z.value,"3dba7350":e.whiteCellsColor,"26ac38b4":e.blackCellsColor,"7e290edb":H.value,"9d9f45da":e.coordinatesColor,"33a18c2e":ae.value,"33a18c2c":oe.value,"313142cf":Q.value,b588fb60:e.originCellColor,"2f8b4845":e.targetCellColor,"4eea78f0":e.dndCrossCellColor,14110304:v.value,"397bb7fe":p.value,"6cd5c3a2":m.value,"4f3fadde":g.value,"3b360156":y.value,"0bbbf24a":k.value,"13014d6b":e.moveHighlightColor,"5487e881":b.value,"2c04819b":_.value,"3d11f48c":C.value,"4b5da321":x.value,"04a55f32":E.value,f1bf6610:S.value,54960002:L.value,"2c04f5fa":I.value,"3ec6cd2b":T.value,ff78433c:A.value,"0e225f5e":N.value,"68b22ad7":M.value,"730e6736":O.value,40359137:P.value,"093d8d28":D.value,"04a51e05":R.value,"29db49ce":F.value,"41ea5ad8":j.value}}));var i=r,a=new Uh(Lv),o=Qt(a.fen()),s=Qt(Lv),u=Qt(!1),l=Qt(!1),c=Qt(!1),f=Qt(!1),h=Qt({start:{file:-100,rank:-100},end:{file:-100,rank:-100}}),d=Qt({start:{file:-100,rank:-100},end:{file:-100,rank:-100}}),v=Qt("0px"),p=Qt("0px"),m=Qt("0px"),g=Qt("0px"),y=Qt(""),k=Qt("center"),b=Qt("0px"),_=Qt("0px"),C=Qt("0px"),x=Qt("0px"),E=Qt(""),S=Qt("center"),L=Qt("0px"),I=Qt("0px"),T=Qt("0px"),A=Qt("0px"),N=Qt(""),M=Qt("center"),O=Qt("0px"),P=Qt("0px"),D=Qt("0px"),R=Qt("0px"),F=Qt(""),j=Qt("center"),V=e;function U(){o.value=a.fen()}var B=Qt({piece:"",originCell:{file:-100,rank:-100},targetCell:{file:-100,rank:-100}}),z=Qt({x:-100,y:-100}),q=Qt(!1),G=da((function(){return V.size/9})),W=da((function(){return.5*G.value})),H=da((function(){return"".concat(.3*G.value,"px")})),K=da((function(){return"".concat(V.size,"px")})),Q=da((function(){return"".concat(G.value,"px")})),Y=da((function(){return"".concat(.8*V.size,"px")})),$=da((function(){return"".concat(.6*V.size,"px")})),X=da((function(){return"".concat(.08*G.value,"px solid black")})),J=da((function(){return"".concat(.01*G.value,"px")})),Z=da((function(){return"".concat(.02*G.value,"px")})),ee=da((function(){return"".concat(W.value,"px repeat(8, ").concat(G.value,"px) ").concat(W.value,"px / ").concat(W.value,"px repeat(8, ").concat(G.value,"px) ").concat(W.value,"px")})),te=da((function(){return.08*G.value})),ne=Qt(),re=da((function(){return V.reversed?[7,6,5,4,3,2,1,0]:[0,1,2,3,4,5,6,7]})),ie=da((function(){return V.reversed?[0,1,2,3,4,5,6,7]:[7,6,5,4,3,2,1,0]})),ae=da((function(){return z.value.x+"px"})),oe=da((function(){return z.value.y+"px"}));function se(){u.value&&(c.value=!l.value,c.value&&i("waitingManualMove"))}function ue(){a.isCheckmate()?(ce(),u.value=!1,i("checkmate","w"!==a.turn())):a.isStalemate()?(ce(),u.value=!1,i("stalemate")):a.isThreefoldRepetition()?(ce(),u.value=!1,i("perpetualDraw")):a.isDraw()&&(a.isInsufficientMaterial()?(ce(),u.value=!1,i("missingMaterialDraw")):(ce(),u.value=!1,i("fiftyMovesDraw")))}function le(e,t,n,r,i){z.value={x:e,y:t},B.value={piece:i,originCell:{file:n,rank:r},targetCell:{file:n,rank:r}},f.value=!0}function ce(){f.value=!1,B.value={piece:"",originCell:{file:-100,rank:-100},targetCell:{file:-100,rank:-100}},z.value={x:-100,y:-100}}function fe(){if(u.value){var e="w"===a.turn();l.value=e&&V.whitePlayerHuman||!e&&V.blackPlayerHuman}else l.value=!1}function he(e,t,n,r,a,o,s){h.value={start:{file:e,rank:t},end:{file:n,rank:r}},xe();var u=parseInt(a.fen().split(" ")[5]),l=o.history(),c="w"===a.turn(),f=l[l.length-1],d=function(e,t){return(e=(e=(e=(e=e.replace(/K/g,t?"":"").normalize("NFKC")).replace(/Q/g,t?"":"").normalize("NFKC")).replace(/R/g,t?"":"").normalize("NFKC")).replace(/B/g,t?"":"").normalize("NFKC")).replace(/N/g,t?"":"").normalize("NFKC")}(f,c);i("moveDone",u,c,f,d,o.fen(),{start:{file:e,rank:t},end:{file:n,rank:r}},s)}function de(e,t,n,r){z.value={x:e,y:t},B.value.targetCell.file=n,B.value.targetCell.rank=r}function ve(e,t,n,r){q.value=!0,d.value={start:{file:e,rank:t},end:{file:n,rank:r}}}function me(e){var t={from:Sd(d.value.start.file,d.value.start.rank),to:Sd(d.value.end.file,d.value.end.rank),promotion:e},n=new Uh(a.fen());a.move(t),U(),ce();var r=d.value,i=r.start,o=i.file,s=i.rank,u=r.end,l=u.file,c=u.rank;d.value={start:{file:-100,rank:-100},end:{file:-100,rank:-100}},q.value=!1,ue(),he(o,s,l,c,n,a,e),fe(),se()}function ge(){q.value=!1,d.value={start:{file:-100,rank:-100},end:{file:-100,rank:-100}},ce()}function ye(e){e.preventDefault(),function(e,t,n,r,i,a,o,s,u){if(r&&o&&!s&&u){var l=w(zd(e,r),2),c=l[0],f=l[1],h=w(Bd(c,f,t,n),2),d=h[0],v=h[1],p=Ld(i,d,v);void 0!==p&&"w"===i.split(" ")[1]==="PNRBQK".includes(p)&&a(c,f,d,v,p)}}(e,G.value,V.reversed,ne.value,o.value,le,u.value,c.value,l.value)}function ke(e){e.preventDefault(),function(e,t,n,r,i,a,o,s,u,l,c){if(r&&u&&!l&&t&&!s&&c){var f=w(zd(e,r),2),h=f[0],d=f[1],v=w(Bd(h,d,a,o),2),p=v[0],m=v[1],g=r.getBoundingClientRect();h>=0&&h<=g.width&&d>=0&&d<=g.height?n(h,d,p,m):i()}}(e,f.value,de,ne.value,ce,G.value,V.reversed,q.value,u.value,c.value,l.value)}function be(e){e.preventDefault(),function(e,t,n,r,i,a,o,s,u,l,c,f,h,d,v,p,m,g){if(r&&h&&!p&&a&&!c&&m){var y=w(zd(e,r),2),k=w(Bd(y[0],y[1],t,n),2),b=k[0],_=k[1],C=o.originCell;if(C.file>=0&&C.file<=7&&C.rank>=0&&C.rank<=7&&b>=0&&b<=7&&_>=0&&_<=7){var x,E=Ld(i.fen(),o.originCell.file,o.originCell.rank),S=["P","p"].includes(E),L=0===_||7===_,I=new Uh(i.fen()),T=qd(C.file,C.rank,b,_,"q");try{I.move(T),x=!0}catch(M){x=!1}if(x&&S&&L)f(C.file,C.rank,b,_);else{var A=qd(C.file,C.rank,b,_),N=new Uh(i.fen());try{i.move(A)}catch(O){return void s()}u(),s(),d(),l(C.file,C.rank,b,_,N,i),g(),v()}}else s()}}(e,G.value,V.reversed,ne.value,a,f.value,B.value,ce,U,he,q.value,ve,u.value,ue,se,c.value,l.value,fe)}function we(e){e.preventDefault(),function(e,t,n,r,i,a){r&&(i||n||a&&t())}(0,ce,q.value,u.value,c.value,l.value)}function Ce(){h.value={start:{file:-100,rank:-100},end:{file:-100,rank:-100}},v.value="0px",p.value="0px",m.value="0px",g.value="0px",y.value="",k.value="0px 0px",b.value="0px",_.value="0px",C.value="0px",x.value="0px",E.value="",S.value="0px 0px",L.value="0px",I.value="0px",T.value="0px",A.value="0px",N.value=")",M.value="0px 0px",O.value="0px",P.value="0px",D.value="0px",R.value="0px",F.value="",j.value="center"}function xe(){var e=V.reversed?7-h.value.start.file:h.value.start.file,t=V.reversed?h.value.start.rank:7-h.value.start.rank,n=V.reversed?7-h.value.end.file:h.value.end.file,r=V.reversed?h.value.end.rank:7-h.value.end.rank,i=G.value*(e+1),a=G.value*(t+1),o=G.value*(n+1),s=G.value*(r+1),u=i-te.value,l=a,c=o-te.value,f=s,d=c-u,w=f-l,U=Math.atan2(w,d)-Math.PI/2,B=Math.sqrt(d*d+w*w);v.value="".concat(u,"px"),p.value="".concat(l,"px"),m.value="".concat(2*te.value,"px"),g.value="".concat(B,"px"),y.value="rotate(".concat(U,"rad)"),k.value="".concat(te.value,"px 0px");var z=Math.atan2(w,d)-Math.PI/2-3*Math.PI/4,q=.4*Math.sqrt(d*d+w*w);b.value="".concat(c,"px"),_.value="".concat(f,"px"),C.value="".concat(2*te.value,"px"),x.value="".concat(q,"px"),E.value="rotate(".concat(z,"rad)"),S.value="".concat(te.value,"px 0px");var W=Math.atan2(w,d)-Math.PI/2+3*Math.PI/4,H=.4*Math.sqrt(d*d+w*w);L.value="".concat(c,"px"),I.value="".concat(f,"px"),T.value="".concat(2*te.value,"px"),A.value="".concat(H,"px"),N.value="rotate(".concat(W,"rad)"),M.value="".concat(te.value,"px 0px");var K=Math.atan2(w,d)+Math.PI/4,Q=2*te.value;O.value="".concat(c,"px"),P.value="".concat(f,"px"),D.value="".concat(2*te.value,"px"),R.value="".concat(Q,"px"),F.value="rotate(".concat(K,"rad)"),j.value="center"}return xr((function(){xe(),fe(),se()})),n({newGame:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1";a=new Uh(e),U(),Ce(),s.value=e,q.value=!1,ce(),u.value=!0,ue(),fe(),se()},stop:function(){ce(),c.value=!1,q.value=!1,u.value=!1},isWhiteTurn:function(){return"w"===a.turn()},playManualMove:function(e){if(!u.value||!c.value)return!1;var t,n,r,i,o,s=new Uh(a.fen());"string"==typeof e?(t=e.charCodeAt(0)-97,n=e.charCodeAt(1)-49,r=e.charCodeAt(2)-97,i=e.charCodeAt(3)-49,o=e.length>=5?e.charAt(4):void 0):(t=e.from.charCodeAt(0)-97,n=e.from.charCodeAt(1)-49,r=e.to.charCodeAt(0)-97,i=e.to.charCodeAt(1)-49,o=e.promotion);var l=qd(t,n,r,i,o);try{a.move(l)}catch(f){return!1}return U(),he(t,n,r,i,s,a,o),ue(),fe(),se(),!0},gameIsInProgress:function(){return u.value},setStartPosition:function(){return!u.value&&(a=new Uh(s.value),Ce(),U(),!0)},setPositionAndLastMove:function(e,t){return!u.value&&(a=new Uh(e),h.value=t,xe(),U(),!0)},getCurrentPosition:function(){return a.fen()},setLastMoveArrow:function(e){h.value=e,xe(),U()}}),function(e,t){return Li(),Ni("div",{class:"root",ref_key:"rootElement",ref:ne},[ji("div",{class:"inner-layer",onMousedown:ye,onMousemove:ke,onMouseup:be,onMouseleave:we},[ji("div",ov,[sv,(Li(!0),Ni(wi,null,Nr(re.value,(function(e){return Li(),Ni(wi,null,[V.coordinatesVisible?(Li(),Ni("p",uv,_e(String.fromCharCode(65+e)),1)):(Li(),Ni("div",lv))],64)})),256)),cv,(Li(!0),Ni(wi,null,Nr(ie.value,(function(e){return Li(),Ni(wi,null,[V.coordinatesVisible?(Li(),Ni("p",fv,_e(String.fromCharCode(49+e)),1)):(Li(),Ni("div",hv)),(Li(!0),Ni(wi,null,Nr(re.value,(function(t){return Li(),Ni("div",{class:pe(["cell",(e+t)%2!=0?"white":"black"])},[Jt(Gd)(t,e,B.value)?(Li(),Ni("div",dv)):Jt(Td)(o.value,t,e)?(Li(),Mi(sd,{key:1,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Ad)(o.value,t,e)?(Li(),Mi(cd,{key:2,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Nd)(o.value,t,e)?(Li(),Mi(dd,{key:3,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Md)(o.value,t,e)?(Li(),Mi(md,{key:4,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Od)(o.value,t,e)?(Li(),Mi(kd,{key:5,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Pd)(o.value,t,e)?(Li(),Mi(_d,{key:6,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Dd)(o.value,t,e)?(Li(),Mi(qh,{key:7,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Rd)(o.value,t,e)?(Li(),Mi(Hh,{key:8,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Fd)(o.value,t,e)?(Li(),Mi(Yh,{key:9,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(jd)(o.value,t,e)?(Li(),Mi(Jh,{key:10,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Vd)(o.value,t,e)?(Li(),Mi(td,{key:11,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Ud)(o.value,t,e)?(Li(),Mi(id,{key:12,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,8,["class"])):Jt(Gd)(t,e,B.value)?(Li(),Ni("div",{key:13,class:pe(Jt(Wd)(t,e,B.value)?"dnd-origin":"dnd-target")},null,2)):(Li(),Ni("div",{key:14,class:pe(Jt(Wd)(t,e,B.value)?"dnd-target":Jt(Hd)(t,e,B.value)?"dnd-cross-cell":"no-highlight-cell")},null,2))],2)})),256)),V.coordinatesVisible?(Li(),Ni("p",vv,_e(String.fromCharCode(49+e)),1)):(Li(),Ni("div",pv))],64)})),256)),mv,(Li(!0),Ni(wi,null,Nr(re.value,(function(e){return Li(),Ni(wi,null,[V.coordinatesVisible?(Li(),Ni("p",gv,_e(String.fromCharCode(65+e)),1)):(Li(),Ni("div",yv))],64)})),256)),ji("div",kv,[ji("div",{class:pe(["player-turn","w"===Jt(a).turn()?"white-turn":"black-turn"])},null,2)])]),e.lastMoveVisible?(Li(),Ni("div",bv,wv)):Gi("",!0),ji("div",_v,[Jt(Kd)(B.value)&&!q.value?(Li(),Mi(sd,{key:0,class:"dndPiece"})):Jt(Qd)(B.value)?(Li(),Mi(cd,{key:1,class:"dndPiece"})):Jt(Yd)(B.value)?(Li(),Mi(dd,{key:2,class:"dndPiece"})):Jt($d)(B.value)?(Li(),Mi(md,{key:3,class:"dndPiece"})):Jt(Xd)(B.value)?(Li(),Mi(kd,{key:4,class:"dndPiece"})):Jt(Jd)(B.value)?(Li(),Mi(_d,{key:5,class:"dndPiece"})):Jt(Zd)(B.value)&&!q.value?(Li(),Mi(qh,{key:6,class:"dndPiece"})):Jt(ev)(B.value)?(Li(),Mi(Hh,{key:7,class:"dndPiece"})):Jt(tv)(B.value)?(Li(),Mi(Yh,{key:8,class:"dndPiece"})):Jt(nv)(B.value)?(Li(),Mi(Jh,{key:9,class:"dndPiece"})):Jt(rv)(B.value)?(Li(),Mi(td,{key:10,class:"dndPiece"})):Jt(iv)(B.value)?(Li(),Mi(id,{key:11,class:"dndPiece"})):(Li(),Ni("div",Cv))])],32),q.value?(Li(),Ni("div",xv,[ji("div",Ev,[ji("div",Sv,["w"===Jt(a).turn()?(Li(),Ni(wi,{key:0},[Vi(kd,{size:G.value,class:"single-promotion-button",onClick:t[0]||(t[0]=function(){return me("q")})},null,8,["size"]),Vi(md,{size:G.value,class:"single-promotion-button",onClick:t[1]||(t[1]=function(){return me("r")})},null,8,["size"]),Vi(dd,{size:G.value,class:"single-promotion-button",onClick:t[2]||(t[2]=function(){return me("b")})},null,8,["size"]),Vi(cd,{size:G.value,class:"single-promotion-button",onClick:t[3]||(t[3]=function(){return me("n")})},null,8,["size"]),Vi(Ed,{size:G.value,class:"single-promotion-button",onClick:t[4]||(t[4]=function(){return ge()})},null,8,["size"])],64)):(Li(),Ni(wi,{key:1},[Vi(td,{size:G.value,class:"single-promotion-button",onClick:t[5]||(t[5]=function(){return me("q")})},null,8,["size"]),Vi(Jh,{size:G.value,class:"single-promotion-button",onClick:t[6]||(t[6]=function(){return me("r")})},null,8,["size"]),Vi(Yh,{size:G.value,class:"single-promotion-button",onClick:t[7]||(t[7]=function(){return me("b")})},null,8,["size"]),Vi(Hh,{size:G.value,class:"single-promotion-button",onClick:t[8]||(t[8]=function(){return me("n")})},null,8,["size"]),Vi(Ed,{size:G.value,class:"single-promotion-button",onClick:t[9]||(t[9]=function(){return ge()})},null,8,["size"])],64))])])])):Gi("",!0)],512)}}}),Tv=function(e,t){var n,r=e.__vccOpts||e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=w(n.value,2),o=a[0],s=a[1];r[o]=s}}catch(u){i.e(u)}finally{i.f()}return r},Av=Tv(Iv,[["__scopeId","data-v-c00eddd7"]]),Nv={install:function(e){e.component("ChessboardVue",Av)}},Mv=["width","height"],Ov=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],Pv=hr({__name:"BP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Ov,8,Mv)}}}),Dv=["width","height"],Rv=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#000000;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#000000;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z " style="fill:#ffffff;stroke:none;"></path></g>',1)],Fv=hr({__name:"BN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Rv,8,Dv)}}}),jv=["width","height"],Vv=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#ffffff;stroke-linejoin:miter;"></path></g>',1)],Uv=hr({__name:"BB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Vv,8,jv)}}}),Bv=["width","height"],zv=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z " style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z " style="stroke-linecap:butt;"></path><path d="M 12,35.5 L 33,35.5 L 33,35.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 13,31.5 L 32,31.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,29.5 L 31,29.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 31,16.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path></g>',1)],qv=hr({__name:"BR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},zv,8,Bv)}}}),Gv=["width","height"],Wv=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:none;"><circle cx="6" cy="12" r="2.75"></circle><circle cx="14" cy="9" r="2.75"></circle><circle cx="22.5" cy="8" r="2.75"></circle><circle cx="31" cy="9" r="2.75"></circle><circle cx="39" cy="12" r="2.75"></circle></g><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z" style="stroke-linecap:butt;stroke:#000000;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z" style="stroke-linecap:butt;"></path><path d="M 11,38.5 A 35,35 1 0 0 34,38.5" style="fill:none;stroke:#000000;stroke-linecap:butt;"></path><path d="M 11,29 A 35,35 1 0 1 34,29" style="fill:none;stroke:#ffffff;"></path><path d="M 12.5,31.5 L 32.5,31.5" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5" style="fill:none;stroke:#ffffff;"></path><path d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5" style="fill:none;stroke:#ffffff;"></path></g>',1)],Hv=hr({__name:"BQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Wv,8,Gv)}}}),Kv=["width","height"],Qv=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;" id="path6570"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#000000;fill-opacity:1;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#000000;stroke:#000000;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#ffffff;"></path></g>',1)],Yv=hr({__name:"BK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Qv,8,Kv)}}}),$v=["width","height"],Xv=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#ffffff","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],Jv=hr({__name:"WP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},Xv,8,$v)}}}),Zv=["width","height"],ep=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#ffffff;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#ffffff;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#000000;stroke:#000000;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#000000;stroke:#000000;"></path></g>',1)],tp=hr({__name:"WN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},ep,8,Zv)}}}),np=["width","height"],rp=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],ip=hr({__name:"WB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},rp,8,np)}}}),ap=["width","height"],op=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14" style="stroke-linecap:butt;"></path><path d="M 34,14 L 31,17 L 14,17 L 11,14"></path><path d="M 31,17 L 31,29.5 L 14,29.5 L 14,17" style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],sp=hr({__name:"WR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},op,8,ap)}}}),up=["width","height"],lp=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(-1,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(15.5,-5.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(32,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(7,-4.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(24,-4)"></path><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z " style="stroke-linecap:butt;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z " style="stroke-linecap:butt;"></path><path d="M 11.5,30 C 15,29 30,29 33.5,30" style="fill:none;"></path><path d="M 12,33.5 C 18,32.5 27,32.5 33,33.5" style="fill:none;"></path></g>',1)],cp=hr({__name:"WQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},lp,8,up)}}}),fp=["width","height"],hp=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#ffffff;stroke:#000000;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30" style="fill:none;stroke:#000000;"></path><path d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5" style="fill:none;stroke:#000000;"></path><path d="M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#000000;"></path></g>',1)],dp=hr({__name:"WK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},hp,8,fp)}}});function vp(e){return e.split(" ")[0].split("/").map(gp).toReversed()}function pp(e,t,n){return vp(e)[n][t]}function mp(e){var t=e.charCodeAt(0);return t>=48&&t<=57}function gp(e){return e.split("").flatMap((function(e){return mp(e)?function(e){for(var t=parseInt(e),n=[],r=0;r<t;r++)n.push("");return n}(e):e}))}function yp(e){return e.reduce((function(e,t){if(""===t){var n=e.charAt(e.length-1);if(mp(n)){var r=parseInt(n)+1;return e.substring(0,e.length-1)+r}return e+"1"}return e+t}),"")}function kp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"P"===r}function bp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"N"===r}function wp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"B"===r}function _p(e,t,n){var r=pp(e,t,n);return void 0!==r&&"R"===r}function Cp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"Q"===r}function xp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"K"===r}function Ep(e,t,n){var r=pp(e,t,n);return void 0!==r&&"p"===r}function Sp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"n"===r}function Lp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"b"===r}function Ip(e,t,n){var r=pp(e,t,n);return void 0!==r&&"r"===r}function Tp(e,t,n){var r=pp(e,t,n);return void 0!==r&&"q"===r}function Ap(e,t,n){var r=pp(e,t,n);return void 0!==r&&"k"===r}var Np=function(e){return Mn("data-v-6a406ac3"),e=e(),On(),e},Mp=Np((function(){return ji("div",null,null,-1)})),Op={key:0,class:"coordinate"},Pp={key:1},Dp=Np((function(){return ji("div",null,null,-1)})),Rp={key:0,class:"coordinate"},Fp={key:1},jp={key:12,class:"no-highlight-cell"},Vp={key:2,class:"coordinate"},Up={key:3},Bp=Np((function(){return ji("div",null,null,-1)})),zp={key:0,class:"coordinate"},qp={key:1},Gp={class:"player-turn-cell"},Wp=hr({__name:"EditableBoardVue",props:{size:{default:100},whiteTurn:{type:Boolean,default:!0},reversed:{type:Boolean,default:!1},background:{default:"#124589"},coordinatesVisible:{type:Boolean,default:!0},coordinatesColor:{default:"yellow"},whiteCellsColor:{default:"navajowhite"},blackCellsColor:{default:"peru"}},emits:["checkmate","stalemate","perpetualDraw","missingMaterialDraw","fiftyMovesDraw","waitingManualMove","moveDone"],setup:function(e,t){var n=t.expose;t.emit;Ba((function(e){return{"7c0d1e38":l.value,e5b726b4:e.background,"22252f58":f.value,17392323:e.whiteCellsColor,"73aed90e":e.blackCellsColor,"6a339330":u.value,"0787a7a0":e.coordinatesColor,"614ed422":c.value}}));var r=Qt(""),i=Qt("rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1"),a=e,o=da((function(){return a.size/9})),s=da((function(){return.5*o.value})),u=da((function(){return"".concat(.3*o.value,"px")})),l=da((function(){return"".concat(a.size,"px")})),c=da((function(){return"".concat(o.value,"px")})),f=da((function(){return"".concat(s.value,"px repeat(8, ").concat(o.value,"px) ").concat(s.value,"px / ").concat(s.value,"px repeat(8, ").concat(o.value,"px) ").concat(s.value,"px")})),h=Qt(),d=da((function(){return a.reversed?[7,6,5,4,3,2,1,0]:[0,1,2,3,4,5,6,7]})),v=da((function(){return a.reversed?[0,1,2,3,4,5,6,7]:[7,6,5,4,3,2,1,0]}));function p(e,t){var n=vp(i.value);n[t][e]=r.value,i.value=function(e,t){return e.map(yp).toReversed().join("/")+(t?" w":" b")+" - - 0 1"}(n,a.whiteTurn)}function m(e){if(e.preventDefault(),h.value){var t=function(e,t){if(!t)return[];var n=t.getBoundingClientRect();return[e.clientX-n.x,e.clientY-n.y]}(e,h.value),n=w(t,2),r=function(e,t,n,r){var i=Math.floor((e-.5*n)/n),a=Math.floor((t-.5*n)/n);return{cellX:i,cellY:a,file:[!0,"true"].includes(r)?7-i:i,rank:[!0,"true"].includes(r)?a:7-a}}(n[0],n[1],o.value,a.reversed),i=r.file,s=r.rank;i<0||i>7||s<0||s>7||p(i,s)}}return n({getBoardCode:function(){return i.value.split(" ")[0]},setCurrentEditingValue:function(e){r.value=e.charAt(0)},setFromBoardCode:function(e){i.value=e}}),function(e,t){return Li(),Ni("div",{class:"root",ref_key:"rootElement",ref:h},[ji("div",{class:"lowest-layer",onClick:m},[Mp,(Li(!0),Ni(wi,null,Nr(d.value,(function(e){return Li(),Ni(wi,null,[a.coordinatesVisible?(Li(),Ni("p",Op,_e(String.fromCharCode(65+e)),1)):(Li(),Ni("div",Pp))],64)})),256)),Dp,(Li(!0),Ni(wi,null,Nr(v.value,(function(e){return Li(),Ni(wi,null,[a.coordinatesVisible?(Li(),Ni("p",Rp,_e(String.fromCharCode(49+e)),1)):(Li(),Ni("div",Fp)),(Li(!0),Ni(wi,null,Nr(d.value,(function(t){return Li(),Ni("div",{class:pe(["cell",(e+t)%2!=0?"white":"black"])},[Jt(kp)(i.value,t,e)?(Li(),Mi(Jv,{key:0,class:"no-highlight-cell"})):Jt(bp)(i.value,t,e)?(Li(),Mi(tp,{key:1,class:"no-highlight-cell"})):Jt(wp)(i.value,t,e)?(Li(),Mi(ip,{key:2,class:"no-highlight-cell"})):Jt(_p)(i.value,t,e)?(Li(),Mi(sp,{key:3,class:"no-highlight-cell"})):Jt(Cp)(i.value,t,e)?(Li(),Mi(cp,{key:4,class:"no-highlight-cell"})):Jt(xp)(i.value,t,e)?(Li(),Mi(dp,{key:5,class:"no-highlight-cell"})):Jt(Ep)(i.value,t,e)?(Li(),Mi(Pv,{key:6,class:"no-highlight-cell"})):Jt(Sp)(i.value,t,e)?(Li(),Mi(Fv,{key:7,class:"no-highlight-cell"})):Jt(Lp)(i.value,t,e)?(Li(),Mi(Uv,{key:8,class:"no-highlight-cell"})):Jt(Ip)(i.value,t,e)?(Li(),Mi(qv,{key:9,class:"no-highlight-cell"})):Jt(Tp)(i.value,t,e)?(Li(),Mi(Hv,{key:10,class:"no-highlight-cell"})):Jt(Ap)(i.value,t,e)?(Li(),Mi(Yv,{key:11,class:"no-highlight-cell"})):(Li(),Ni("div",jp))],2)})),256)),a.coordinatesVisible?(Li(),Ni("p",Vp,_e(String.fromCharCode(49+e)),1)):(Li(),Ni("div",Up))],64)})),256)),Bp,(Li(!0),Ni(wi,null,Nr(d.value,(function(e){return Li(),Ni(wi,null,[a.coordinatesVisible?(Li(),Ni("p",zp,_e(String.fromCharCode(65+e)),1)):(Li(),Ni("div",qp))],64)})),256)),ji("div",Gp,[ji("div",{class:pe(["player-turn",e.whiteTurn?"white-turn":"black-turn"])},null,2)])])],512)}}}),Hp=function(e,t){var n,r=e.__vccOpts||e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=w(n.value,2),o=a[0],s=a[1];r[o]=s}}catch(u){i.e(u)}finally{i.f()}return r},Kp=Hp(Wp,[["__scopeId","data-v-6a406ac3"]]),Qp={install:function(e){e.component("EditableBoardVue",Kp)}},Yp=Yt();function $p(e){void 0===e&&(e=Yp.value.comp.returnValue()),Yp.value.resolve(e),Yp.value=null}function Xp(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"default";return new Promise((function(r){Yp.value={dialog:e,props:t,wrapper:n,resolve:r}}))}var Jp=function(e,t){var n,r=e.__vccOpts||e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=w(n.value,2),o=a[0],s=a[1];r[o]=s}}catch(u){i.e(u)}finally{i.f()}return r};var Zp=Jp(hr({name:"DialogWrapper",components:{},props:{name:{type:String,default:"default"},transitionAttrs:Object},setup:function(){var e=Qt();return Kn(e,(function(){Yp.value&&(Yp.value.comp=e.value)})),{dialogRef:Yp,dialogInstance:e}}}),[["render",function(e,t,n,r,i,a){return Li(),Mi(_a,function(e){if(!e)return null;var t=e.class,n=e.style;return t&&!B(t)&&(e.class=pe(t)),n&&(e.style=ce(n)),e}(Ui(e.transitionAttrs)),{default:Pn((function(){return[e.dialogRef&&e.dialogRef.wrapper===e.name?(Li(),Mi((t=e.dialogRef.dialog,B(t)?zn(Vn,t,!1)||t:t||Bn),Qi({key:0},e.dialogRef.props,{ref:"dialogInstance"}),null,16)):Gi("",!0)];var t})),_:1},16)}]]),em={__name:"App",setup:function(e){return function(e,t){var n=Un("RouterView"),r=Un("notifications");return Li(),Ni(wi,null,[Vi(n),Vi(r),Vi(Jt(Zp))],64)}}},tm={en:{pages:{home:{title:"home",createRoom:"Create a room",joinRoom:"Join a room",yourRoom:"Your room",roomIdCopied:"Room id copied in the clipboard."},createRoom:{title:"Create a room",labels:{nickname:"Your nickname"},placeholders:{nickname:"nickname"},errors:{emptyNickname:"Nickname must not be empty !",tooShortNickname:"Nickname must contains at least 4 characters !",failedCreatingRoom:"Failed to create room !"},submit:"Create",cancel:"Cancel"},joinRoom:{title:"Join a room",labels:{nickname:"Your nickname",roomId:"Room id"},placeholders:{nickname:"nickname",roomId:"id"},errors:{emptyNickname:"Nickname must not be empty !",tooShortNickname:"Nickname must contains at least 4 characters !",emptyRoomId:"Room id must not be empty !",noMatchingRoom:"There's no matching room !",alreadyFilledRoom:"This room is already busy !",failedJoiningRoom:"Failed to join room !"},submit:"Join",cancel:"Cancel"},newGame:{title:"New game",submit:"Confirm",cancel:"Cancel",hasWhite:"Do you have white ?",hasWhiteYes:"Yes",hasWhiteNo:"No",whiteTurn:"Is it white turn ?",whiteTurnYes:"Yes",whiteTurnNo:"No",minutes:"minutes",seconds:"seconds",increment:"increment (s)",includeTime:"Play with clock ?",includeTimeYes:"Yes",includeTimeNo:"No",timeSetToZero:"You gave a time of zero (without the increment) !",editStartPosition:"Edit",copyFen:"Copy FEN",pasteFen:"Paste FEN",resetFen:"Reset",defaultFen:"Default",clearFen:"Clear",whiteOO:"White O-O",whiteOOO:"White O-O-O",blackOO:"Black O-O",blackOOO:"Black O-O-O",enPassantLabel:"En passant",noEnPassant:"None",nullityHalfMovesCount:"Half-moves count for draw",moveNumber:"Move number",copiedPosition:"Copied position into clipboard.",refusedCopyingPosition:"Illegal position ! Also, check all parameters !",cannotCopyFromClipboard:"Cannot get text content from clipboard !",illegalPositionFromClipboard:"Clipboard's content is not a legal position !"},giveUp:{title:"Give up ?",submit:"Confirm",cancel:"Cancel"},game:{outcomes:{gaveUp:"Game gave up by your opponent.",checkmate:"Checkmate !",stalemate:"Stalemate !",perpetualDraw:"Draw by three-fold repetition !",missingMaterial:"Draw by missing material !",fiftyMovesDraw:"Draw by the 50 moves rule !",userLostOnTime:"You lost on time out !",opponentLostOnTime:"Your opponent lost on time out !"}},pgn:{confirmationMessage:"Download the generated PGN file ?"},generic:{errors:{failedUpdatingRoom:"Failed to update room in database !",failedReadingRoom:"Failed to read room from database !",failedDeletingFieldsFromRoom:"Failed to delete fields in room in database !"}}}},es:{pages:{home:{title:"Bienvenida",createRoom:"Crear una sala de estar",joinRoom:"Entrar a una sala",yourRoom:"Su sala",roomIdCopied:"ID de la sala copiada en el portapapeles."},createRoom:{title:"Crear una sala de estar",labels:{nickname:"Tu apodo"},placeholders:{nickname:"apodo"},errors:{emptyNickname:"El apodo no debe estar vaco!",tooShortNickname:"El apodo debe contener al menos 4 caracteres!",failedCreatingRoom:"No se pudo crear sala!"},submit:"Crear",cancel:"Anular"},joinRoom:{title:"Entrar a una sala",labels:{nickname:"Tu apodo",roomId:"Identificacin de la sala"},placeholders:{nickname:"apodo",roomId:"identificacin"},errors:{emptyNickname:"El apodo no debe estar vaco!",tooShortNickname:"El apodo debe contener al menos 4 caracteres!",emptyRoomId:"La identificacin de la sala no debe estar vaca!",noMatchingRoom:"No hay ninguna sala que coincida!",alreadyFilledRoom:"Esta sala ya est ocupada!",failedJoiningRoom:"No se pudo entrar a la sala!"},submit:"Entrar",cancel:"Anular"},newGame:{title:"Nueva partida",submit:"Confirmar",cancel:"Anular",hasWhite:"Tiene los blancos?",hasWhiteYes:"S",hasWhiteNo:"No",whiteTurn:"Es blanco para jugar?",whiteTurnYes:"S",whiteTurnNo:"No",minutes:"minutos",seconds:"segundos",increment:"incremento (s)",includeTime:"Jugar con el reloj?",includeTimeYes:"S",includeTimeNo:"No",timeSetToZero:"Diste un tiempo de cero (sin el incremento)!",editStartPosition:"Editar",copyFen:"Copiar FEN",pasteFen:"Pegar FEN",resetFen:"Reiniciar",defaultFen:"Por defecto",clearFen:"Borrar",whiteOO:"O-O Blanco",whiteOOO:"O-O-O Blanco",blackOO:"O-O Negro",blackOOO:"O-O-O Negro",enPassantLabel:"De paso",noEnPassant:"Ninguno",nullityHalfMovesCount:"Medios movimientos para empatar",moveNumber:"Movimiento nmero",copiedPosition:"Posicin copiada en el portapapeles.",refusedCopyingPosition:"Posicin ilegal!Adems, verifique todos los parmetros!",cannotCopyFromClipboard:"No se puede obtener contenido de texto del portapapeles!",illegalPositionFromClipboard:"El contenido del portapapeles no es una posicin legal!"},giveUp:{title:"Abandonar?",submit:"Confirmar",cancel:"Anular"},game:{outcomes:{gaveUp:"Partida abandonada por su oponente.",checkmate:"Jaque mate!",stalemate:"Empate!",perpetualDraw:"Igualdad por repeticin triple!",missingMaterial:"Igualdad con el material que falta!",fiftyMovesDraw:"Igualdad segn la regla de los 50 movimientos!",userLostOnTime:"Perdiste por tiempo muerto!",opponentLostOnTime:"Su oponente perdi por tiempo muerto!"}},pgn:{confirmationMessage:"Descargar el archivo PGN generado?"},generic:{errors:{failedUpdatingRoom:"No se pudo actualizar la sala en la base de datos!",failedReadingRoom:"No se pudo leer la sala de la base de datos!",failedDeletingFieldsFromRoom:"No se pudieron eliminar los campos en la sala de la base de datos!"}}}},fr:{pages:{home:{title:"Accueil",createRoom:"Crr un salon",joinRoom:"Rejoindre un salon",yourRoom:"Votre salon",roomIdCopied:"ID du salon copi dans le presse-papiers."},createRoom:{title:"Crr un salon",labels:{nickname:"Votre pseudo"},placeholders:{nickname:"pseudo"},errors:{emptyNickname:"Le pseudo ne doit pas tre vide !",tooShortNickname:"Le pseudo doit contenir au moins 4 caractres !",failedCreatingRoom:"chec de cration du salon !"},submit:"Crer",cancel:"Annuler"},joinRoom:{title:"Rejoindre un salon",labels:{nickname:"Votre pseudo",roomId:"Id du salon"},placeholders:{nickname:"pseudo",roomId:"id"},errors:{emptyNickname:"Le pseudo ne doit pas tre vide !",tooShortNickname:"Le pseudo doit contenir au moins 4 caractres !",emptyRoomId:"L'id du salon ne doit pas tre vide !",noMatchingRoom:"Aucun salon ne correspond !",alreadyFilledRoom:"Ce salon est dj occup !",failedJoiningRoom:"Erreur en tentant de rejoindre le salon !",userLostOnTime:"Vous avez perdu au temps !",opponentLostOnTime:"Votre adversaire a perdu au temps !"},submit:"Joindre",cancel:"Annuler"},newGame:{title:"Nouvelle partie",submit:"Confirmer",cancel:"Annuler",hasWhite:"Avez-vous les Blancs ?",hasWhiteYes:"Oui",hasWhiteNo:"Non",whiteTurn:"Est-ce trait aux Blancs ?",whiteTurnYes:"Oui",whiteTurnNo:"Non",minutes:"minutes",seconds:"secondes",increment:"incrment (s)",includeTime:"Jouer avec la pendule ?",includeTimeYes:"Oui",includeTimeNo:"Non",timeSetToZero:"Vous avez donn un temps de 0 (sans compter l'incrment) !",editStartPosition:"diter",copyFen:"Copier FEN",pasteFen:"Coller FEN",resetFen:"Rinitialiser",defaultFen:"Par dfaut",clearFen:"Effacer",whiteOO:"O-O Blanc",whiteOOO:"O-O-O Blanc",blackOO:"O-O Noir",blackOOO:"O-O-O Noir",enPassantLabel:"En passant",noEnPassant:"Aucun",nullityHalfMovesCount:"Demi-coups pour la nulle",moveNumber:"Numro de coup",oveNumber:"Movimiento nmero",copiedPosition:"Position copie dans le porte-papiers.",refusedCopyingPosition:"Position illgale ! Vrifiez tous les paramtres !",cannotCopyFromClipboard:"Impossible de rcuprer du texte  partir du presse-papier !",illegalPositionFromClipboard:"Le presse-papier ne contient pas de position lgale !"},giveUp:{title:"Abandonner ?",submit:"Confirmer",cancel:"Annuler"},game:{outcomes:{gaveUp:"Partie abandonne par votre adversaire.",checkmate:"chec et mat !",stalemate:"Pat !",perpetualDraw:"Nulle par triple rptition !",missingMaterial:"Nulle par manque de matriel !",fiftyMovesDraw:"Nulle par la rgle des 50 coups !",userLostOnTime:"Vous avez perdu au temps !",opponentLostOnTime:"Votre adversaire a perdu au temps !"}},pgn:{confirmationMessage:"Tlcharger le fichier PGN gnr ?"},generic:{errors:{failedUpdatingRoom:"chec de mise  jour du salon dans la base de donnes !",failedReadingRoom:"chec de lecture du salon depuis la base de donnes !",failedDeletingFieldsFromRoom:"chec de suppression de donnes du salon dans la base de donnes !"}}}}},nm="dF_+&tOZK~kqIjz{0]Nt4q}M;+JxF4",rm={},im=function(e){for(var t=[],n=0,r=0;r<e.length;r++){var i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296==(64512&i)&&r+1<e.length&&56320==(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},am={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray:function(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<e.length;i+=3){var a=e[i],o=i+1<e.length,s=o?e[i+1]:0,u=i+2<e.length,l=u?e[i+2]:0,c=a>>2,f=(3&a)<<4|s>>4,h=(15&s)<<2|l>>6,d=63&l;u||(d=64,o||(h=64)),r.push(n[c],n[f],n[h],n[d])}return r.join("")},encodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(im(e),t)},decodeString:function(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){for(var t=[],n=0,r=0;n<e.length;){var i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){var a=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&a)}else if(i>239&&i<365){var o=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(o>>10)),t[r++]=String.fromCharCode(56320+(1023&o))}else{var s=e[n++],u=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&u)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray:function(e,t){this.init_();for(var n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<e.length;){var a=n[e.charAt(i++)],o=i<e.length?n[e.charAt(i)]:0,s=++i<e.length?n[e.charAt(i)]:64,u=++i<e.length?n[e.charAt(i)]:64;if(++i,null==a||null==o||null==s||null==u)throw new om;var l=a<<2|o>>4;if(r.push(l),64!==s){var c=o<<4&240|s>>2;if(r.push(c),64!==u){var f=s<<6&192|u;r.push(f)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}},om=function(e){function t(){var e;return m(this,t),(e=f(this,t,arguments)).name="DecodeBase64StringError",e}return v(t,e),y(t)}(i(Error)),sm=function(e){return function(e){var t=im(e);return am.encodeByteArray(t,!0)}(e).replace(/\./g,"")};
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var um=function(){
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(){if("undefined"!=typeof self)return self;if("undefined"!=typeof window)return window;if("undefined"!=typeof global)return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__},lm=function(){if("undefined"!=typeof document){var e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(n){return}var t=e&&function(e){try{return am.decodeString(e,!0)}catch(n){console.error("base64Decode failed: ",n)}return null}(e[1]);return t&&JSON.parse(t)}},cm=function(){try{return um()||function(){if("undefined"!=typeof process&&void 0!==rm){var e=rm.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0}}()||lm()}catch(e){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(e))}},fm=function(){return y((function e(){var t=this;m(this,e),this.reject=function(){},this.resolve=function(){},this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))}),[{key:"wrapCallback",value:function(e){var t=this;return function(n,r){n?t.reject(n):t.resolve(r),"function"==typeof e&&(t.promise.catch((function(){})),1===e.length?e(n):e(n,r))}}}])}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function hm(){return"undefined"!=typeof navigator&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function dm(){return!function(){var e,t=null===(e=cm())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch(n){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function vm(){try{return"object"===("undefined"==typeof indexedDB?"undefined":C(indexedDB))}catch(e){return!1}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var pm=function(e){function t(e,n,r){var i;return m(this,t),(i=f(this,t,[n])).code=e,i.customData=r,i.name="FirebaseError",Object.setPrototypeOf(i,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(i,mm.prototype.create),i}return v(t,e),y(t)}(i(Error)),mm=function(){return y((function e(t,n,r){m(this,e),this.service=t,this.serviceName=n,this.errors=r}),[{key:"create",value:function(e){var t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(gm,(function(e,n){var r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",a="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new pm(n,a,t)}}])}();var gm=/\{\$([^}]+)}/g;function ym(e,t){if(e===t)return!0;for(var n=Object.keys(e),r=Object.keys(t),i=0,a=n;i<a.length;i++){var o=a[i];if(!r.includes(o))return!1;var s=e[o],u=t[o];if(km(s)&&km(u)){if(!ym(s,u))return!1}else if(s!==u)return!1}for(var l=0,c=r;l<c.length;l++){var f=c[l];if(!n.includes(f))return!1}return!0}function km(e){return null!==e&&"object"===C(e)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function bm(e){return e&&e._delegate?e._delegate:e}var wm=function(){return y((function e(t,n,r){m(this,e),this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}),[{key:"setInstantiationMode",value:function(e){return this.instantiationMode=e,this}},{key:"setMultipleInstances",value:function(e){return this.multipleInstances=e,this}},{key:"setServiceProps",value:function(e){return this.serviceProps=e,this}},{key:"setInstanceCreatedCallback",value:function(e){return this.onInstanceCreated=e,this}}])}(),_m="[DEFAULT]",Cm=function(){return y((function e(t,n){m(this,e),this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}),[{key:"get",value:function(e){var t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){var n=new fm;if(this.instancesDeferred.set(t,n),this.isInitialized(t)||this.shouldAutoInitialize())try{var r=this.getOrInitializeService({instanceIdentifier:t});r&&n.resolve(r)}catch(i){}}return this.instancesDeferred.get(t).promise}},{key:"getImmediate",value:function(e){var t,n=this.normalizeInstanceIdentifier(null==e?void 0:e.identifier),r=null!==(t=null==e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}}},{key:"getComponent",value:function(){return this.component}},{key:"setComponent",value:function(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e))try{this.getOrInitializeService({instanceIdentifier:_m})}catch(u){}var t,n=x(this.instancesDeferred.entries());try{for(n.s();!(t=n.n()).done;){var r=w(t.value,2),i=r[0],a=r[1],o=this.normalizeInstanceIdentifier(i);try{var s=this.getOrInitializeService({instanceIdentifier:o});a.resolve(s)}catch(u){}}}catch(l){n.e(l)}finally{n.f()}}}},{key:"clearInstance",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}},{key:"delete",value:(e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=Array.from(this.instances.values()),e.next=3,Promise.all([].concat(_(t.filter((function(e){return"INTERNAL"in e})).map((function(e){return e.INTERNAL.delete()}))),_(t.filter((function(e){return"_delete"in e})).map((function(e){return e._delete()})))));case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"isComponentSet",value:function(){return null!=this.component}},{key:"isInitialized",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m;return this.instances.has(e)}},{key:"getOptions",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m;return this.instancesOptions.get(e)||{}}},{key:"initialize",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.options,n=void 0===t?{}:t,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error("".concat(this.name,"(").concat(r,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));var i,a=this.getOrInitializeService({instanceIdentifier:r,options:n}),o=x(this.instancesDeferred.entries());try{for(o.s();!(i=o.n()).done;){var s=w(i.value,2),u=s[0],l=s[1];r===this.normalizeInstanceIdentifier(u)&&l.resolve(a)}}catch(c){o.e(c)}finally{o.f()}return a}},{key:"onInit",value:function(e,t){var n,r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);var a=this.instances.get(r);return a&&e(a,r),function(){i.delete(e)}}},{key:"invokeOnInitCallbacks",value:function(e,t){var n=this.onInitCallbacks.get(t);if(n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;try{a(e,t)}catch(o){}}}catch(s){i.e(s)}finally{i.f()}}}},{key:"getOrInitializeService",value:function(e){var t,n=e.instanceIdentifier,r=e.options,i=void 0===r?{}:r,a=this.instances.get(n);if(!a&&this.component&&(a=this.component.instanceFactory(this.container,{instanceIdentifier:(t=n,t===_m?void 0:t),options:i}),this.instances.set(n,a),this.instancesOptions.set(n,i),this.invokeOnInitCallbacks(a,n),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,n,a)}catch(o){}return a||null}},{key:"normalizeInstanceIdentifier",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_m;return this.component?this.component.multipleInstances?e:_m:e}},{key:"shouldAutoInitialize",value:function(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}]);var e}();
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var xm,Em=function(){return y((function e(t){m(this,e),this.name=t,this.providers=new Map}),[{key:"addComponent",value:function(e){var t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}},{key:"addOrOverwriteComponent",value:function(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}},{key:"getProvider",value:function(e){if(this.providers.has(e))return this.providers.get(e);var t=new Cm(e,this);return this.providers.set(e,t),t}},{key:"getProviders",value:function(){return Array.from(this.providers.values())}}])}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(xm||(xm={}));var Sm,Lm,Im={debug:xm.DEBUG,verbose:xm.VERBOSE,info:xm.INFO,warn:xm.WARN,error:xm.ERROR,silent:xm.SILENT},Tm=xm.INFO,Am=k(k(k(k(k({},xm.DEBUG,"log"),xm.VERBOSE,"log"),xm.INFO,"info"),xm.WARN,"warn"),xm.ERROR,"error"),Nm=function(e,t){if(!(t<e.logLevel)){var n=(new Date).toISOString(),r=Am[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i,a=arguments.length,o=new Array(a>2?a-2:0),s=2;s<a;s++)o[s-2]=arguments[s];(i=console)[r].apply(i,["[".concat(n,"]  ").concat(e.name,":")].concat(o))}},Mm=function(){return y((function e(t){m(this,e),this.name=t,this._logLevel=Tm,this._logHandler=Nm,this._userLogHandler=null}),[{key:"logLevel",get:function(){return this._logLevel},set:function(e){if(!(e in xm))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}},{key:"setLogLevel",value:function(e){this._logLevel="string"==typeof e?Im[e]:e}},{key:"logHandler",get:function(){return this._logHandler},set:function(e){if("function"!=typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}},{key:"userLogHandler",get:function(){return this._userLogHandler},set:function(e){this._userLogHandler=e}},{key:"debug",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xm.DEBUG].concat(t)),this._logHandler.apply(this,[this,xm.DEBUG].concat(t))}},{key:"log",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xm.VERBOSE].concat(t)),this._logHandler.apply(this,[this,xm.VERBOSE].concat(t))}},{key:"info",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xm.INFO].concat(t)),this._logHandler.apply(this,[this,xm.INFO].concat(t))}},{key:"warn",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xm.WARN].concat(t)),this._logHandler.apply(this,[this,xm.WARN].concat(t))}},{key:"error",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler.apply(this,[this,xm.ERROR].concat(t)),this._logHandler.apply(this,[this,xm.ERROR].concat(t))}}])}(),Om=function(e,t){return t.some((function(t){return e instanceof t}))};var Pm=new WeakMap,Dm=new WeakMap,Rm=new WeakMap,Fm=new WeakMap,jm=new WeakMap;var Vm={get:function(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return Dm.get(e);if("objectStoreNames"===t)return e.objectStoreNames||Rm.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return zm(e[t])},set:function(e,t,n){return e[t]=n,!0},has:function(e,t){return e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e}};function Um(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(Lm||(Lm=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(qm(this),n),zm(Pm.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return zm(e.apply(qm(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];var a=e.call.apply(e,[qm(this),t].concat(r));return Rm.set(a,t.sort?t.sort():[t]),zm(a)}}function Bm(e){return"function"==typeof e?Um(e):(e instanceof IDBTransaction&&function(e){if(!Dm.has(e)){var t=new Promise((function(t,n){var r=function(){e.removeEventListener("complete",i),e.removeEventListener("error",a),e.removeEventListener("abort",a)},i=function(){t(),r()},a=function(){n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",a),e.addEventListener("abort",a)}));Dm.set(e,t)}}(e),Om(e,Sm||(Sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction]))?new Proxy(e,Vm):e)}function zm(e){if(e instanceof IDBRequest)return t=e,n=new Promise((function(e,n){var r=function(){t.removeEventListener("success",i),t.removeEventListener("error",a)},i=function(){e(zm(t.result)),r()},a=function(){n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",a)})),n.then((function(e){e instanceof IDBCursor&&Pm.set(e,t)})).catch((function(){})),jm.set(n,t),n;var t,n;if(Fm.has(e))return Fm.get(e);var r=Bm(e);return r!==e&&(Fm.set(e,r),jm.set(r,e)),r}var qm=function(e){return jm.get(e)};var Gm,Wm=["get","getKey","getAll","getAllKeys","count"],Hm=["put","add","delete","clear"],Km=new Map;function Qm(e,t){if(e instanceof IDBDatabase&&!(t in e)&&"string"==typeof t){if(Km.get(t))return Km.get(t);var n=t.replace(/FromIndex$/,""),r=t!==n,i=Hm.includes(n);if(n in(r?IDBIndex:IDBObjectStore).prototype&&(i||Wm.includes(n))){var a=function(){var e=u(o().mark((function e(t){var a,s,u,l,c,f,h=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(s=this.transaction(t,i?"readwrite":"readonly"),u=s.store,l=h.length,c=new Array(l>1?l-1:0),f=1;f<l;f++)c[f-1]=h[f];return r&&(u=u.index(c.shift())),e.next=6,Promise.all([(a=u)[n].apply(a,c),i&&s.done]);case 6:return e.abrupt("return",e.sent[0]);case 7:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}();return Km.set(t,a),a}}}Gm=function(e){return c(c({},e),{},{get:function(t,n,r){return Qm(t,n)||e.get(t,n,r)},has:function(t,n){return!!Qm(t,n)||e.has(t,n)}})},Vm=Gm(Vm);
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var Ym=function(){return y((function e(t){m(this,e),this.container=t}),[{key:"getPlatformInfoString",value:function(){return this.container.getProviders().map((function(e){if(function(e){var t=e.getComponent();return"VERSION"===(null==t?void 0:t.type)}(e)){var t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((function(e){return e})).join(" ")}}])}();var $m="@firebase/app",Xm="0.10.1",Jm=new Mm("@firebase/app"),Zm=(k(k(k(k(k(k(k(k(k(k(h={},$m,"fire-core"),"@firebase/app-compat","fire-core-compat"),"@firebase/analytics","fire-analytics"),"@firebase/analytics-compat","fire-analytics-compat"),"@firebase/app-check","fire-app-check"),"@firebase/app-check-compat","fire-app-check-compat"),"@firebase/auth","fire-auth"),"@firebase/auth-compat","fire-auth-compat"),"@firebase/database","fire-rtdb"),"@firebase/database-compat","fire-rtdb-compat"),k(k(k(k(k(k(k(k(k(k(h,"@firebase/functions","fire-fn"),"@firebase/functions-compat","fire-fn-compat"),"@firebase/installations","fire-iid"),"@firebase/installations-compat","fire-iid-compat"),"@firebase/messaging","fire-fcm"),"@firebase/messaging-compat","fire-fcm-compat"),"@firebase/performance","fire-perf"),"@firebase/performance-compat","fire-perf-compat"),"@firebase/remote-config","fire-rc"),"@firebase/remote-config-compat","fire-rc-compat"),k(k(k(k(k(k(h,"@firebase/storage","fire-gcs"),"@firebase/storage-compat","fire-gcs-compat"),"@firebase/firestore","fire-fst"),"@firebase/firestore-compat","fire-fst-compat"),"fire-js","fire-js"),"firebase","fire-js-all")),eg=new Map,tg=new Map,ng=new Map;function rg(e,t){try{e.container.addComponent(t)}catch(n){Jm.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),n)}}function ig(e){var t=e.name;if(ng.has(t))return Jm.debug("There were multiple attempts to register component ".concat(t,".")),!1;ng.set(t,e);var n,r=x(eg.values());try{for(r.s();!(n=r.n()).done;){rg(n.value,e)}}catch(o){r.e(o)}finally{r.f()}var i,a=x(tg.values());try{for(a.s();!(i=a.n()).done;){rg(i.value,e)}}catch(o){a.e(o)}finally{a.f()}return!0}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var ag=(k(k(k(k(k(k(k(k(k(k(p={},"no-app","No Firebase App '{$appName}' has been created - call initializeApp() first"),"bad-app-name","Illegal App name: '{$appName}'"),"duplicate-app","Firebase App named '{$appName}' already exists with different options or config"),"app-deleted","Firebase App named '{$appName}' already deleted"),"server-app-deleted","Firebase Server App has been deleted"),"no-options","Need to provide options, when not being deployed to hosting via source."),"invalid-app-argument","firebase.{$appName}() takes either no argument or a Firebase App instance."),"invalid-log-argument","First argument to `onLog` must be null or a function."),"idb-open","Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}."),"idb-get","Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}."),k(k(k(k(p,"idb-set","Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}."),"idb-delete","Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."),"finalization-registry-not-supported","FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry."),"invalid-server-app-environment","FirebaseServerApp is not for use in browser environments.")),og=new mm("app","Firebase",ag),sg=function(){return y((function e(t,n,r){var i=this;m(this,e),this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new wm("app",(function(){return i}),"PUBLIC"))}),[{key:"automaticDataCollectionEnabled",get:function(){return this.checkDestroyed(),this._automaticDataCollectionEnabled},set:function(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}},{key:"name",get:function(){return this.checkDestroyed(),this._name}},{key:"options",get:function(){return this.checkDestroyed(),this._options}},{key:"config",get:function(){return this.checkDestroyed(),this._config}},{key:"container",get:function(){return this._container}},{key:"isDeleted",get:function(){return this._isDeleted},set:function(e){this._isDeleted=e}},{key:"checkDestroyed",value:function(){if(this.isDeleted)throw og.create("app-deleted",{appName:this._name})}}])}();function ug(e,t,n){var r,i=null!==(r=Zm[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));var a=i.match(/\s|\//),o=t.match(/\s|\//);if(a||o){var s=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return a&&s.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),a&&o&&s.push("and"),o&&s.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void Jm.warn(s.join(" "))}ig(new wm("".concat(i,"-version"),(function(){return{library:i,version:t}}),"VERSION"))}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var lg="firebase-heartbeat-database",cg=1,fg="firebase-heartbeat-store",hg=null;function dg(){return hg||(hg=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.blocked,i=n.upgrade,a=n.blocking,o=n.terminated,s=indexedDB.open(e,t),u=zm(s);return i&&s.addEventListener("upgradeneeded",(function(e){i(zm(s.result),e.oldVersion,e.newVersion,zm(s.transaction),e)})),r&&s.addEventListener("blocked",(function(e){return r(e.oldVersion,e.newVersion,e)})),u.then((function(e){o&&e.addEventListener("close",(function(){return o()})),a&&e.addEventListener("versionchange",(function(e){return a(e.oldVersion,e.newVersion,e)}))})).catch((function(){})),u}(lg,cg,{upgrade:function(e,t){if(0===t)try{e.createObjectStore(fg)}catch(n){console.warn(n)}}}).catch((function(e){throw og.create("idb-open",{originalErrorMessage:e.message})}))),hg}function vg(e){return pg.apply(this,arguments)}function pg(){return pg=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dg();case 3:return n=e.sent,r=n.transaction(fg),e.next=7,r.objectStore(fg).get(yg(t));case 7:return i=e.sent,e.next=10,r.done;case 10:return e.abrupt("return",i);case 13:e.prev=13,e.t0=e.catch(0),e.t0 instanceof pm?Jm.warn(e.t0.message):(a=og.create("idb-get",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jm.warn(a.message));case 16:case"end":return e.stop()}}),e,null,[[0,13]])}))),pg.apply(this,arguments)}function mg(e,t){return gg.apply(this,arguments)}function gg(){return gg=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,dg();case 3:return r=e.sent,i=r.transaction(fg,"readwrite"),a=i.objectStore(fg),e.next=8,a.put(n,yg(t));case 8:return e.next=10,i.done;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(0),e.t0 instanceof pm?Jm.warn(e.t0.message):(s=og.create("idb-set",{originalErrorMessage:null===e.t0||void 0===e.t0?void 0:e.t0.message}),Jm.warn(s.message));case 15:case"end":return e.stop()}}),e,null,[[0,12]])}))),gg.apply(this,arguments)}function yg(e){return"".concat(e.name,"!").concat(e.options.appId)}
/**
             * @license
             * Copyright 2021 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var kg=function(){return y((function e(t){var n=this;m(this,e),this.container=t,this._heartbeatsCache=null;var r=this.container.getProvider("app").getImmediate();this._storage=new Cg(r),this._heartbeatsCachePromise=this._storage.read().then((function(e){return n._heartbeatsCache=e,e}))}),[{key:"triggerHeartbeat",value:(t=u(o().mark((function e(){var t,n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.container.getProvider("platform-logger").getImmediate(),i=r.getPlatformInfoString(),a=bg(),null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)){e.next=9;break}return e.next=6,this._heartbeatsCachePromise;case 6:if(this._heartbeatsCache=e.sent,null!=(null===(n=this._heartbeatsCache)||void 0===n?void 0:n.heartbeats)){e.next=9;break}return e.abrupt("return");case 9:if(this._heartbeatsCache.lastSentHeartbeatDate!==a&&!this._heartbeatsCache.heartbeats.some((function(e){return e.date===a}))){e.next=13;break}return e.abrupt("return");case 13:this._heartbeatsCache.heartbeats.push({date:a,agent:i});case 14:return this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((function(e){var t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),e.abrupt("return",this._storage.overwrite(this._heartbeatsCache));case 16:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"getHeartbeatsHeader",value:(e=u(o().mark((function e(){var t,n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(null!==this._heartbeatsCache){e.next=3;break}return e.next=3,this._heartbeatsCachePromise;case 3:if(null!=(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)&&0!==this._heartbeatsCache.heartbeats.length){e.next=5;break}return e.abrupt("return","");case 5:if(n=bg(),r=wg(this._heartbeatsCache.heartbeats),i=r.heartbeatsToSend,a=r.unsentEntries,s=sm(JSON.stringify({version:2,heartbeats:i})),this._heartbeatsCache.lastSentHeartbeatDate=n,!(a.length>0)){e.next=15;break}return this._heartbeatsCache.heartbeats=a,e.next=13,this._storage.overwrite(this._heartbeatsCache);case 13:e.next=17;break;case 15:this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache);case 17:return e.abrupt("return",s);case 18:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}();function bg(){return(new Date).toISOString().substring(0,10)}function wg(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024,r=[],i=e.slice(),a=x(e);try{var o=function(){var e=t.value,a=r.find((function(t){return t.agent===e.agent}));if(a){if(a.dates.push(e.date),xg(r)>n)return a.dates.pop(),0}else if(r.push({agent:e.agent,dates:[e.date]}),xg(r)>n)return r.pop(),0;i=i.slice(1)};for(a.s();!(t=a.n()).done&&0!==o(););}catch(s){a.e(s)}finally{a.f()}return{heartbeatsToSend:r,unsentEntries:i}}var _g,Cg=function(){return y((function e(t){m(this,e),this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}),[{key:"runIndexedDBEnvironmentCheck",value:(r=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(vm()){e.next=4;break}return e.abrupt("return",!1);case 4:return e.abrupt("return",new Promise((function(e,t){try{var n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=function(){i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=function(){n=!1},i.onerror=function(){var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(a){t(a)}})).then((function(){return!0})).catch((function(){return!1})));case 5:case"end":return e.stop()}}),e)}))),function(){return r.apply(this,arguments)})},{key:"read",value:(n=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return",{heartbeats:[]});case 7:return e.next=9,vg(this.app);case 9:if(!(null==(t=e.sent)?void 0:t.heartbeats)){e.next=14;break}return e.abrupt("return",t);case 14:return e.abrupt("return",{heartbeats:[]});case 15:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"overwrite",value:(t=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mg(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:t.heartbeats}));case 11:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"add",value:(e=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,this._canUseIndexedDBPromise;case 2:if(e.sent){e.next=7;break}return e.abrupt("return");case 7:return e.next=9,this.read();case 9:return r=e.sent,e.abrupt("return",mg(this.app,{lastSentHeartbeatDate:null!==(n=t.lastSentHeartbeatDate)&&void 0!==n?n:r.lastSentHeartbeatDate,heartbeats:[].concat(_(r.heartbeats),_(t.heartbeats))}));case 11:case"end":return e.stop()}}),e,this)}))),function(t){return e.apply(this,arguments)})}]);var e,t,n,r}();function xg(e){return sm(JSON.stringify({version:2,heartbeats:e})).length}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */_g="",ig(new wm("platform-logger",(function(e){return new Ym(e)}),"PRIVATE")),ig(new wm("heartbeat",(function(e){return new kg(e)}),"PRIVATE")),ug($m,Xm,_g),ug($m,Xm,"esm2017"),ug("fire-js","");var Eg,Sg="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},Lg=Lg||{},Ig=Sg||self;function Tg(e){var t=C(e);return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function Ag(e){var t=C(e);return"object"==t&&null!=e||"function"==t}var Ng="closure_uid_"+(1e9*Math.random()>>>0),Mg=0;function Og(e,t,n){return e.call.apply(e.bind,arguments)}function Pg(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function Dg(e,t,n){return(Dg=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?Og:Pg).apply(null,arguments)}function Rg(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function Fg(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(e,n,r){for(var i=Array(arguments.length-2),a=2;a<arguments.length;a++)i[a-2]=arguments[a];return t.prototype[n].apply(e,i)}}function jg(){this.s=this.s,this.o=this.o}jg.prototype.s=!1,jg.prototype.sa=function(){var e;!this.s&&(this.s=!0,this.N(),0)&&(e=this,Object.prototype.hasOwnProperty.call(e,Ng)&&e[Ng]||(e[Ng]=++Mg))},jg.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};var Vg=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if("string"==typeof e)return"string"!=typeof t||1!=t.length?-1:e.indexOf(t,0);for(var n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function Ug(e){var t=e.length;if(0<t){for(var n=Array(t),r=0;r<t;r++)n[r]=e[r];return n}return[]}function Bg(e,t){for(var n=1;n<arguments.length;n++){var r=arguments[n];if(Tg(r)){var i=e.length||0,a=r.length||0;e.length=i+a;for(var o=0;o<a;o++)e[i+o]=r[o]}else e.push(r)}}function zg(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}zg.prototype.h=function(){this.defaultPrevented=!0};var qg=function(){if(!Ig.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{var n=function(){};Ig.addEventListener("test",n,t),Ig.removeEventListener("test",n,t)}catch(n){}return e}();function Gg(e){return/^[\s\xa0]*$/.test(e)}function Wg(){var e=Ig.navigator;return e&&(e=e.userAgent)?e:""}function Hg(e){return-1!=Wg().indexOf(e)}function Kg(e){return Kg[" "](e),e}Kg[" "]=function(){};var Qg,Yg,$g,Xg=Hg("Opera"),Jg=Hg("Trident")||Hg("MSIE"),Zg=Hg("Edge"),ey=Zg||Jg,ty=Hg("Gecko")&&!(-1!=Wg().toLowerCase().indexOf("webkit")&&!Hg("Edge"))&&!(Hg("Trident")||Hg("MSIE"))&&!Hg("Edge"),ny=-1!=Wg().toLowerCase().indexOf("webkit")&&!Hg("Edge");function ry(){var e=Ig.document;return e?e.documentMode:void 0}e:{var iy="",ay=(Yg=Wg(),ty?/rv:([^\);]+)(\)|;)/.exec(Yg):Zg?/Edge\/([\d\.]+)/.exec(Yg):Jg?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(Yg):ny?/WebKit\/(\S+)/.exec(Yg):Xg?/(?:Version)[ \/]?(\S+)/.exec(Yg):void 0);if(ay&&(iy=ay?ay[1]:""),Jg){var oy=ry();if(null!=oy&&oy>parseFloat(iy)){Qg=String(oy);break e}}Qg=iy}if(Ig.document&&Jg){var sy=ry();$g=sy||(parseInt(Qg,10)||void 0)}else $g=void 0;var uy=$g;function ly(e,t){if(zg.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(ty){e:{try{Kg(t.nodeName);var i=!0;break e}catch(a){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"==typeof e.pointerType?e.pointerType:cy[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ly.$.h.call(this)}}Fg(ly,zg);var cy={2:"touch",3:"pen",4:"mouse"};ly.prototype.h=function(){ly.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var fy="closure_listenable_"+(1e6*Math.random()|0),hy=0;function dy(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++hy,this.fa=this.ia=!1}function vy(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function py(e,t,n){for(var r in e)t.call(n,e[r],r,e)}function my(e){var t={};for(var n in e)t[n]=e[n];return t}var gy="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yy(e,t){for(var n,r,i=1;i<arguments.length;i++){for(n in r=arguments[i])e[n]=r[n];for(var a=0;a<gy.length;a++)n=gy[a],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function ky(e){this.src=e,this.g={},this.h=0}function by(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],a=Vg(i,t);(r=0<=a)&&Array.prototype.splice.call(i,a,1),r&&(vy(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function wy(e,t,n,r){for(var i=0;i<e.length;++i){var a=e[i];if(!a.fa&&a.listener==t&&a.capture==!!n&&a.la==r)return i}return-1}ky.prototype.add=function(e,t,n,r,i){var a=e.toString();(e=this.g[a])||(e=this.g[a]=[],this.h++);var o=wy(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):((t=new dy(t,this.src,a,!!r,i)).ia=n,e.push(t)),t};var _y="closure_lm_"+(1e6*Math.random()|0),Cy={};function xy(e,t,n,r,i){if(r&&r.once)return Sy(e,t,n,r,i);if(Array.isArray(t)){for(var a=0;a<t.length;a++)xy(e,t[a],n,r,i);return null}return n=Oy(n),e&&e[fy]?e.O(t,n,Ag(r)?!!r.capture:!!r,i):Ey(e,t,n,!1,r,i)}function Ey(e,t,n,r,i,a){if(!t)throw Error("Invalid event type");var o=Ag(i)?!!i.capture:!!i,s=Ny(e);if(s||(e[_y]=s=new ky(e)),(n=s.add(t,n,r,o,a)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}var t=Ay;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)qg||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(Ty(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function Sy(e,t,n,r,i){if(Array.isArray(t)){for(var a=0;a<t.length;a++)Sy(e,t[a],n,r,i);return null}return n=Oy(n),e&&e[fy]?e.P(t,n,Ag(r)?!!r.capture:!!r,i):Ey(e,t,n,!0,r,i)}function Ly(e,t,n,r,i){if(Array.isArray(t))for(var a=0;a<t.length;a++)Ly(e,t[a],n,r,i);else r=Ag(r)?!!r.capture:!!r,n=Oy(n),e&&e[fy]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=wy(a=e.g[t],n,r,i))&&(vy(a[n]),Array.prototype.splice.call(a,n,1),0==a.length&&(delete e.g[t],e.h--)))):e&&(e=Ny(e))&&(t=e.g[t.toString()],e=-1,t&&(e=wy(t,n,r,i)),(n=-1<e?t[e]:null)&&Iy(n))}function Iy(e){if("number"!=typeof e&&e&&!e.fa){var t=e.src;if(t&&t[fy])by(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(Ty(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Ny(t))?(by(n,e),0==n.h&&(n.src=null,t[_y]=null)):vy(e)}}}function Ty(e){return e in Cy?Cy[e]:Cy[e]="on"+e}function Ay(e,t){if(e.fa)e=!0;else{t=new ly(t,this);var n=e.listener,r=e.la||e.src;e.ia&&Iy(e),e=n.call(r,t)}return e}function Ny(e){return(e=e[_y])instanceof ky?e:null}var My="__closure_events_fn_"+(1e9*Math.random()>>>0);function Oy(e){return"function"==typeof e?e:(e[My]||(e[My]=function(t){return e.handleEvent(t)}),e[My])}function Py(){jg.call(this),this.i=new ky(this),this.S=this,this.J=null}function Dy(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,"string"==typeof t)t=new zg(t,e);else if(t instanceof zg)t.target=t.target||e;else{var i=t;yy(t=new zg(r,e),i)}if(i=!0,n)for(var a=n.length-1;0<=a;a--){var o=t.g=n[a];i=Ry(o,r,!0,t)&&i}if(i=Ry(o=t.g=e,r,!0,t)&&i,i=Ry(o,r,!1,t)&&i,n)for(a=0;a<n.length;a++)i=Ry(o=t.g=n[a],r,!1,t)&&i}function Ry(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,a=0;a<t.length;++a){var o=t[a];if(o&&!o.fa&&o.capture==n){var s=o.listener,u=o.la||o.src;o.ia&&by(e.i,o),i=!1!==s.call(u,r)&&i}}return i&&!r.defaultPrevented}Fg(Py,jg),Py.prototype[fy]=!0,Py.prototype.removeEventListener=function(e,t,n,r){Ly(this,e,t,n,r)},Py.prototype.N=function(){if(Py.$.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)vy(n[r]);delete t.g[e],t.h--}}this.J=null},Py.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},Py.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};var Fy=Ig.JSON.stringify,jy=function(){return y((function e(t,n){m(this,e),this.i=t,this.j=n,this.h=0,this.g=null}),[{key:"get",value:function(){var e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}])}();function Vy(){var e=Ky,t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var Uy=function(){return y((function e(){m(this,e),this.h=this.g=null}),[{key:"add",value:function(e,t){var n=By.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}}])}(),By=new jy((function(){return new zy}),(function(e){return e.reset()})),zy=function(){return y((function e(){m(this,e),this.next=this.g=this.h=null}),[{key:"set",value:function(e,t){this.h=e,this.g=t,this.next=null}},{key:"reset",value:function(){this.next=this.g=this.h=null}}])}();function qy(e){var t=1;e=e.split(":");for(var n=[];0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function Gy(e){Ig.setTimeout((function(){throw e}),0)}var Wy,Hy=!1,Ky=new Uy,Qy=function(){var e=Ig.Promise.resolve(void 0);Wy=function(){e.then(Yy)}},Yy=function(){for(var e;e=Vy();){try{e.h.call(e.g)}catch(n){Gy(n)}var t=By;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}Hy=!1};function $y(e,t){Py.call(this),this.h=e||1,this.g=t||Ig,this.j=Dg(this.qb,this),this.l=Date.now()}function Xy(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}function Jy(e,t,n){if("function"==typeof e)n&&(e=Dg(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=Dg(e.handleEvent,e)}return 2147483647<Number(t)?-1:Ig.setTimeout(e,t||0)}function Zy(e){e.g=Jy((function(){e.g=null,e.i&&(e.i=!1,Zy(e))}),e.j);var t=e.h;e.h=null,e.m.apply(null,t)}Fg($y,Py),(Eg=$y.prototype).ga=!1,Eg.T=null,Eg.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Dy(this,"tick"),this.ga&&(Xy(this),this.start()))}},Eg.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Eg.N=function(){$y.$.N.call(this),Xy(this),delete this.g};var ek=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t)).m=e,r.j=n,r.h=null,r.i=!1,r.g=null,r}return v(t,e),y(t,[{key:"l",value:function(e){this.h=arguments,this.g?this.i=!0:Zy(this)}},{key:"N",value:function(){r(d(t.prototype),"N",this).call(this),this.g&&(Ig.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}])}(jg);function tk(e){jg.call(this),this.h=e,this.g={}}Fg(tk,jg);var nk=[];function rk(e,t,n,r){Array.isArray(n)||(n&&(nk[0]=n.toString()),n=nk);for(var i=0;i<n.length;i++){var a=xy(t,n[i],r||e.handleEvent,!1,e.h||e);if(!a)break;e.g[a.key]=a}}function ik(e){py(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Iy(e)}),e),e.g={}}function ak(){this.g=!0}function ok(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var o=1;o<i.length;o++)i[o]=""}}}return Fy(n)}catch(s){return t}}(e,n)+(r?" "+r:"")}))}tk.prototype.N=function(){tk.$.N.call(this),ik(this)},tk.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},ak.prototype.Ea=function(){this.g=!1},ak.prototype.info=function(){};var sk={},uk=null;function lk(){return uk=uk||new Py}function ck(e){zg.call(this,sk.Ta,e)}function fk(e){var t=lk();Dy(t,new ck(t))}function hk(e,t){zg.call(this,sk.STAT_EVENT,e),this.stat=t}function dk(e){var t=lk();Dy(t,new hk(t,e))}function vk(e,t){zg.call(this,sk.Ua,e),this.size=t}function pk(e,t){if("function"!=typeof e)throw Error("Fn must not be null and must be a function");return Ig.setTimeout((function(){e()}),t)}sk.Ta="serverreachability",Fg(ck,zg),sk.STAT_EVENT="statevent",Fg(hk,zg),sk.Ua="timingevent",Fg(vk,zg);var mk={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},gk={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function yk(){}function kk(e){return e.h||(e.h=e.i())}function bk(){}yk.prototype.h=null;var wk,_k={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function Ck(){zg.call(this,"d")}function xk(){zg.call(this,"c")}function Ek(){}function Sk(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new tk(this),this.P=Ik,e=ey?125:void 0,this.V=new $y(e),this.I=null,this.i=!1,this.u=this.B=this.A=this.L=this.G=this.Y=this.C=null,this.F=[],this.g=null,this.o=0,this.s=this.v=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new Lk}function Lk(){this.i=null,this.g="",this.h=!1}Fg(Ck,zg),Fg(xk,zg),Fg(Ek,yk),Ek.prototype.g=function(){return new XMLHttpRequest},Ek.prototype.i=function(){return{}},wk=new Ek;var Ik=45e3,Tk={},Ak={};function Nk(e,t,n){e.L=1,e.A=$k(Wk(t)),e.u=n,e.S=!0,Mk(e,null)}function Mk(e,t){e.G=Date.now(),Rk(e),e.B=Wk(e.A);var n=e.B,r=e.W;Array.isArray(r)||(r=[String(r)]),lb(n.i,"t",r),e.o=0,n=e.l.J,e.h=new Lk,e.g=lw(e.l,n?t:null,!e.u),0<e.O&&(e.M=new ek(Dg(e.Pa,e,e.g),e.O)),rk(e.U,e.g,"readystatechange",e.nb),t=e.I?my(e.I):{},e.u?(e.v||(e.v="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.B,e.v,e.u,t)):(e.v="GET",e.g.ha(e.B,e.v,null,t)),fk(),function(e,t,n,r,i,a){e.info((function(){if(e.g)if(a)for(var o="",s=a.split("&"),u=0;u<s.length;u++){var l=s[u].split("=");if(1<l.length){var c=l[0];l=l[1];var f=c.split("_");o=2<=f.length&&"type"==f[1]?o+(c+"=")+l+"&":o+(c+"=redacted&")}}else o=null;else o=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+o}))}(e.j,e.v,e.B,e.m,e.W,e.u)}function Ok(e){return!!e.g&&("GET"==e.v&&2!=e.L&&e.l.Ha)}function Pk(e,t,n){for(var r,i=!0;!e.J&&e.o<n.length;){if((r=Dk(e,n))==Ak){4==t&&(e.s=4,dk(14),i=!1),ok(e.j,e.m,null,"[Incomplete Response]");break}if(r==Tk){e.s=4,dk(15),ok(e.j,e.m,n,"[Invalid Chunk]"),i=!1;break}ok(e.j,e.m,r,null),Bk(e,r)}Ok(e)&&0!=e.o&&(e.h.g=e.h.g.slice(e.o),e.o=0),4!=t||0!=n.length||e.h.h||(e.s=1,dk(16),i=!1),e.i=e.i&&i,i?0<n.length&&!e.ba&&(e.ba=!0,(t=e.l).g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),tw(t),t.M=!0,dk(11))):(ok(e.j,e.m,n,"[Invalid Chunked Response]"),Uk(e),Vk(e))}function Dk(e,t){var n=e.o,r=t.indexOf("\n",n);return-1==r?Ak:(n=Number(t.substring(n,r)),isNaN(n)?Tk:(r+=1)+n>t.length?Ak:(t=t.slice(r,r+n),e.o=r+n,t))}function Rk(e){e.Y=Date.now()+e.P,Fk(e,e.P)}function Fk(e,t){if(null!=e.C)throw Error("WatchDog timer not null");e.C=pk(Dg(e.lb,e),t)}function jk(e){e.C&&(Ig.clearTimeout(e.C),e.C=null)}function Vk(e){0==e.l.H||e.J||iw(e.l,e)}function Uk(e){jk(e);var t=e.M;t&&"function"==typeof t.sa&&t.sa(),e.M=null,Xy(e.V),ik(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Bk(e,t){try{var n=e.l;if(0!=n.H&&(n.g==e||mb(n.i,e)))if(!e.K&&mb(n.i,e)&&3==n.H){try{var r=n.Ja.g.parse(t)}catch(a){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.G+3e3<e.G))break e;rw(n),Kb(n)}ew(n),dk(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&0==n.A&&!n.v&&(n.v=pk(Dg(n.ib,n),6e3));if(1>=pb(n.i)&&n.oa){try{n.oa()}catch(a){}n.oa=void 0}}else ow(n,11)}else if((e.K||n.g==e)&&rw(n),!Gg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){var a=i[t];if(n.V=a[0],a=a[1],2==n.H)if("c"==a[0]){n.K=a[1],n.pa=a[2];var o=a[3];null!=o&&(n.ra=o,n.l.info("VER="+n.ra));var s=a[4];null!=s&&(n.Ga=s,n.l.info("SVER="+n.Ga));var u=a[5];null!=u&&"number"==typeof u&&0<u&&(r=1.5*u,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;var l=e.g;if(l){var c=l.g?l.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(c){var f=r.i;f.g||-1==c.indexOf("spdy")&&-1==c.indexOf("quic")&&-1==c.indexOf("h2")||(f.j=f.l,f.g=new Set,f.h&&(gb(f,f.h),f.h=null))}if(r.F){var h=l.g?l.g.getResponseHeader("X-HTTP-Session-Id"):null;h&&(r.Da=h,Yk(r.I,r.F,h))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms"));var d=e;if((r=n).wa=uw(r,r.J?r.pa:null,r.Y),d.K){yb(r.i,d);var v=d,p=r.L;p&&v.setTimeout(p),v.C&&(jk(v),Rk(v)),r.g=d}else Zb(r);0<n.j.length&&Yb(n)}else"stop"!=a[0]&&"close"!=a[0]||ow(n,7);else 3==n.H&&("stop"==a[0]||"close"==a[0]?"stop"==a[0]?ow(n,7):Hb(n):"noop"!=a[0]&&n.h&&n.h.Aa(a),n.A=0)}fk()}catch(a){}}function zk(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(Tg(e)||"string"==typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.ta&&"function"==typeof e.ta)return e.ta();if(!e.Z||"function"!=typeof e.Z){if("undefined"!=typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!=typeof Set&&e instanceof Set)){if(Tg(e)||"string"==typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}for(var r in t=[],n=0,e)t[n++]=r;return t}}}(e),r=function(e){if(e.Z&&"function"==typeof e.Z)return e.Z();if("undefined"!=typeof Map&&e instanceof Map||"undefined"!=typeof Set&&e instanceof Set)return Array.from(e.values());if("string"==typeof e)return e.split("");if(Tg(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}(Eg=Sk.prototype).setTimeout=function(e){this.P=e},Eg.nb=function(e){e=e.target;var t=this.M;t&&3==Ub(e)?t.l():this.Pa(e)},Eg.Pa=function(e){try{if(e==this.g)e:{var t=Ub(this.g),n=this.g.Ia();this.g.da();if(!(3>t)&&(3!=t||ey||this.g&&(this.h.h||this.g.ja()||Bb(this.g)))){this.J||4!=t||7==n||fk(),jk(this);var r=this.g.da();this.ca=r;t:if(Ok(this)){var i=Bb(this.g);e="";var a=i.length,o=4==Ub(this.g);if(!this.h.i){if("undefined"==typeof TextDecoder){Uk(this),Vk(this);var s="";break t}this.h.i=new Ig.TextDecoder}for(n=0;n<a;n++)this.h.h=!0,e+=this.h.i.decode(i[n],{stream:o&&n==a-1});i.length=0,this.h.g+=e,this.o=0,s=this.h.g}else s=this.g.ja();if(this.i=200==r,function(e,t,n,r,i,a,o){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+a+" "+o}))}(this.j,this.v,this.B,this.m,this.W,t,r),this.i){if(this.aa&&!this.K){t:{if(this.g){var u,l=this.g;if((u=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Gg(u)){var c=u;break t}}c=null}if(!(r=c)){this.i=!1,this.s=3,dk(12),Uk(this),Vk(this);break e}ok(this.j,this.m,r,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Bk(this,r)}this.S?(Pk(this,t,s),ey&&this.i&&3==t&&(rk(this.U,this.V,"tick",this.mb),this.V.start())):(ok(this.j,this.m,s,null),Bk(this,s)),4==t&&Uk(this),this.i&&!this.J&&(4==t?iw(this.l,this):(this.i=!1,Rk(this)))}else(function(e){var t={};e=(e.g&&2<=Ub(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(var n=0;n<e.length;n++)if(!Gg(e[n])){var r=qy(e[n]),i=r[0];if("string"==typeof(r=r[1])){r=r.trim();var a=t[i]||[];t[i]=a,a.push(r)}}!function(e,t){for(var n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==r&&0<s.indexOf("Unknown SID")?(this.s=3,dk(12)):(this.s=0,dk(13)),Uk(this),Vk(this)}}}catch(pp){}},Eg.mb=function(){if(this.g){var e=Ub(this.g),t=this.g.ja();this.o<t.length&&(jk(this),Pk(this,e,t),this.i&&4!=e&&Rk(this))}},Eg.cancel=function(){this.J=!0,Uk(this)},Eg.lb=function(){this.C=null;var e=Date.now();0<=e-this.Y?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.j,this.B),2!=this.L&&(fk(),dk(17)),Uk(this),this.s=2,Vk(this)):Fk(this,this.Y-e)};var qk=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Gk(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Gk){this.h=e.h,Hk(this,e.j),this.s=e.s,this.g=e.g,Kk(this,e.m),this.l=e.l;var t=e.i,n=new ab;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),Qk(this,n),this.o=e.o}else e&&(t=String(e).match(qk))?(this.h=!1,Hk(this,t[1]||"",!0),this.s=Xk(t[2]||""),this.g=Xk(t[3]||"",!0),Kk(this,t[4]),this.l=Xk(t[5]||"",!0),Qk(this,t[6]||"",!0),this.o=Xk(t[7]||"")):(this.h=!1,this.i=new ab(null,this.h))}function Wk(e){return new Gk(e)}function Hk(e,t,n){e.j=n?Xk(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function Kk(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function Qk(e,t,n){t instanceof ab?(e.i=t,function(e,t){t&&!e.j&&(ob(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(sb(this,t),lb(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=Jk(t,rb)),e.i=new ab(t,e.h))}function Yk(e,t,n){e.i.set(t,n)}function $k(e){return Yk(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Xk(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Jk(e,t,n){return"string"==typeof e?(e=encodeURI(e).replace(t,Zk),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function Zk(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}Gk.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Jk(t,eb,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.s)&&e.push(Jk(t,eb,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.m)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(Jk(n,"/"==n.charAt(0)?nb:tb,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Jk(n,ib)),e.join("")};var eb=/[#\/\?@]/g,tb=/[#\?:]/g,nb=/[#\?]/g,rb=/[#\?@]/g,ib=/#/g;function ab(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ob(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var a=e[n].substring(0,r);i=e[n].substring(r+1)}else a=e[n];t(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function sb(e,t){ob(e),t=cb(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function ub(e,t){return ob(e),t=cb(e,t),e.g.has(t)}function lb(e,t,n){sb(e,t),0<n.length&&(e.i=null,e.g.set(cb(e,t),Ug(n)),e.h+=n.length)}function cb(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}(Eg=ab.prototype).add=function(e,t){ob(this),this.i=null,e=cb(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},Eg.forEach=function(e,t){ob(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},Eg.ta=function(){ob(this);for(var e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[],r=0;r<t.length;r++)for(var i=e[r],a=0;a<i.length;a++)n.push(t[r]);return n},Eg.Z=function(e){ob(this);var t=[];if("string"==typeof e)ub(this,e)&&(t=t.concat(this.g.get(cb(this,e))));else{e=Array.from(this.g.values());for(var n=0;n<e.length;n++)t=t.concat(e[n])}return t},Eg.set=function(e,t){return ob(this),this.i=null,ub(this,e=cb(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},Eg.get=function(e,t){return e&&0<(e=this.Z(e)).length?String(e[0]):t},Eg.toString=function(){if(this.i)return this.i;if(!this.g)return"";for(var e=[],t=Array.from(this.g.keys()),n=0;n<t.length;n++){var r=t[n],i=encodeURIComponent(String(r)),a=this.Z(r);for(r=0;r<a.length;r++){var o=i;""!==a[r]&&(o+="="+encodeURIComponent(String(a[r]))),e.push(o)}}return this.i=e.join("&")};var fb=y((function e(t,n){m(this,e),this.g=t,this.map=n}));function hb(e){this.l=e||db,Ig.PerformanceNavigationTiming?e=0<(e=Ig.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(Ig.g&&Ig.g.Ka&&Ig.g.Ka()&&Ig.g.Ka().dc),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var db=10;function vb(e){return!!e.h||!!e.g&&e.g.size>=e.j}function pb(e){return e.h?1:e.g?e.g.size:0}function mb(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function gb(e,t){e.g?e.g.add(t):e.h=t}function yb(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function kb(e){if(null!=e.h)return e.i.concat(e.h.F);if(null!=e.g&&0!==e.g.size){var t,n=e.i,r=x(e.g.values());try{for(r.s();!(t=r.n()).done;){var i=t.value;n=n.concat(i.F)}}catch(a){r.e(a)}finally{r.f()}return n}return Ug(e.i)}hb.prototype.cancel=function(){if(this.i=kb(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){var e,t=x(this.g.values());try{for(t.s();!(e=t.n()).done;){e.value.cancel()}}catch(n){t.e(n)}finally{t.f()}this.g.clear()}};var bb=function(){return y((function e(){m(this,e)}),[{key:"stringify",value:function(e){return Ig.JSON.stringify(e,void 0)}},{key:"parse",value:function(e){return Ig.JSON.parse(e,void 0)}}])}();function wb(){this.g=new bb}function _b(e,t,n){var r=n||"";try{zk(e,(function(e,n){var i=e;Ag(e)&&(i=Fy(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Cb(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch(a){}}function xb(e){this.l=e.ec||null,this.j=e.ob||!1}function Eb(e,t){Py.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=Sb,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Fg(xb,yk),xb.prototype.g=function(){return new Eb(this.l,this.j)},xb.prototype.i=function(e){return function(){return e}}({}),Fg(Eb,Py);var Sb=0;function Lb(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}function Ib(e){e.readyState=4,e.l=null,e.j=null,e.A=null,Tb(e)}function Tb(e){e.onreadystatechange&&e.onreadystatechange.call(e)}(Eg=Eb.prototype).open=function(e,t){if(this.readyState!=Sb)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,Tb(this)},Eg.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;var t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||Ig).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))},Eg.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((function(){})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Ib(this)),this.readyState=Sb},Eg.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Tb(this)),this.g&&(this.readyState=3,Tb(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(void 0!==Ig.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;Lb(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))},Eg.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Ib(this):Tb(this),3==this.readyState&&Lb(this)}},Eg.Za=function(e){this.g&&(this.response=this.responseText=e,Ib(this))},Eg.Ya=function(e){this.g&&(this.response=e,Ib(this))},Eg.ka=function(){this.g&&Ib(this)},Eg.setRequestHeader=function(e,t){this.v.append(e,t)},Eg.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},Eg.getAllResponseHeaders=function(){if(!this.h)return"";for(var e=[],t=this.h.entries(),n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Eb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}});var Ab=Ig.JSON.parse;function Nb(e){Py.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=Mb,this.L=this.M=!1}Fg(Nb,Py);var Mb="",Ob=/^https?$/i,Pb=["POST","PUT"];function Db(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,Rb(e),jb(e)}function Rb(e){e.F||(e.F=!0,Dy(e,"complete"),Dy(e,"error"))}function Fb(e){if(e.h&&void 0!==Lg&&(!e.C[1]||4!=Ub(e)||2!=e.da()))if(e.v&&4==Ub(e))Jy(e.La,0,e);else if(Dy(e,"readystatechange"),4==Ub(e)){e.h=!1;try{var t,n=e.da();e:switch(n){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var r=!0;break e;default:r=!1}if(!(t=r)){var i;if(i=0===n){var a=String(e.I).match(qk)[1]||null;!a&&Ig.self&&Ig.self.location&&(a=Ig.self.location.protocol.slice(0,-1)),i=!Ob.test(a?a.toLowerCase():"")}t=i}if(t)Dy(e,"complete"),Dy(e,"success");else{e.m=6;try{var o=2<Ub(e)?e.g.statusText:""}catch(s){o=""}e.j=o+" ["+e.da()+"]",Rb(e)}}finally{jb(e)}}}function jb(e,t){if(e.g){Vb(e);var n=e.g,r=e.C[0]?function(){}:null;e.g=null,e.C=null,t||Dy(e,"ready");try{n.onreadystatechange=r}catch(i){}}}function Vb(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(Ig.clearTimeout(e.A),e.A=null)}function Ub(e){return e.g?e.g.readyState:0}function Bb(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case Mb:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(Kw){return null}}function zb(e){var t="";return py(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function qb(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=zb(n),"string"==typeof e?null!=n&&encodeURIComponent(String(n)):Yk(e,t,n))}function Gb(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Wb(e){this.Ga=0,this.j=[],this.l=new ak,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Gb("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Gb("baseRetryDelayMs",5e3,e),this.hb=Gb("retryDelaySeedMs",1e4,e),this.eb=Gb("forwardChannelMaxRetries",2,e),this.xa=Gb("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new hb(e&&e.concurrentRequestLimit),this.Ja=new wb,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function Hb(e){if(Qb(e),3==e.H){var t=e.W++,n=Wk(e.I);if(Yk(n,"SID",e.K),Yk(n,"RID",t),Yk(n,"TYPE","terminate"),Xb(e,n),(t=new Sk(e,e.l,t)).L=2,t.A=$k(Wk(n)),n=!1,Ig.navigator&&Ig.navigator.sendBeacon)try{n=Ig.navigator.sendBeacon(t.A.toString(),"")}catch(r){}!n&&Ig.Image&&((new Image).src=t.A,n=!0),n||(t.g=lw(t.l,null),t.g.ha(t.A)),t.G=Date.now(),Rk(t)}sw(e)}function Kb(e){e.g&&(tw(e),e.g.cancel(),e.g=null)}function Qb(e){Kb(e),e.u&&(Ig.clearTimeout(e.u),e.u=null),rw(e),e.i.cancel(),e.m&&("number"==typeof e.m&&Ig.clearTimeout(e.m),e.m=null)}function Yb(e){if(!vb(e.i)&&!e.m){e.m=!0;var t=e.Na;Wy||Qy(),Hy||(Wy(),Hy=!0),Ky.add(t,e),e.C=0}}function $b(e,t){var n;n=t?t.m:e.W++;var r=Wk(e.I);Yk(r,"SID",e.K),Yk(r,"RID",n),Yk(r,"AID",e.V),Xb(e,r),e.o&&e.s&&qb(r,e.o,e.s),n=new Sk(e,e.l,n,e.C+1),null===e.o&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=Jb(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),gb(e.i,n),Nk(n,r,t)}function Xb(e,t){e.na&&py(e.na,(function(e,n){Yk(t,n,e)})),e.h&&zk({},(function(e,n){Yk(t,n,e)}))}function Jb(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Dg(e.h.Va,e.h,e):null;e:for(var i=e.j,a=-1;;){var o=["count="+n];-1==a?0<n?(a=i[0].g,o.push("ofs="+a)):a=0:o.push("ofs="+a);for(var s=!0,u=0;u<n;u++){var l=i[u].g,c=i[u].map;if(0>(l-=a))a=Math.max(0,i[u].g-100),s=!1;else try{_b(c,o,"req"+l+"_")}catch(f){r&&r(c)}}if(s){r=o.join("&");break e}}return e=e.j.splice(0,n),t.F=e,r}function Zb(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;Wy||Qy(),Hy||(Wy(),Hy=!0),Ky.add(t,e),e.A=0}}function ew(e){return!(e.g||e.u||3<=e.A)&&(e.ba++,e.u=pk(Dg(e.Ma,e),aw(e,e.A)),e.A++,!0)}function tw(e){null!=e.B&&(Ig.clearTimeout(e.B),e.B=null)}function nw(e){e.g=new Sk(e,e.l,"rpc",e.ba),null===e.o&&(e.g.I=e.s),e.g.O=0;var t=Wk(e.wa);Yk(t,"RID","rpc"),Yk(t,"SID",e.K),Yk(t,"AID",e.V),Yk(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&Yk(t,"TO",e.qa),Yk(t,"TYPE","xmlhttp"),Xb(e,t),e.o&&e.s&&qb(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.A=$k(Wk(t)),n.u=null,n.S=!0,Mk(n,e)}function rw(e){null!=e.v&&(Ig.clearTimeout(e.v),e.v=null)}function iw(e,t){var n=null;if(e.g==t){rw(e),tw(e),e.g=null;var r=2}else{if(!mb(e.i,t))return;n=t.F,yb(e.i,t),r=1}if(0!=e.H)if(t.i)if(1==r){n=t.u?t.u.length:0,t=Date.now()-t.G;var i=e.C;Dy(r=lk(),new vk(r,n)),Yb(e)}else Zb(e);else if(3==(i=t.s)||0==i&&0<t.ca||!(1==r&&function(e,t){return!(pb(e.i)>=e.i.j-(e.m?1:0)||(e.m?(e.j=t.F.concat(e.j),0):1==e.H||2==e.H||e.C>=(e.cb?0:e.eb)||(e.m=pk(Dg(e.Na,e,t),aw(e,e.C)),e.C++,0)))}(e,t)||2==r&&ew(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:ow(e,5);break;case 4:ow(e,10);break;case 3:ow(e,6);break;default:ow(e,2)}}function aw(e,t){var n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function ow(e,t){if(e.l.info("Error code "+t),2==t){var n=null;e.h&&(n=null);var r=Dg(e.pb,e);n||(n=new Gk("//www.google.com/images/cleardot.gif"),Ig.location&&"http"==Ig.location.protocol||Hk(n,"https"),$k(n)),function(e,t){var n=new ak;if(Ig.Image){var r=new Image;r.onload=Rg(Cb,n,r,"TestLoadImage: loaded",!0,t),r.onerror=Rg(Cb,n,r,"TestLoadImage: error",!1,t),r.onabort=Rg(Cb,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=Rg(Cb,n,r,"TestLoadImage: timeout",!1,t),Ig.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(n.toString(),r)}else dk(2);e.H=0,e.h&&e.h.za(t),sw(e),Qb(e)}function sw(e){if(e.H=0,e.ma=[],e.h){var t=kb(e.i);0==t.length&&0==e.j.length||(Bg(e.ma,t),Bg(e.ma,e.j),e.i.i.length=0,Ug(e.j),e.j.length=0),e.h.ya()}}function uw(e,t,n){var r=n instanceof Gk?Wk(n):new Gk(n);if(""!=r.g)t&&(r.g=t+"."+r.g),Kk(r,r.m);else{var i=Ig.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var a=new Gk(null);r&&Hk(a,r),t&&(a.g=t),i&&Kk(a,i),n&&(a.l=n),r=a}return n=e.F,t=e.Da,n&&t&&Yk(r,n,t),Yk(r,"VER",e.ra),Xb(e,r),r}function lw(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ha&&!e.va?new Nb(new xb({ob:n})):new Nb(e.va)).Oa(e.J),t}function cw(){}function fw(){if(Jg&&!(10<=Number(uy)))throw Error("Environmental error: no available transport.")}function hw(e,t){Py.call(this),this.g=new Wb(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!Gg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!Gg(t)&&(this.g.F=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new pw(this)}function dw(e){Ck.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(var n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function vw(){xk.call(this),this.status=1}function pw(e){this.g=e}function mw(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function gw(e,t,n){n||(n=0);var r=Array(16);if("string"==typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var a=e.g[3],o=t+(a^n&(i^a))+r[0]+3614090360&4294967295;o=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=(n=(i=(a=(t=n+(o<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[3]+3250441966&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[7]+4249261313&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[11]+2304563134&4294967295)<<22&4294967295|o>>>10))+((o=t+(a^n&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|o>>>25))+((o=a+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|o>>>20))+((o=i+(n^a&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|o>>>15))+((o=n+(t^i&(a^t))+r[15]+1236535329&4294967295)<<22&4294967295|o>>>10))+((o=t+(i^a&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[11]+643717713&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[15]+3634488961&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[3]+4107603335&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|o>>>12))+((o=t+(i^a&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|o>>>27))+((o=a+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|o>>>23))+((o=i+(t^n&(a^t))+r[7]+1735328473&4294967295)<<14&4294967295|o>>>18))+((o=n+(a^t&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|o>>>12))+((o=t+(n^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[14]+4259657740&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[10]+3200236656&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[13]+681279174&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[6]+76029189&4294967295)<<23&4294967295|o>>>9))+((o=t+(n^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|o>>>28))+((o=a+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|o>>>21))+((o=i+(a^t^n)+r[15]+530742520&4294967295)<<16&4294967295|o>>>16))+((o=n+(i^a^t)+r[2]+3299628645&4294967295)<<23&4294967295|o>>>9))+((o=t+(i^(n|~a))+r[0]+4096336452&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[14]+2878612391&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[12]+1700485571&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[10]+4293915773&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|o>>>11))+((o=t+(i^(n|~a))+r[8]+1873313359&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|o>>>22))+((o=i+(t^(a|~n))+r[6]+2734768916&4294967295)<<15&4294967295|o>>>17))+((o=n+(a^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|o>>>11))+((a=(t=n+((o=t+(i^(n|~a))+r[4]+4149444226&4294967295)<<6&4294967295|o>>>26))+((o=a+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|o>>>22))^((i=a+((o=i+(t^(a|~n))+r[2]+718787259&4294967295)<<15&4294967295|o>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+a&4294967295}function yw(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var a=0|e[i];r&&a==t||(n[i]=a,r=!1)}this.g=n}(Eg=Nb.prototype).Oa=function(e){this.M=e},Eg.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():wk.g(),this.C=this.u?kk(this.u):kk(wk),this.g.onreadystatechange=Dg(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){return void Db(this,s)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));var a,o=x(r.keys());try{for(o.s();!(a=o.n()).done;){var s=a.value;n.set(s,r.get(s))}}catch(d){o.e(d)}finally{o.f()}}r=Array.from(n.keys()).find((function(e){return"content-type"==e.toLowerCase()})),i=Ig.FormData&&e instanceof Ig.FormData,!(0<=Vg(Pb,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");var u,l=x(n);try{for(l.s();!(u=l.n()).done;){var c=w(u.value,2),f=c[0],h=c[1];this.g.setRequestHeader(f,h)}}catch(d){l.e(d)}finally{l.f()}this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{Vb(this),0<this.B&&((this.L=function(e){return Jg&&"number"==typeof e.timeout&&void 0!==e.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Dg(this.ua,this)):this.A=Jy(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){Db(this,s)}},Eg.ua=function(){void 0!==Lg&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Dy(this,"timeout"),this.abort(8))},Eg.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Dy(this,"complete"),Dy(this,"abort"),jb(this))},Eg.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),jb(this,!0)),Nb.$.N.call(this)},Eg.La=function(){this.s||(this.G||this.v||this.l?Fb(this):this.kb())},Eg.kb=function(){Fb(this)},Eg.isActive=function(){return!!this.g},Eg.da=function(){try{return 2<Ub(this)?this.g.status:-1}catch(Yg){return-1}},Eg.ja=function(){try{return this.g?this.g.responseText:""}catch(Yg){return""}},Eg.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),Ab(t)}},Eg.Ia=function(){return this.m},Eg.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Eg=Wb.prototype).ra=8,Eg.H=1,Eg.Na=function(e){if(this.m)if(this.m=null,1==this.H){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;var t=new Sk(this,this.l,e),n=this.s;if(this.U&&(n?yy(n=my(n),this.U):n=this.U),null!==this.o||this.O||(t.I=n,n=null),this.P)e:{for(var r=0,i=0;i<this.j.length;i++){var a=this.j[i];if(void 0===(a="__data__"in a.map&&"string"==typeof(a=a.map.__data__)?a.length:void 0))break;if(4096<(r+=a)){r=i;break e}if(4096===r||i===this.j.length-1){r=i+1;break e}}r=1e3}else r=1e3;r=Jb(this,t,r),Yk(i=Wk(this.I),"RID",e),Yk(i,"CVER",22),this.F&&Yk(i,"X-HTTP-Session-Id",this.F),Xb(this,i),n&&(this.O?r="headers="+encodeURIComponent(String(zb(n)))+"&"+r:this.o&&qb(i,this.o,n)),gb(this.i,t),this.bb&&Yk(i,"TYPE","init"),this.P?(Yk(i,"$req",r),Yk(i,"SID","null"),t.aa=!0,Nk(t,i,null)):Nk(t,i,r),this.H=2}}else 3==this.H&&(e?$b(this,e):0==this.j.length||vb(this.i)||$b(this))},Eg.Ma=function(){if(this.u=null,nw(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=pk(Dg(this.jb,this),e)}},Eg.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,dk(10),Kb(this),nw(this))},Eg.ib=function(){null!=this.v&&(this.v=null,Kb(this),ew(this),dk(19))},Eg.pb=function(e){e?(this.l.info("Successfully pinged google.com"),dk(2)):(this.l.info("Failed to ping google.com"),dk(1))},Eg.isActive=function(){return!!this.h&&this.h.isActive(this)},(Eg=cw.prototype).Ba=function(){},Eg.Aa=function(){},Eg.za=function(){},Eg.ya=function(){},Eg.isActive=function(){return!0},Eg.Va=function(){},fw.prototype.g=function(e,t){return new hw(e,t)},Fg(hw,Py),hw.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;dk(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=uw(e,null,e.Y),Yb(e)},hw.prototype.close=function(){Hb(this.g)},hw.prototype.u=function(e){var t=this.g;if("string"==typeof e){var n={};n.__data__=e,e=n}else this.v&&((n={}).__data__=Fy(e),e=n);t.j.push(new fb(t.fb++,e)),3==t.H&&Yb(t)},hw.prototype.N=function(){this.g.h=null,delete this.j,Hb(this.g),delete this.g,hw.$.N.call(this)},Fg(dw,Ck),Fg(vw,xk),Fg(pw,cw),pw.prototype.Ba=function(){Dy(this.g,"a")},pw.prototype.Aa=function(e){Dy(this.g,new dw(e))},pw.prototype.za=function(e){Dy(this.g,new vw)},pw.prototype.ya=function(){Dy(this.g,"b")},Fg(mw,(function(){this.blockSize=-1})),mw.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},mw.prototype.j=function(e,t){void 0===t&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,a=0;a<t;){if(0==i)for(;a<=n;)gw(this,e,a),a+=this.blockSize;if("string"==typeof e){for(;a<t;)if(r[i++]=e.charCodeAt(a++),i==this.blockSize){gw(this,r),i=0;break}}else for(;a<t;)if(r[i++]=e[a++],i==this.blockSize){gw(this,r),i=0;break}}this.h=i,this.i+=t},mw.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var kw={};function bw(e){return-128<=e&&128>e?function(e,t){var n=kw;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new yw([0|e],0>e?-1:0)})):new yw([0|e],0>e?-1:0)}function ww(e){if(isNaN(e)||!isFinite(e))return Cw;if(0>e)return Iw(ww(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=_w;return new yw(t,0)}var _w=4294967296,Cw=bw(0),xw=bw(1),Ew=bw(16777216);function Sw(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function Lw(e){return-1==e.h}function Iw(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new yw(n,~e.h).add(xw)}function Tw(e,t){return e.add(Iw(t))}function Aw(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Nw(e,t){this.g=e,this.h=t}function Mw(e,t){if(Sw(t))throw Error("division by zero");if(Sw(e))return new Nw(Cw,Cw);if(Lw(e))return t=Mw(Iw(e),t),new Nw(Iw(t.g),Iw(t.h));if(Lw(t))return t=Mw(e,Iw(t)),new Nw(Iw(t.g),t.h);if(30<e.g.length){if(Lw(e)||Lw(t))throw Error("slowDivide_ only works with positive integers.");for(var n=xw,r=t;0>=r.X(e);)n=Ow(n),r=Ow(r);var i=Pw(n,1),a=Pw(r,1);for(r=Pw(r,2),n=Pw(n,2);!Sw(r);){var o=a.add(r);0>=o.X(e)&&(i=i.add(n),a=o),r=Pw(r,1),n=Pw(n,1)}return t=Tw(e,i.R(t)),new Nw(i,t)}for(i=Cw;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),o=(a=ww(n)).R(t);Lw(o)||0<o.X(e);)o=(a=ww(n-=r)).R(t);Sw(a)&&(a=xw),i=i.add(a),e=Tw(e,o)}return new Nw(i,e)}function Ow(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new yw(n,e.h)}function Pw(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],a=0;a<r;a++)i[a]=0<t?e.D(a+n)>>>t|e.D(a+n+1)<<32-t:e.D(a+n);return new yw(i,e.h)}(Eg=yw.prototype).ea=function(){if(Lw(this))return-Iw(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:_w+r)*t,t*=_w}return e},Eg.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(Sw(this))return"0";if(Lw(this))return"-"+Iw(this).toString(e);for(var t=ww(Math.pow(e,6)),n=this,r="";;){var i=Mw(n,t).g,a=((0<(n=Tw(n,i.R(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(Sw(n=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Eg.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},Eg.X=function(e){return Lw(e=Tw(this,e))?-1:Sw(e)?0:1},Eg.abs=function(){return Lw(this)?Iw(this):this},Eg.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var a=r+(65535&this.D(i))+(65535&e.D(i)),o=(a>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,a&=65535,o&=65535,n[i]=o<<16|a}return new yw(n,-2147483648&n[n.length-1]?-1:0)},Eg.R=function(e){if(Sw(this)||Sw(e))return Cw;if(Lw(this))return Lw(e)?Iw(this).R(Iw(e)):Iw(Iw(this).R(e));if(Lw(e))return Iw(this.R(Iw(e)));if(0>this.X(Ew)&&0>e.X(Ew))return ww(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var a=this.D(r)>>>16,o=65535&this.D(r),s=e.D(i)>>>16,u=65535&e.D(i);n[2*r+2*i]+=o*u,Aw(n,2*r+2*i),n[2*r+2*i+1]+=a*u,Aw(n,2*r+2*i+1),n[2*r+2*i+1]+=o*s,Aw(n,2*r+2*i+1),n[2*r+2*i+2]+=a*s,Aw(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new yw(n,0)},Eg.gb=function(e){return Mw(this,e).h},Eg.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new yw(n,this.h&e.h)},Eg.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new yw(n,this.h|e.h)},Eg.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new yw(n,this.h^e.h)},fw.prototype.createWebChannel=fw.prototype.g,hw.prototype.send=hw.prototype.u,hw.prototype.open=hw.prototype.m,hw.prototype.close=hw.prototype.close,mk.NO_ERROR=0,mk.TIMEOUT=8,mk.HTTP_ERROR=6,gk.COMPLETE="complete",bk.EventType=_k,_k.OPEN="a",_k.CLOSE="b",_k.ERROR="c",_k.MESSAGE="d",Py.prototype.listen=Py.prototype.O,Nb.prototype.listenOnce=Nb.prototype.P,Nb.prototype.getLastError=Nb.prototype.Sa,Nb.prototype.getLastErrorCode=Nb.prototype.Ia,Nb.prototype.getStatus=Nb.prototype.da,Nb.prototype.getResponseJson=Nb.prototype.Wa,Nb.prototype.getResponseText=Nb.prototype.ja,Nb.prototype.send=Nb.prototype.ha,Nb.prototype.setWithCredentials=Nb.prototype.Oa,mw.prototype.digest=mw.prototype.l,mw.prototype.reset=mw.prototype.reset,mw.prototype.update=mw.prototype.j,yw.prototype.add=yw.prototype.add,yw.prototype.multiply=yw.prototype.R,yw.prototype.modulo=yw.prototype.gb,yw.prototype.compare=yw.prototype.X,yw.prototype.toNumber=yw.prototype.ea,yw.prototype.toString=yw.prototype.toString,yw.prototype.getBits=yw.prototype.D,yw.fromNumber=ww,yw.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return Iw(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=ww(Math.pow(n,8)),i=Cw,a=0;a<t.length;a+=8){var o=Math.min(8,t.length-a),s=parseInt(t.substring(a,a+o),n);8>o?(o=ww(Math.pow(n,o)),i=i.R(o).add(ww(s))):i=(i=i.R(r)).add(ww(s))}return i};var Dw=mk,Rw=gk,Fw=sk,jw=10,Vw=11,Uw=bk,Bw=Nb,zw=mw,qw=yw,Gw="@firebase/firestore",Ww=function(){return y((function e(t){m(this,e),this.uid=t}),[{key:"isAuthenticated",value:function(){return null!=this.uid}},{key:"toKey",value:function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}},{key:"isEqual",value:function(e){return e.uid===this.uid}}])}();Ww.UNAUTHENTICATED=new Ww(null),Ww.GOOGLE_CREDENTIALS=new Ww("google-credentials-uid"),Ww.FIRST_PARTY=new Ww("first-party-uid"),Ww.MOCK_USER=new Ww("mock-user");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var Hw="10.11.0",Kw=new Mm("@firebase/firestore");
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Qw(){return Kw.logLevel}function Yw(e){if(Kw.logLevel<=xm.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Kw.debug.apply(Kw,["Firestore (".concat(Hw,"): ").concat(e)].concat(_(i)))}}function $w(e){if(Kw.logLevel<=xm.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Kw.error.apply(Kw,["Firestore (".concat(Hw,"): ").concat(e)].concat(_(i)))}}function Xw(e){if(Kw.logLevel<=xm.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i=n.map(Jw);Kw.warn.apply(Kw,["Firestore (".concat(Hw,"): ").concat(e)].concat(_(i)))}}function Jw(e){if("string"==typeof e)return e;try{
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */return function(e){return JSON.stringify(e)}(e)}catch(zf){return e}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function Zw(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state",t="FIRESTORE (".concat(Hw,") INTERNAL ASSERTION FAILED: ")+e;throw $w(t),new Error(t)}function e_(e,t){e||Zw()}function t_(e,t){return e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var n_={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},r_=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t,[e,n])).code=e,r.message=n,r.toString=function(){return"".concat(r.name,": [code=").concat(r.code,"]: ").concat(r.message)},r}return v(t,e),y(t)}(pm),i_=y((function e(){var t=this;m(this,e),this.promise=new Promise((function(e,n){t.resolve=e,t.reject=n}))})),a_=y((function e(t,n){m(this,e),this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(t))})),o_=function(){return y((function e(){m(this,e)}),[{key:"getToken",value:function(){return Promise.resolve(null)}},{key:"invalidateToken",value:function(){}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ww.UNAUTHENTICATED)}))}},{key:"shutdown",value:function(){}}])}(),s_=function(){return y((function e(t){m(this,e),this.t=t,this.currentUser=Ww.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}),[{key:"start",value:function(e,t){var n=this,r=this.i,i=function(e){return n.i!==r?(r=n.i,t(e)):Promise.resolve()},a=new i_;this.o=function(){n.i++,n.currentUser=n.u(),a.resolve(),a=new i_,e.enqueueRetryable((function(){return i(n.currentUser)}))};var s=function(){var t=a;e.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.promise;case 2:return e.next=4,i(n.currentUser);case 4:case"end":return e.stop()}}),e)}))))},l=function(e){Yw("FirebaseAuthCredentialsProvider","Auth detected"),n.auth=e,n.auth.addAuthTokenListener(n.o),s()};this.t.onInit((function(e){return l(e)})),setTimeout((function(){if(!n.auth){var e=n.t.getImmediate({optional:!0});e?l(e):(Yw("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new i_)}}),0),s()}},{key:"getToken",value:function(){var e=this,t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((function(n){return e.i!==t?(Yw("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),e.getToken()):n?(e_("string"==typeof n.accessToken),new a_(n.accessToken,e.currentUser)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.auth&&this.auth.removeAuthTokenListener(this.o)}},{key:"u",value:function(){var e=this.auth&&this.auth.getUid();return e_(null===e||"string"==typeof e),new Ww(e)}}])}(),u_=function(){return y((function e(t,n,r){m(this,e),this.l=t,this.h=n,this.P=r,this.type="FirstParty",this.user=Ww.FIRST_PARTY,this.I=new Map}),[{key:"T",value:function(){return this.P?this.P():null}},{key:"headers",get:function(){this.I.set("X-Goog-AuthUser",this.l);var e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}])}(),l_=function(){return y((function e(t,n,r){m(this,e),this.l=t,this.h=n,this.P=r}),[{key:"getToken",value:function(){return Promise.resolve(new u_(this.l,this.h,this.P))}},{key:"start",value:function(e,t){e.enqueueRetryable((function(){return t(Ww.FIRST_PARTY)}))}},{key:"shutdown",value:function(){}},{key:"invalidateToken",value:function(){}}])}(),c_=y((function e(t){m(this,e),this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)})),f_=function(){return y((function e(t){m(this,e),this.A=t,this.forceRefresh=!1,this.appCheck=null,this.R=null}),[{key:"start",value:function(e,t){var n=this,r=function(e){null!=e.error&&Yw("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));var r=e.token!==n.R;return n.R=e.token,Yw("FirebaseAppCheckTokenProvider","Received ".concat(r?"new":"existing"," token.")),r?t(e.token):Promise.resolve()};this.o=function(t){e.enqueueRetryable((function(){return r(t)}))};var i=function(e){Yw("FirebaseAppCheckTokenProvider","AppCheck detected"),n.appCheck=e,n.appCheck.addTokenListener(n.o)};this.A.onInit((function(e){return i(e)})),setTimeout((function(){if(!n.appCheck){var e=n.A.getImmediate({optional:!0});e?i(e):Yw("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}},{key:"getToken",value:function(){var e=this,t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then((function(t){return t?(e_("string"==typeof t.token),e.R=t.token,new c_(t.token)):null})):Promise.resolve(null)}},{key:"invalidateToken",value:function(){this.forceRefresh=!0}},{key:"shutdown",value:function(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}])}();
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function h_(e){var t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(var r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var d_=function(){return y((function e(){m(this,e)}),null,[{key:"newId",value:function(){for(var e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62),n="";n.length<20;)for(var r=h_(40),i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62));return n}}])}();function v_(e,t){return e<t?-1:e>t?1:0}function p_(e,t,n){return e.length===t.length&&e.every((function(e,r){return n(e,t[r])}))}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var m_=function(){function e(t,n){if(m(this,e),this.seconds=t,this.nanoseconds=n,n<0)throw new r_(n_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new r_(n_.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new r_(n_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new r_(n_.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return y(e,[{key:"toDate",value:function(){return new Date(this.toMillis())}},{key:"toMillis",value:function(){return 1e3*this.seconds+this.nanoseconds/1e6}},{key:"_compareTo",value:function(e){return this.seconds===e.seconds?v_(this.nanoseconds,e.nanoseconds):v_(this.seconds,e.seconds)}},{key:"isEqual",value:function(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}},{key:"toString",value:function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}},{key:"toJSON",value:function(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}},{key:"valueOf",value:function(){var e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}],[{key:"now",value:function(){return e.fromMillis(Date.now())}},{key:"fromDate",value:function(t){return e.fromMillis(t.getTime())}},{key:"fromMillis",value:function(t){var n=Math.floor(t/1e3);return new e(n,Math.floor(1e6*(t-1e3*n)))}}])}(),g_=function(){function e(t){m(this,e),this.timestamp=t}return y(e,[{key:"compareTo",value:function(e){return this.timestamp._compareTo(e.timestamp)}},{key:"isEqual",value:function(e){return this.timestamp.isEqual(e.timestamp)}},{key:"toMicroseconds",value:function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}},{key:"toString",value:function(){return"SnapshotVersion("+this.timestamp.toString()+")"}},{key:"toTimestamp",value:function(){return this.timestamp}}],[{key:"fromTimestamp",value:function(t){return new e(t)}},{key:"min",value:function(){return new e(new m_(0,0))}},{key:"max",value:function(){return new e(new m_(253402300799,999999999))}}])}(),y_=function(){function e(t,n,r){m(this,e),void 0===n?n=0:n>t.length&&Zw(),void 0===r?r=t.length-n:r>t.length-n&&Zw(),this.segments=t,this.offset=n,this.len=r}return y(e,[{key:"length",get:function(){return this.len}},{key:"isEqual",value:function(t){return 0===e.comparator(this,t)}},{key:"child",value:function(t){var n=this.segments.slice(this.offset,this.limit());return t instanceof e?t.forEach((function(e){n.push(e)})):n.push(t),this.construct(n)}},{key:"limit",value:function(){return this.offset+this.length}},{key:"popFirst",value:function(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}},{key:"popLast",value:function(){return this.construct(this.segments,this.offset,this.length-1)}},{key:"firstSegment",value:function(){return this.segments[this.offset]}},{key:"lastSegment",value:function(){return this.get(this.length-1)}},{key:"get",value:function(e){return this.segments[this.offset+e]}},{key:"isEmpty",value:function(){return 0===this.length}},{key:"isPrefixOf",value:function(e){if(e.length<this.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"isImmediateParentOf",value:function(e){if(this.length+1!==e.length)return!1;for(var t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}},{key:"forEach",value:function(e){for(var t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}},{key:"toArray",value:function(){return this.segments.slice(this.offset,this.limit())}}],[{key:"comparator",value:function(e,t){for(var n=Math.min(e.length,t.length),r=0;r<n;r++){var i=e.get(r),a=t.get(r);if(i<a)return-1;if(i>a)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}])}(),k_=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().join("/")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"toUriEncodedString",value:function(){return this.toArray().map(encodeURIComponent).join("/")}}],[{key:"fromString",value:function(){for(var e=[],n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];for(var a=0,o=r;a<o.length;a++){var s=o[a];if(s.indexOf("//")>=0)throw new r_(n_.INVALID_ARGUMENT,"Invalid segment (".concat(s,"). Paths must not contain // in them."));e.push.apply(e,_(s.split("/").filter((function(e){return e.length>0}))))}return new t(e)}},{key:"emptyPath",value:function(){return new t([])}}])}(y_),b_=/^[_a-zA-Z][_a-zA-Z0-9]*$/,w_=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t,[{key:"construct",value:function(e,n,r){return new t(e,n,r)}},{key:"canonicalString",value:function(){return this.toArray().map((function(e){return e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e})).join(".")}},{key:"toString",value:function(){return this.canonicalString()}},{key:"isKeyField",value:function(){return 1===this.length&&"__name__"===this.get(0)}}],[{key:"isValidIdentifier",value:function(e){return b_.test(e)}},{key:"keyField",value:function(){return new t(["__name__"])}},{key:"fromServerFormat",value:function(e){for(var n=[],r="",i=0,a=function(){if(0===r.length)throw new r_(n_.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));n.push(r),r=""},o=!1;i<e.length;){var s=e[i];if("\\"===s){if(i+1===e.length)throw new r_(n_.INVALID_ARGUMENT,"Path has trailing escape character: "+e);var u=e[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new r_(n_.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else"`"===s?(o=!o,i++):"."!==s||o?(r+=s,i++):(a(),i++)}if(a(),o)throw new r_(n_.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}},{key:"emptyPath",value:function(){return new t([])}}])}(y_),__=function(){function e(t){m(this,e),this.path=t}return y(e,[{key:"collectionGroup",get:function(){return this.path.popLast().lastSegment()}},{key:"hasCollectionId",value:function(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}},{key:"getCollectionGroup",value:function(){return this.path.get(this.path.length-2)}},{key:"getCollectionPath",value:function(){return this.path.popLast()}},{key:"isEqual",value:function(e){return null!==e&&0===k_.comparator(this.path,e.path)}},{key:"toString",value:function(){return this.path.toString()}}],[{key:"fromPath",value:function(t){return new e(k_.fromString(t))}},{key:"fromName",value:function(t){return new e(k_.fromString(t).popFirst(5))}},{key:"empty",value:function(){return new e(k_.emptyPath())}},{key:"comparator",value:function(e,t){return k_.comparator(e.path,t.path)}},{key:"isDocumentKey",value:function(e){return e.length%2==0}},{key:"fromSegments",value:function(t){return new e(new k_(t.slice()))}}])}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function C_(e){return new x_(e.readTime,e.key,-1)}var x_=function(){function e(t,n,r){m(this,e),this.readTime=t,this.documentKey=n,this.largestBatchId=r}return y(e,null,[{key:"min",value:function(){return new e(g_.min(),__.empty(),-1)}},{key:"max",value:function(){return new e(g_.max(),__.empty(),-1)}}])}();function E_(e,t){var n=e.readTime.compareTo(t.readTime);return 0!==n?n:0!==(n=__.comparator(e.documentKey,t.documentKey))?n:v_(e.largestBatchId,t.largestBatchId)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}var S_="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",L_=function(){return y((function e(){m(this,e),this.onCommittedListeners=[]}),[{key:"addOnCommittedListener",value:function(e){this.onCommittedListeners.push(e)}},{key:"raiseOnCommittedEvent",value:function(){this.onCommittedListeners.forEach((function(e){return e()}))}}])}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function I_(e){return T_.apply(this,arguments)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function T_(){return(T_=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.code===n_.FAILED_PRECONDITION&&t.message===S_){e.next=2;break}throw t;case 2:Yw("LocalStore","Unexpectedly lost primary lease");case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var A_=function(){function e(t){var n=this;m(this,e),this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t((function(e){n.isDone=!0,n.result=e,n.nextCallback&&n.nextCallback(e)}),(function(e){n.isDone=!0,n.error=e,n.catchCallback&&n.catchCallback(e)}))}return y(e,[{key:"catch",value:function(e){return this.next(void 0,e)}},{key:"next",value:function(t,n){var r=this;return this.callbackAttached&&Zw(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new e((function(e,i){r.nextCallback=function(n){r.wrapSuccess(t,n).next(e,i)},r.catchCallback=function(t){r.wrapFailure(n,t).next(e,i)}}))}},{key:"toPromise",value:function(){var e=this;return new Promise((function(t,n){e.next(t,n)}))}},{key:"wrapUserFunction",value:function(t){try{var n=t();return n instanceof e?n:e.resolve(n)}catch(t){return e.reject(t)}}},{key:"wrapSuccess",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.resolve(n)}},{key:"wrapFailure",value:function(t,n){return t?this.wrapUserFunction((function(){return t(n)})):e.reject(n)}}],[{key:"resolve",value:function(t){return new e((function(e,n){e(t)}))}},{key:"reject",value:function(t){return new e((function(e,n){n(t)}))}},{key:"waitFor",value:function(t){return new e((function(e,n){var r=0,i=0,a=!1;t.forEach((function(t){++r,t.next((function(){++i,a&&i===r&&e()}),(function(e){return n(e)}))})),a=!0,i===r&&e()}))}},{key:"or",value:function(t){var n,r=e.resolve(!1),i=x(t);try{var a=function(){var t=n.value;r=r.next((function(n){return n?e.resolve(n):t()}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return r}},{key:"forEach",value:function(e,t){var n=this,r=[];return e.forEach((function(e,i){r.push(t.call(n,e,i))})),this.waitFor(r)}},{key:"mapArray",value:function(t,n){return new e((function(e,r){for(var i=t.length,a=new Array(i),o=0,s=function(){var s=u;n(t[s]).next((function(t){a[s]=t,++o===i&&e(a)}),(function(e){return r(e)}))},u=0;u<i;u++)s()}))}},{key:"doWhile",value:function(t,n){return new e((function(e,r){!function i(){!0===t()?n().next((function(){i()}),r):e()}()}))}}])}(),N_=function(){function e(t,n){var r=this;m(this,e),this.action=t,this.transaction=n,this.aborted=!1,this.V=new i_,this.transaction.oncomplete=function(){r.V.resolve()},this.transaction.onabort=function(){n.error?r.V.reject(new P_(t,n.error)):r.V.resolve()},this.transaction.onerror=function(e){var n=V_(e.target.error);r.V.reject(new P_(t,n))}}return y(e,[{key:"m",get:function(){return this.V.promise}},{key:"abort",value:function(e){e&&this.V.reject(e),this.aborted||(Yw("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}},{key:"g",value:function(){var e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}},{key:"store",value:function(e){var t=this.transaction.objectStore(e);return new R_(t)}}],[{key:"open",value:function(t,n,r,i){try{return new e(n,t.transaction(i,r))}catch(t){throw new P_(n,t)}}}])}(),M_=function(){function e(t,n,r){m(this,e),this.name=t,this.version=n,this.p=r,12.2===e.S(hm())&&$w("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}return y(e,[{key:"O",value:(n=u(o().mark((function e(t){var n=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.db,e.t0){e.next=6;break}return Yw("SimpleDb","Opening database:",this.name),e.next=5,new Promise((function(e,r){var i=indexedDB.open(n.name,n.version);i.onsuccess=function(t){var n=t.target.result;e(n)},i.onblocked=function(){r(new P_(t,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},i.onerror=function(e){var n=e.target.error;"VersionError"===n.name?r(new r_(n_.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh.")):"InvalidStateError"===n.name?r(new r_(n_.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+n)):r(new P_(t,n))},i.onupgradeneeded=function(e){Yw("SimpleDb",'Database "'+n.name+'" requires upgrade from version:',e.oldVersion);var t=e.target.result;n.p.N(t,i.transaction,e.oldVersion,n.version).next((function(){Yw("SimpleDb","Database upgrade to version "+n.version+" complete")}))}}));case 5:this.db=e.sent;case 6:return this.L&&(this.db.onversionchange=function(e){return n.L(e)}),e.abrupt("return",this.db);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"B",value:function(e){this.L=e,this.db&&(this.db.onversionchange=function(t){return e(t)})}},{key:"runTransaction",value:(t=u(o().mark((function e(t,n,r,i){var a,s,u,l,c=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a="readonly"===n,s=0,u=o().mark((function e(){var n,u,l,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return++s,e.prev=1,e.next=4,c.O(t);case 4:return c.db=e.sent,n=N_.open(c.db,t,a?"readonly":"readwrite",r),u=i(n).next((function(e){return n.g(),e})).catch((function(e){return n.abort(e),A_.reject(e)})).toPromise(),u.catch((function(){})),e.next=9,n.m;case 9:return e.t0=u,e.abrupt("return",{v:e.t0});case 13:if(e.prev=13,e.t1=e.catch(1),l=e.t1,f="FirebaseError"!==l.name&&s<3,Yw("SimpleDb","Transaction failed with error:",l.message,"Retrying:",f),c.close(),f){e.next=18;break}return e.abrupt("return",{v:Promise.reject(l)});case 18:case"end":return e.stop()}}),e,null,[[1,13]])}));case 3:return e.delegateYield(u(),"t0",4);case 4:if(!(l=e.t0)){e.next=7;break}return e.abrupt("return",l.v);case 7:e.next=3;break;case 9:case"end":return e.stop()}}),e)}))),function(e,n,r,i){return t.apply(this,arguments)})},{key:"close",value:function(){this.db&&this.db.close(),this.db=void 0}}],[{key:"delete",value:function(e){return Yw("SimpleDb","Removing database:",e),F_(window.indexedDB.deleteDatabase(e)).toPromise()}},{key:"D",value:function(){if(!vm())return!1;if(e.C())return!0;var t=hm(),n=e.S(t),r=0<n&&n<10,i=e.v(t),a=0<i&&i<4.5;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0||r||a)}},{key:"C",value:function(){var e;return"undefined"!=typeof process&&"YES"===(null===(e=process.__PRIVATE_env)||void 0===e?void 0:e.F)}},{key:"M",value:function(e,t){return e.store(t)}},{key:"S",value:function(e){var t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),n=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(n)}},{key:"v",value:function(e){var t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}}]);var t,n}(),O_=function(){return y((function e(t){m(this,e),this.k=t,this.q=!1,this.K=null}),[{key:"isDone",get:function(){return this.q}},{key:"$",get:function(){return this.K}},{key:"cursor",set:function(e){this.k=e}},{key:"done",value:function(){this.q=!0}},{key:"U",value:function(e){this.K=e}},{key:"delete",value:function(){return F_(this.k.delete())}}])}(),P_=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t,[n_.UNAVAILABLE,"IndexedDB transaction '".concat(e,"' failed: ").concat(n)])).name="IndexedDbTransactionError",r}return v(t,e),y(t)}(r_);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function D_(e){return"IndexedDbTransactionError"===e.name}var R_=function(){return y((function e(t){m(this,e),this.store=t}),[{key:"put",value:function(e,t){var n;return void 0!==t?(Yw("SimpleDb","PUT",this.store.name,e,t),n=this.store.put(t,e)):(Yw("SimpleDb","PUT",this.store.name,"<auto-key>",e),n=this.store.put(e)),F_(n)}},{key:"add",value:function(e){return Yw("SimpleDb","ADD",this.store.name,e,e),F_(this.store.add(e))}},{key:"get",value:function(e){var t=this;return F_(this.store.get(e)).next((function(n){return void 0===n&&(n=null),Yw("SimpleDb","GET",t.store.name,e,n),n}))}},{key:"delete",value:function(e){return Yw("SimpleDb","DELETE",this.store.name,e),F_(this.store.delete(e))}},{key:"count",value:function(){return Yw("SimpleDb","COUNT",this.store.name),F_(this.store.count())}},{key:"W",value:function(e,t){var n=this.options(e,t),r=n.index?this.store.index(n.index):this.store;if("function"==typeof r.getAll){var i=r.getAll(n.range);return new A_((function(e,t){i.onerror=function(e){t(e.target.error)},i.onsuccess=function(t){e(t.target.result)}}))}var a=this.cursor(n),o=[];return this.G(a,(function(e,t){o.push(t)})).next((function(){return o}))}},{key:"j",value:function(e,t){var n=this.store.getAll(e,null===t?void 0:t);return new A_((function(e,t){n.onerror=function(e){t(e.target.error)},n.onsuccess=function(t){e(t.target.result)}}))}},{key:"H",value:function(e,t){Yw("SimpleDb","DELETE ALL",this.store.name);var n=this.options(e,t);n.J=!1;var r=this.cursor(n);return this.G(r,(function(e,t,n){return n.delete()}))}},{key:"Y",value:function(e,t){var n;t?n=e:(n={},t=e);var r=this.cursor(n);return this.G(r,t)}},{key:"Z",value:function(e){var t=this.cursor({});return new A_((function(n,r){t.onerror=function(e){var t=V_(e.target.error);r(t)},t.onsuccess=function(t){var r=t.target.result;r?e(r.primaryKey,r.value).next((function(e){e?r.continue():n()})):n()}}))}},{key:"G",value:function(e,t){var n=[];return new A_((function(r,i){e.onerror=function(e){i(e.target.error)},e.onsuccess=function(e){var i=e.target.result;if(i){var a=new O_(i),o=t(i.primaryKey,i.value,a);if(o instanceof A_){var s=o.catch((function(e){return a.done(),A_.reject(e)}));n.push(s)}a.isDone?r():null===a.$?i.continue():i.continue(a.$)}else r()}})).next((function(){return A_.waitFor(n)}))}},{key:"options",value:function(e,t){var n;return void 0!==e&&("string"==typeof e?n=e:t=e),{index:n,range:t}}},{key:"cursor",value:function(e){var t="next";if(e.reverse&&(t="prev"),e.index){var n=this.store.index(e.index);return e.J?n.openKeyCursor(e.range,t):n.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}])}();function F_(e){return new A_((function(t,n){e.onsuccess=function(e){var n=e.target.result;t(n)},e.onerror=function(e){var t=V_(e.target.error);n(t)}}))}var j_=!1;function V_(e){var t=M_.S(hm());if(t>=12.2&&t<13){var n="An internal error was encountered in the Indexed Database server";if(e.message.indexOf(n)>=0){var r=new r_("internal","IOS_INDEXEDDB_BUG1: IndexedDb has thrown '".concat(n,"'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround."));return j_||(j_=!0,setTimeout((function(){throw r}),0)),r}}return e}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var U_=function(){return y((function e(t,n){var r=this;m(this,e),this.previousValue=t,n&&(n.sequenceNumberHandler=function(e){return r.se(e)},this.oe=function(e){return n.writeSequenceNumber(e)})}),[{key:"se",value:function(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}},{key:"next",value:function(){var e=++this.previousValue;return this.oe&&this.oe(e),e}}])}();function B_(e){return null==e}function z_(e){return 0===e&&1/e==-1/0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function q_(e){var t=0;for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function G_(e,t){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function W_(e){for(var t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */U_._e=-1;var H_=function(){function e(t,n){m(this,e),this.comparator=t,this.root=n||Q_.EMPTY}return y(e,[{key:"insert",value:function(t,n){return new e(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,Q_.BLACK,null,null))}},{key:"remove",value:function(t){return new e(this.comparator,this.root.remove(t,this.comparator).copy(null,null,Q_.BLACK,null,null))}},{key:"get",value:function(e){for(var t=this.root;!t.isEmpty();){var n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}},{key:"indexOf",value:function(e){for(var t=0,n=this.root;!n.isEmpty();){var r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}},{key:"isEmpty",value:function(){return this.root.isEmpty()}},{key:"size",get:function(){return this.root.size}},{key:"minKey",value:function(){return this.root.minKey()}},{key:"maxKey",value:function(){return this.root.maxKey()}},{key:"inorderTraversal",value:function(e){return this.root.inorderTraversal(e)}},{key:"forEach",value:function(e){this.inorderTraversal((function(t,n){return e(t,n),!1}))}},{key:"toString",value:function(){var e=[];return this.inorderTraversal((function(t,n){return e.push("".concat(t,":").concat(n)),!1})),"{".concat(e.join(", "),"}")}},{key:"reverseTraversal",value:function(e){return this.root.reverseTraversal(e)}},{key:"getIterator",value:function(){return new K_(this.root,null,this.comparator,!1)}},{key:"getIteratorFrom",value:function(e){return new K_(this.root,e,this.comparator,!1)}},{key:"getReverseIterator",value:function(){return new K_(this.root,null,this.comparator,!0)}},{key:"getReverseIteratorFrom",value:function(e){return new K_(this.root,e,this.comparator,!0)}}])}(),K_=function(){return y((function e(t,n,r,i){m(this,e),this.isReverse=i,this.nodeStack=[];for(var a=1;!t.isEmpty();)if(a=n?r(t.key,n):1,n&&i&&(a*=-1),a<0)t=this.isReverse?t.left:t.right;else{if(0===a){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}),[{key:"getNext",value:function(){var e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}},{key:"hasNext",value:function(){return this.nodeStack.length>0}},{key:"peek",value:function(){if(0===this.nodeStack.length)return null;var e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}])}(),Q_=function(){function e(t,n,r,i,a){m(this,e),this.key=t,this.value=n,this.color=null!=r?r:e.RED,this.left=null!=i?i:e.EMPTY,this.right=null!=a?a:e.EMPTY,this.size=this.left.size+1+this.right.size}return y(e,[{key:"copy",value:function(t,n,r,i,a){return new e(null!=t?t:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=a?a:this.right)}},{key:"isEmpty",value:function(){return!1}},{key:"inorderTraversal",value:function(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}},{key:"reverseTraversal",value:function(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}},{key:"min",value:function(){return this.left.isEmpty()?this:this.left.min()}},{key:"minKey",value:function(){return this.min().key}},{key:"maxKey",value:function(){return this.right.isEmpty()?this.key:this.right.maxKey()}},{key:"insert",value:function(e,t,n){var r=this,i=n(e,r.key);return(r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n))).fixUp()}},{key:"removeMin",value:function(){if(this.left.isEmpty())return e.EMPTY;var t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),(t=t.copy(null,null,null,t.left.removeMin(),null)).fixUp()}},{key:"remove",value:function(t,n){var r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(t,i.key)){if(i.right.isEmpty())return e.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}},{key:"isRed",value:function(){return this.color}},{key:"fixUp",value:function(){var e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}},{key:"moveRedLeft",value:function(){var e=this.colorFlip();return e.right.left.isRed()&&(e=(e=(e=e.copy(null,null,null,null,e.right.rotateRight())).rotateLeft()).colorFlip()),e}},{key:"moveRedRight",value:function(){var e=this.colorFlip();return e.left.left.isRed()&&(e=(e=e.rotateRight()).colorFlip()),e}},{key:"rotateLeft",value:function(){var t=this.copy(null,null,e.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}},{key:"rotateRight",value:function(){var t=this.copy(null,null,e.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}},{key:"colorFlip",value:function(){var e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}},{key:"checkMaxDepth",value:function(){var e=this.check();return Math.pow(2,e)<=this.size+1}},{key:"check",value:function(){if(this.isRed()&&this.left.isRed())throw Zw();if(this.right.isRed())throw Zw();var e=this.left.check();if(e!==this.right.check())throw Zw();return e+(this.isRed()?0:1)}}])}();Q_.EMPTY=null,Q_.RED=!0,Q_.BLACK=!1,Q_.EMPTY=new(function(){return y((function e(){m(this,e),this.size=0}),[{key:"key",get:function(){throw Zw()}},{key:"value",get:function(){throw Zw()}},{key:"color",get:function(){throw Zw()}},{key:"left",get:function(){throw Zw()}},{key:"right",get:function(){throw Zw()}},{key:"copy",value:function(e,t,n,r,i){return this}},{key:"insert",value:function(e,t,n){return new Q_(e,t)}},{key:"remove",value:function(e,t){return this}},{key:"isEmpty",value:function(){return!0}},{key:"inorderTraversal",value:function(e){return!1}},{key:"reverseTraversal",value:function(e){return!1}},{key:"minKey",value:function(){return null}},{key:"maxKey",value:function(){return null}},{key:"isRed",value:function(){return!1}},{key:"checkMaxDepth",value:function(){return!0}},{key:"check",value:function(){return 0}}])}());
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var Y_=function(){function e(t){m(this,e),this.comparator=t,this.data=new H_(this.comparator)}return y(e,[{key:"has",value:function(e){return null!==this.data.get(e)}},{key:"first",value:function(){return this.data.minKey()}},{key:"last",value:function(){return this.data.maxKey()}},{key:"size",get:function(){return this.data.size}},{key:"indexOf",value:function(e){return this.data.indexOf(e)}},{key:"forEach",value:function(e){this.data.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"forEachInRange",value:function(e,t){for(var n=this.data.getIteratorFrom(e[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}},{key:"forEachWhile",value:function(e,t){var n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}},{key:"firstAfterOrEqual",value:function(e){var t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}},{key:"getIterator",value:function(){return new $_(this.data.getIterator())}},{key:"getIteratorFrom",value:function(e){return new $_(this.data.getIteratorFrom(e))}},{key:"add",value:function(e){return this.copy(this.data.remove(e).insert(e,!0))}},{key:"delete",value:function(e){return this.has(e)?this.copy(this.data.remove(e)):this}},{key:"isEmpty",value:function(){return this.data.isEmpty()}},{key:"unionWith",value:function(e){var t=this;return t.size<e.size&&(t=e,e=this),e.forEach((function(e){t=t.add(e)})),t}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.data.getIterator(),r=t.data.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}},{key:"toArray",value:function(){var e=[];return this.forEach((function(t){e.push(t)})),e}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){return e.push(t)})),"SortedSet("+e.toString()+")"}},{key:"copy",value:function(t){var n=new e(this.comparator);return n.data=t,n}}])}(),$_=function(){return y((function e(t){m(this,e),this.iter=t}),[{key:"getNext",value:function(){return this.iter.getNext().key}},{key:"hasNext",value:function(){return this.iter.hasNext()}}])}(),X_=function(){function e(t){m(this,e),this.fields=t,t.sort(w_.comparator)}return y(e,[{key:"unionWith",value:function(t){var n,r=new Y_(w_.comparator),i=x(this.fields);try{for(i.s();!(n=i.n()).done;){var a=n.value;r=r.add(a)}}catch(l){i.e(l)}finally{i.f()}var o,s=x(t);try{for(s.s();!(o=s.n()).done;){var u=o.value;r=r.add(u)}}catch(l){s.e(l)}finally{s.f()}return new e(r.toArray())}},{key:"covers",value:function(e){var t,n=x(this.fields);try{for(n.s();!(t=n.n()).done;){if(t.value.isPrefixOf(e))return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"isEqual",value:function(e){return p_(this.fields,e.fields,(function(e,t){return e.isEqual(t)}))}}],[{key:"empty",value:function(){return new e([])}}])}(),J_=function(e){function t(){var e;return m(this,t),(e=f(this,t,arguments)).name="Base64DecodeError",e}return v(t,e),y(t)}(i(Error)),Z_=function(){function e(t){m(this,e),this.binaryString=t}return y(e,[{key:Symbol.iterator,value:function(){var e=this,t=0;return{next:function(){return t<e.binaryString.length?{value:e.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}}},{key:"toBase64",value:function(){return e=this.binaryString,btoa(e);var e}},{key:"toUint8Array",value:function(){return function(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.binaryString)}},{key:"approximateByteSize",value:function(){return 2*this.binaryString.length}},{key:"compareTo",value:function(e){return v_(this.binaryString,e.binaryString)}},{key:"isEqual",value:function(e){return this.binaryString===e.binaryString}}],[{key:"fromBase64String",value:function(t){var n=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new J_("Invalid base64 string: "+e):e}}(t);return new e(n)}},{key:"fromUint8Array",value:function(t){var n=function(e){for(var t="",n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(t);return new e(n)}}])}();Z_.EMPTY_BYTE_STRING=new Z_("");var eC=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function tC(e){if(e_(!!e),"string"==typeof e){var t=0,n=eC.exec(e);if(e_(!!n),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),t=Number(r)}var i=new Date(e);return{seconds:Math.floor(i.getTime()/1e3),nanos:t}}return{seconds:nC(e.seconds),nanos:nC(e.nanos)}}function nC(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function rC(e){return"string"==typeof e?Z_.fromBase64String(e):Z_.fromUint8Array(e)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function iC(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function aC(e){var t=e.mapValue.fields.__previous_value__;return iC(t)?aC(t):t}function oC(e){var t=tC(e.mapValue.fields.__local_write_time__.timestampValue);return new m_(t.seconds,t.nanos)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var sC=y((function e(t,n,r,i,a,o,s,u,l){m(this,e),this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=o,this.autoDetectLongPolling=s,this.longPollingOptions=u,this.useFetchStreams=l})),uC=function(){function e(t,n){m(this,e),this.projectId=t,this.database=n||"(default)"}return y(e,[{key:"isDefaultDatabase",get:function(){return"(default)"===this.database}},{key:"isEqual",value:function(t){return t instanceof e&&t.projectId===this.projectId&&t.database===this.database}}],[{key:"empty",value:function(){return new e("","")}}])}(),lC={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function cC(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?iC(e)?4:function(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e)?9007199254740991:10:Zw()}function fC(e,t){if(e===t)return!0;var n=cC(e);if(n!==cC(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return oC(e).isEqual(oC(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;var n=tC(e.timestampValue),r=tC(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return rC(e.bytesValue).isEqual(rC(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return nC(e.geoPointValue.latitude)===nC(t.geoPointValue.latitude)&&nC(e.geoPointValue.longitude)===nC(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return nC(e.integerValue)===nC(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){var n=nC(e.doubleValue),r=nC(t.doubleValue);return n===r?z_(n)===z_(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return p_(e.arrayValue.values||[],t.arrayValue.values||[],fC);case 10:return function(e,t){var n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(q_(n)!==q_(r))return!1;for(var i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!fC(n[i],r[i])))return!1;return!0}(e,t);default:return Zw()}}function hC(e,t){return void 0!==(e.values||[]).find((function(e){return fC(e,t)}))}function dC(e,t){if(e===t)return 0;var n=cC(e),r=cC(t);if(n!==r)return v_(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return v_(e.booleanValue,t.booleanValue);case 2:return function(e,t){var n=nC(e.integerValue||e.doubleValue),r=nC(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return vC(e.timestampValue,t.timestampValue);case 4:return vC(oC(e),oC(t));case 5:return v_(e.stringValue,t.stringValue);case 6:return function(e,t){var n=rC(e),r=rC(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){for(var n=e.split("/"),r=t.split("/"),i=0;i<n.length&&i<r.length;i++){var a=v_(n[i],r[i]);if(0!==a)return a}return v_(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){var n=v_(nC(e.latitude),nC(t.latitude));return 0!==n?n:v_(nC(e.longitude),nC(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(e,t){for(var n=e.values||[],r=t.values||[],i=0;i<n.length&&i<r.length;++i){var a=dC(n[i],r[i]);if(a)return a}return v_(n.length,r.length)}(e.arrayValue,t.arrayValue);case 10:return function(e,t){if(e===lC.mapValue&&t===lC.mapValue)return 0;if(e===lC.mapValue)return 1;if(t===lC.mapValue)return-1;var n=e.fields||{},r=Object.keys(n),i=t.fields||{},a=Object.keys(i);r.sort(),a.sort();for(var o=0;o<r.length&&o<a.length;++o){var s=v_(r[o],a[o]);if(0!==s)return s;var u=dC(n[r[o]],i[a[o]]);if(0!==u)return u}return v_(r.length,a.length)}(e.mapValue,t.mapValue);default:throw Zw()}}function vC(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return v_(e,t);var n=tC(e),r=tC(t),i=v_(n.seconds,r.seconds);return 0!==i?i:v_(n.nanos,r.nanos)}function pC(e){return mC(e)}function mC(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){var t=tC(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return rC(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return __.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){var t,n="[",r=!0,i=x(e.values||[]);try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+=mC(a)}}catch(o){i.e(o)}finally{i.f()}return n+"]"}(e.arrayValue):"mapValue"in e?function(e){var t,n="{",r=!0,i=x(Object.keys(e.fields||{}).sort());try{for(i.s();!(t=i.n()).done;){var a=t.value;r?r=!1:n+=",",n+="".concat(a,":").concat(mC(e.fields[a]))}}catch(o){i.e(o)}finally{i.f()}return n+"}"}(e.mapValue):Zw()}function gC(e){return!!e&&"integerValue"in e}function yC(e){return!!e&&"arrayValue"in e}function kC(e){return!!e&&"nullValue"in e}function bC(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function wC(e){return!!e&&"mapValue"in e}function _C(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==C(e.timestampValue))return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){var t={mapValue:{fields:{}}};return G_(e.mapValue.fields,(function(e,n){return t.mapValue.fields[e]=_C(n)})),t}if(e.arrayValue){for(var n={arrayValue:{values:[]}},r=0;r<(e.arrayValue.values||[]).length;++r)n.arrayValue.values[r]=_C(e.arrayValue.values[r]);return n}return Object.assign({},e)}var CC=function(){function e(t){m(this,e),this.value=t}return y(e,[{key:"field",value:function(e){if(e.isEmpty())return this.value;for(var t=this.value,n=0;n<e.length-1;++n)if(!wC(t=(t.mapValue.fields||{})[e.get(n)]))return null;return(t=(t.mapValue.fields||{})[e.lastSegment()])||null}},{key:"set",value:function(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=_C(t)}},{key:"setAll",value:function(e){var t=this,n=w_.emptyPath(),r={},i=[];e.forEach((function(e,a){if(!n.isImmediateParentOf(a)){var o=t.getFieldsMap(n);t.applyChanges(o,r,i),r={},i=[],n=a.popLast()}e?r[a.lastSegment()]=_C(e):i.push(a.lastSegment())}));var a=this.getFieldsMap(n);this.applyChanges(a,r,i)}},{key:"delete",value:function(e){var t=this.field(e.popLast());wC(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}},{key:"isEqual",value:function(e){return fC(this.value,e.value)}},{key:"getFieldsMap",value:function(e){var t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(var n=0;n<e.length;++n){var r=t.mapValue.fields[e.get(n)];wC(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}},{key:"applyChanges",value:function(e,t,n){G_(t,(function(t,n){return e[t]=n}));var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;delete e[a]}}catch(o){i.e(o)}finally{i.f()}}},{key:"clone",value:function(){return new e(_C(this.value))}}],[{key:"empty",value:function(){return new e({mapValue:{}})}}])}();function xC(e){var t=[];return G_(e.fields,(function(e,n){var r=new w_([e]);if(wC(n)){var i=xC(n.mapValue).fields;if(0===i.length)t.push(r);else{var a,o=x(i);try{for(o.s();!(a=o.n()).done;){var s=a.value;t.push(r.child(s))}}catch(u){o.e(u)}finally{o.f()}}}else t.push(r)})),new X_(t)
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}var EC=function(){function e(t,n,r,i,a,o,s){m(this,e),this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=o,this.documentState=s}return y(e,[{key:"convertToFoundDocument",value:function(e,t){return!this.createTime.isEqual(g_.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}},{key:"convertToNoDocument",value:function(e){return this.version=e,this.documentType=2,this.data=CC.empty(),this.documentState=0,this}},{key:"convertToUnknownDocument",value:function(e){return this.version=e,this.documentType=3,this.data=CC.empty(),this.documentState=2,this}},{key:"setHasCommittedMutations",value:function(){return this.documentState=2,this}},{key:"setHasLocalMutations",value:function(){return this.documentState=1,this.version=g_.min(),this}},{key:"setReadTime",value:function(e){return this.readTime=e,this}},{key:"hasLocalMutations",get:function(){return 1===this.documentState}},{key:"hasCommittedMutations",get:function(){return 2===this.documentState}},{key:"hasPendingWrites",get:function(){return this.hasLocalMutations||this.hasCommittedMutations}},{key:"isValidDocument",value:function(){return 0!==this.documentType}},{key:"isFoundDocument",value:function(){return 1===this.documentType}},{key:"isNoDocument",value:function(){return 2===this.documentType}},{key:"isUnknownDocument",value:function(){return 3===this.documentType}},{key:"isEqual",value:function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}},{key:"mutableCopy",value:function(){return new e(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}},{key:"toString",value:function(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}],[{key:"newInvalidDocument",value:function(t){return new e(t,0,g_.min(),g_.min(),g_.min(),CC.empty(),0)}},{key:"newFoundDocument",value:function(t,n,r,i){return new e(t,1,n,g_.min(),r,i,0)}},{key:"newNoDocument",value:function(t,n){return new e(t,2,n,g_.min(),g_.min(),CC.empty(),0)}},{key:"newUnknownDocument",value:function(t,n){return new e(t,3,n,g_.min(),g_.min(),CC.empty(),2)}}])}(),SC=y((function e(t,n){m(this,e),this.position=t,this.inclusive=n}));
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function LC(e,t,n){for(var r=0,i=0;i<e.position.length;i++){var a=t[i],o=e.position[i];if(r=a.field.isKeyField()?__.comparator(__.fromName(o.referenceValue),n.key):dC(o,n.data.field(a.field)),"desc"===a.dir&&(r*=-1),0!==r)break}return r}function IC(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(var n=0;n<e.position.length;n++)if(!fC(e.position[n],t.position[n]))return!1;return!0}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var TC=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";m(this,e),this.field=t,this.dir=n}));function AC(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var NC=y((function e(){m(this,e)})),MC=function(e){function t(e,n,r){var i;return m(this,t),(i=f(this,t)).field=e,i.op=n,i.value=r,i}return v(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(dC(t,this.value)):null!==t&&cC(this.value)===cC(t)&&this.matchesComparison(dC(t,this.value))}},{key:"matchesComparison",value:function(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return Zw()}}},{key:"isInequality",value:function(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}},{key:"getFlattenedFilters",value:function(){return[this]}},{key:"getFilters",value:function(){return[this]}}],[{key:"create",value:function(e,n,r){return e.isKeyField()?"in"===n||"not-in"===n?this.createKeyFieldInFilter(e,n,r):new VC(e,n,r):"array-contains"===n?new qC(e,r):"in"===n?new GC(e,r):"not-in"===n?new WC(e,r):"array-contains-any"===n?new HC(e,r):new t(e,n,r)}},{key:"createKeyFieldInFilter",value:function(e,t,n){return"in"===t?new UC(e,n):new BC(e,n)}}])}(NC),OC=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t)).filters=e,r.op=n,r.ue=null,r}return v(t,e),y(t,[{key:"matches",value:function(e){return PC(this)?void 0===this.filters.find((function(t){return!t.matches(e)})):void 0!==this.filters.find((function(t){return t.matches(e)}))}},{key:"getFlattenedFilters",value:function(){return null!==this.ue||(this.ue=this.filters.reduce((function(e,t){return e.concat(t.getFlattenedFilters())}),[])),this.ue}},{key:"getFilters",value:function(){return Object.assign([],this.filters)}}],[{key:"create",value:function(e,n){return new t(e,n)}}])}(NC);function PC(e){return"and"===e.op}function DC(e){return function(e){var t,n=x(e.filters);try{for(n.s();!(t=n.n()).done;){if(t.value instanceof OC)return!1}}catch(r){n.e(r)}finally{n.f()}return!0}(e)&&PC(e)}function RC(e){if(e instanceof MC)return e.field.canonicalString()+e.op.toString()+pC(e.value);if(DC(e))return e.filters.map((function(e){return RC(e)})).join(",");var t=e.filters.map((function(e){return RC(e)})).join(",");return"".concat(e.op,"(").concat(t,")")}function FC(e,t){return e instanceof MC?function(e,t){return t instanceof MC&&e.op===t.op&&e.field.isEqual(t.field)&&fC(e.value,t.value)}(e,t):e instanceof OC?function(e,t){return t instanceof OC&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce((function(e,n,r){return e&&FC(n,t.filters[r])}),!0)}(e,t):void Zw()}function jC(e){return e instanceof MC?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(pC(e.value))}(e):e instanceof OC?function(e){return e.op.toString()+" {"+e.getFilters().map(jC).join(" ,")+"}"}(e):"Filter"}var VC=function(e){function t(e,n,r){var i;return m(this,t),(i=f(this,t,[e,n,r])).key=__.fromName(r.referenceValue),i}return v(t,e),y(t,[{key:"matches",value:function(e){var t=__.comparator(e.key,this.key);return this.matchesComparison(t)}}])}(MC),UC=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t,[e,"in",n])).keys=zC("in",n),r}return v(t,e),y(t,[{key:"matches",value:function(e){return this.keys.some((function(t){return t.isEqual(e.key)}))}}])}(MC),BC=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t,[e,"not-in",n])).keys=zC("not-in",n),r}return v(t,e),y(t,[{key:"matches",value:function(e){return!this.keys.some((function(t){return t.isEqual(e.key)}))}}])}(MC);function zC(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((function(e){return __.fromName(e.referenceValue)}))}var qC=function(e){function t(e,n){return m(this,t),f(this,t,[e,"array-contains",n])}return v(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return yC(t)&&hC(t.arrayValue,this.value)}}])}(MC),GC=function(e){function t(e,n){return m(this,t),f(this,t,[e,"in",n])}return v(t,e),y(t,[{key:"matches",value:function(e){var t=e.data.field(this.field);return null!==t&&hC(this.value.arrayValue,t)}}])}(MC),WC=function(e){function t(e,n){return m(this,t),f(this,t,[e,"not-in",n])}return v(t,e),y(t,[{key:"matches",value:function(e){if(hC(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;var t=e.data.field(this.field);return null!==t&&!hC(this.value.arrayValue,t)}}])}(MC),HC=function(e){function t(e,n){return m(this,t),f(this,t,[e,"array-contains-any",n])}return v(t,e),y(t,[{key:"matches",value:function(e){var t=this,n=e.data.field(this.field);return!(!yC(n)||!n.arrayValue.values)&&n.arrayValue.values.some((function(e){return hC(t.value.arrayValue,e)}))}}])}(MC),KC=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;m(this,e),this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=o,this.endAt=s,this.ce=null}));function QC(e){return new KC(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function YC(e){var t=t_(e);if(null===t.ce){var n=t.path.canonicalString();null!==t.collectionGroup&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map((function(e){return RC(e)})).join(","),n+="|ob:",n+=t.orderBy.map((function(e){return function(e){return e.field.canonicalString()+e.dir}(e)})).join(","),B_(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map((function(e){return pC(e)})).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map((function(e){return pC(e)})).join(",")),t.ce=n}return t.ce}function $C(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(var n=0;n<e.orderBy.length;n++)if(!AC(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(var r=0;r<e.filters.length;r++)if(!FC(e.filters[r],t.filters[r]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!IC(e.startAt,t.startAt)&&IC(e.endAt,t.endAt)}function XC(e){return __.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var JC=y((function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;m(this,e),this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=o,this.startAt=s,this.endAt=u,this.le=null,this.he=null,this.Pe=null,this.startAt,this.endAt}));function ZC(e){return new JC(e)}function ex(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function tx(e){var t=t_(e);if(null===t.le){t.le=[];var n,r=new Set,i=x(t.explicitOrderBy);try{for(i.s();!(n=i.n()).done;){var a=n.value;t.le.push(a),r.add(a.field.canonicalString())}}catch(u){i.e(u)}finally{i.f()}var o=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",s=function(e){var t=new Y_(w_.comparator);return e.filters.forEach((function(e){e.getFlattenedFilters().forEach((function(e){e.isInequality()&&(t=t.add(e.field))}))})),t}(t);s.forEach((function(e){r.has(e.canonicalString())||e.isKeyField()||t.le.push(new TC(e,o))})),r.has(w_.keyField().canonicalString())||t.le.push(new TC(w_.keyField(),o))}return t.le}function nx(e){var t=t_(e);return t.he||(t.he=function(e,t){if("F"===e.limitType)return QC(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);t=t.map((function(e){var t="desc"===e.dir?"asc":"desc";return new TC(e.field,t)}));var n=e.endAt?new SC(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new SC(e.startAt.position,e.startAt.inclusive):null;return QC(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}(t,tx(e))),t.he}function rx(e,t,n){return new JC(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function ix(e,t){return $C(nx(e),nx(t))&&e.limitType===t.limitType}function ax(e){return"".concat(YC(nx(e)),"|lt:").concat(e.limitType)}function ox(e){return"Query(target=".concat(function(e){var t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((function(e){return jC(e)})).join(", "),"]")),B_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((function(e){return function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e)})).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((function(e){return pC(e)})).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((function(e){return pC(e)})).join(",")),"Target(".concat(t,")")}(nx(e)),"; limitType=").concat(e.limitType,")")}function sx(e,t){return t.isFoundDocument()&&function(e,t){var n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):__.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){var n,r=x(tx(e));try{for(r.s();!(n=r.n()).done;){var i=n.value;if(!i.field.isKeyField()&&null===t.data.field(i.field))return!1}}catch(a){r.e(a)}finally{r.f()}return!0}(e,t)&&function(e,t){var n,r=x(e.filters);try{for(r.s();!(n=r.n()).done;){if(!n.value.matches(t))return!1}}catch(i){r.e(i)}finally{r.f()}return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){var r=LC(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,tx(e),t))&&!(e.endAt&&!function(e,t,n){var r=LC(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,tx(e),t))}(e,t)}function ux(e){return function(t,n){var r,i=!1,a=x(tx(e));try{for(a.s();!(r=a.n()).done;){var o=r.value,s=lx(o,t,n);if(0!==s)return s;i=i||o.field.isKeyField()}}catch(u){a.e(u)}finally{a.f()}return 0}}function lx(e,t,n){var r=e.field.isKeyField()?__.comparator(t.key,n.key):function(e,t,n){var r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?dC(r,i):Zw()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return Zw()}}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var cx=function(){return y((function e(t,n){m(this,e),this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}),[{key:"get",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=w(r.value,2),o=a[0],s=a[1];if(this.equalsFn(o,e))return s}}catch(u){i.e(u)}finally{i.f()}}}},{key:"has",value:function(e){return void 0!==this.get(e)}},{key:"set",value:function(e,t){var n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(var i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}},{key:"delete",value:function(e){var t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}},{key:"forEach",value:function(e){G_(this.inner,(function(t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=w(r.value,2),o=a[0],s=a[1];e(o,s)}}catch(u){i.e(u)}finally{i.f()}}))}},{key:"isEmpty",value:function(){return W_(this.inner)}},{key:"size",value:function(){return this.innerSize}}])}(),fx=new H_(__.comparator);
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function hx(){return fx}var dx=new H_(__.comparator);function vx(){for(var e=dx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.insert(o.key,o)}return e}function px(e){var t=dx;return e.forEach((function(e,n){return t=t.insert(e,n.overlayedDocument)})),t}function mx(){return yx()}function gx(){return yx()}function yx(){return new cx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)}))}var kx=new H_(__.comparator),bx=new Y_(__.comparator);function wx(){for(var e=bx,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0,a=n;i<a.length;i++){var o=a[i];e=e.add(o)}return e}var _x=new Y_(v_);
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function Cx(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:z_(t)?"-0":t}}function xx(e){return{integerValue:""+e}}function Ex(e,t){return function(e){return"number"==typeof e&&Number.isInteger(e)&&!z_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}(t)?xx(t):Cx(e,t)}
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var Sx=y((function e(){m(this,e),this._=void 0}));function Lx(e,t,n){return e instanceof Ax?function(e,t){var n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&iC(t)&&(t=aC(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Nx?Mx(e,t):e instanceof Ox?Px(e,t):function(e,t){var n=Tx(e,t),r=Rx(n)+Rx(e.Ie);return gC(n)&&gC(e.Ie)?xx(r):Cx(e.serializer,r)}(e,t)}function Ix(e,t,n){return e instanceof Nx?Mx(e,t):e instanceof Ox?Px(e,t):n}function Tx(e,t){return e instanceof Dx?function(e){return gC(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}var Ax=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t)}(Sx),Nx=function(e){function t(e){var n;return m(this,t),(n=f(this,t)).elements=e,n}return v(t,e),y(t)}(Sx);function Mx(e,t){var n,r=Fx(t),i=x(e.elements);try{var a=function(){var e=n.value;r.some((function(t){return fC(t,e)}))||r.push(e)};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Ox=function(e){function t(e){var n;return m(this,t),(n=f(this,t)).elements=e,n}return v(t,e),y(t)}(Sx);function Px(e,t){var n,r=Fx(t),i=x(e.elements);try{var a=function(){var e=n.value;r=r.filter((function(t){return!fC(t,e)}))};for(i.s();!(n=i.n()).done;)a()}catch(o){i.e(o)}finally{i.f()}return{arrayValue:{values:r}}}var Dx=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t)).serializer=e,r.Ie=n,r}return v(t,e),y(t)}(Sx);function Rx(e){return nC(e.integerValue||e.doubleValue)}function Fx(e){return yC(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}var jx=y((function e(t,n){m(this,e),this.version=t,this.transformResults=n})),Vx=function(){function e(t,n){m(this,e),this.updateTime=t,this.exists=n}return y(e,[{key:"isNone",get:function(){return void 0===this.updateTime&&void 0===this.exists}},{key:"isEqual",value:function(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}],[{key:"none",value:function(){return new e}},{key:"exists",value:function(t){return new e(void 0,t)}},{key:"updateTime",value:function(t){return new e(t)}}])}();function Ux(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}var Bx=y((function e(){m(this,e)}));function zx(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new eE(e.key,Vx.none()):new Kx(e.key,e.data,Vx.none());var n,r=e.data,i=CC.empty(),a=new Y_(w_.comparator),o=x(t.fields);try{for(o.s();!(n=o.n()).done;){var s=n.value;if(!a.has(s)){var u=r.field(s);null===u&&s.length>1&&(s=s.popLast(),u=r.field(s)),null===u?i.delete(s):i.set(s,u),a=a.add(s)}}}catch(l){o.e(l)}finally{o.f()}return new Qx(e.key,i,new X_(a.toArray()),Vx.none())}function qx(e,t,n){e instanceof Kx?function(e,t,n){var r=e.value.clone(),i=$x(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof Qx?function(e,t,n){if(Ux(e.precondition,t)){var r=$x(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(Yx(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}else t.convertToUnknownDocument(n.version)}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function Gx(e,t,n,r){return e instanceof Kx?function(e,t,n,r){if(!Ux(e.precondition,t))return n;var i=e.value.clone(),a=Xx(e.fieldTransforms,r,t);return i.setAll(a),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof Qx?function(e,t,n,r){if(!Ux(e.precondition,t))return n;var i=Xx(e.fieldTransforms,r,t),a=t.data;return a.setAll(Yx(e)),a.setAll(i),t.convertToFoundDocument(t.version,a).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((function(e){return e.field})))}(e,t,n,r):function(e,t,n){return Ux(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function Wx(e,t){var n,r=null,i=x(e.fieldTransforms);try{for(i.s();!(n=i.n()).done;){var a=n.value,o=t.data.field(a.field),s=Tx(a.transform,o||null);null!=s&&(null===r&&(r=CC.empty()),r.set(a.field,s))}}catch(u){i.e(u)}finally{i.f()}return r||null}function Hx(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&p_(e,t,(function(e,t){return function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Nx&&t instanceof Nx||e instanceof Ox&&t instanceof Ox?p_(e.elements,t.elements,fC):e instanceof Dx&&t instanceof Dx?fC(e.Ie,t.Ie):e instanceof Ax&&t instanceof Ax}(e.transform,t.transform)}(e,t)}))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}var Kx=function(e){function t(e,n,r){var i,a=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];return m(this,t),(i=f(this,t)).key=e,i.value=n,i.precondition=r,i.fieldTransforms=a,i.type=0,i}return v(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Bx),Qx=function(e){function t(e,n,r,i){var a,o=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];return m(this,t),(a=f(this,t)).key=e,a.data=n,a.fieldMask=r,a.precondition=i,a.fieldTransforms=o,a.type=1,a}return v(t,e),y(t,[{key:"getFieldMask",value:function(){return this.fieldMask}}])}(Bx);function Yx(e){var t=new Map;return e.fieldMask.fields.forEach((function(n){if(!n.isEmpty()){var r=e.data.field(n);t.set(n,r)}})),t}function $x(e,t,n){var r=new Map;e_(e.length===n.length);for(var i=0;i<n.length;i++){var a=e[i],o=a.transform,s=t.data.field(a.field);r.set(a.field,Ix(o,s,n[i]))}return r}function Xx(e,t,n){var r,i=new Map,a=x(e);try{for(a.s();!(r=a.n()).done;){var o=r.value,s=o.transform,u=n.data.field(o.field);i.set(o.field,Lx(s,u,t))}}catch(l){a.e(l)}finally{a.f()}return i}var Jx,Zx,eE=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t)).key=e,r.precondition=n,r.type=2,r.fieldTransforms=[],r}return v(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Bx),tE=function(e){function t(e,n){var r;return m(this,t),(r=f(this,t)).key=e,r.precondition=n,r.type=3,r.fieldTransforms=[],r}return v(t,e),y(t,[{key:"getFieldMask",value:function(){return null}}])}(Bx),nE=function(){return y((function e(t,n,r,i){m(this,e),this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}),[{key:"applyToRemoteDocument",value:function(e,t){for(var n=t.mutationResults,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(e.key)&&qx(i,e,n[r])}}},{key:"applyToLocalView",value:function(e,t){var n,r=x(this.baseMutations);try{for(r.s();!(n=r.n()).done;){var i=n.value;i.key.isEqual(e.key)&&(t=Gx(i,e,t,this.localWriteTime))}}catch(u){r.e(u)}finally{r.f()}var a,o=x(this.mutations);try{for(o.s();!(a=o.n()).done;){var s=a.value;s.key.isEqual(e.key)&&(t=Gx(s,e,t,this.localWriteTime))}}catch(u){o.e(u)}finally{o.f()}return t}},{key:"applyToLocalDocumentSet",value:function(e,t){var n=this,r=gx();return this.mutations.forEach((function(i){var a=e.get(i.key),o=a.overlayedDocument,s=n.applyToLocalView(o,a.mutatedFields),u=zx(o,s=t.has(i.key)?null:s);null!==u&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(g_.min())})),r}},{key:"keys",value:function(){return this.mutations.reduce((function(e,t){return e.add(t.key)}),wx())}},{key:"isEqual",value:function(e){return this.batchId===e.batchId&&p_(this.mutations,e.mutations,(function(e,t){return Hx(e,t)}))&&p_(this.baseMutations,e.baseMutations,(function(e,t){return Hx(e,t)}))}}])}(),rE=function(){function e(t,n,r,i){m(this,e),this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}return y(e,null,[{key:"from",value:function(t,n,r){e_(t.mutations.length===r.length);for(var i=kx,a=t.mutations,o=0;o<a.length;o++)i=i.insert(a[o].key,r[o].version);return new e(t,n,r,i)}}])}(),iE=function(){return y((function e(t,n){m(this,e),this.largestBatchId=t,this.mutation=n}),[{key:"getKey",value:function(){return this.mutation.key}},{key:"isEqual",value:function(e){return null!==e&&this.mutation===e.mutation}},{key:"toString",value:function(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}])}(),aE=y((function e(t,n){m(this,e),this.count=t,this.unchangedNames=n}));function oE(e){switch(e){default:return Zw();case n_.CANCELLED:case n_.UNKNOWN:case n_.DEADLINE_EXCEEDED:case n_.RESOURCE_EXHAUSTED:case n_.INTERNAL:case n_.UNAVAILABLE:case n_.UNAUTHENTICATED:return!1;case n_.INVALID_ARGUMENT:case n_.NOT_FOUND:case n_.ALREADY_EXISTS:case n_.PERMISSION_DENIED:case n_.FAILED_PRECONDITION:case n_.ABORTED:case n_.OUT_OF_RANGE:case n_.UNIMPLEMENTED:case n_.DATA_LOSS:return!0}}function sE(e){if(void 0===e)return $w("GRPC error has no .code"),n_.UNKNOWN;switch(e){case Jx.OK:return n_.OK;case Jx.CANCELLED:return n_.CANCELLED;case Jx.UNKNOWN:return n_.UNKNOWN;case Jx.DEADLINE_EXCEEDED:return n_.DEADLINE_EXCEEDED;case Jx.RESOURCE_EXHAUSTED:return n_.RESOURCE_EXHAUSTED;case Jx.INTERNAL:return n_.INTERNAL;case Jx.UNAVAILABLE:return n_.UNAVAILABLE;case Jx.UNAUTHENTICATED:return n_.UNAUTHENTICATED;case Jx.INVALID_ARGUMENT:return n_.INVALID_ARGUMENT;case Jx.NOT_FOUND:return n_.NOT_FOUND;case Jx.ALREADY_EXISTS:return n_.ALREADY_EXISTS;case Jx.PERMISSION_DENIED:return n_.PERMISSION_DENIED;case Jx.FAILED_PRECONDITION:return n_.FAILED_PRECONDITION;case Jx.ABORTED:return n_.ABORTED;case Jx.OUT_OF_RANGE:return n_.OUT_OF_RANGE;case Jx.UNIMPLEMENTED:return n_.UNIMPLEMENTED;case Jx.DATA_LOSS:return n_.DATA_LOSS;default:return Zw()}}(Zx=Jx||(Jx={}))[Zx.OK=0]="OK",Zx[Zx.CANCELLED=1]="CANCELLED",Zx[Zx.UNKNOWN=2]="UNKNOWN",Zx[Zx.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Zx[Zx.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Zx[Zx.NOT_FOUND=5]="NOT_FOUND",Zx[Zx.ALREADY_EXISTS=6]="ALREADY_EXISTS",Zx[Zx.PERMISSION_DENIED=7]="PERMISSION_DENIED",Zx[Zx.UNAUTHENTICATED=16]="UNAUTHENTICATED",Zx[Zx.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Zx[Zx.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Zx[Zx.ABORTED=10]="ABORTED",Zx[Zx.OUT_OF_RANGE=11]="OUT_OF_RANGE",Zx[Zx.UNIMPLEMENTED=12]="UNIMPLEMENTED",Zx[Zx.INTERNAL=13]="INTERNAL",Zx[Zx.UNAVAILABLE=14]="UNAVAILABLE",Zx[Zx.DATA_LOSS=15]="DATA_LOSS";
/**
             * @license
             * Copyright 2022 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var uE=new qw([4294967295,4294967295],0);function lE(e){var t=(new TextEncoder).encode(e),n=new zw;return n.update(t),new Uint8Array(n.digest())}function cE(e){var t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),a=t.getUint32(12,!0);return[new qw([n,r],0),new qw([i,a],0)]}var fE=function(){function e(t,n,r){if(m(this,e),this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new hE("Invalid padding: ".concat(n));if(r<0)throw new hE("Invalid hash count: ".concat(r));if(t.length>0&&0===this.hashCount)throw new hE("Invalid hash count: ".concat(r));if(0===t.length&&0!==n)throw new hE("Invalid padding when bitmap length is 0: ".concat(n));this.Te=8*t.length-n,this.Ee=qw.fromNumber(this.Te)}return y(e,[{key:"de",value:function(e,t,n){var r=e.add(t.multiply(qw.fromNumber(n)));return 1===r.compare(uE)&&(r=new qw([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ee).toNumber()}},{key:"Ae",value:function(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}},{key:"mightContain",value:function(e){if(0===this.Te)return!1;for(var t=w(cE(lE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);if(!this.Ae(a))return!1}return!0}},{key:"insert",value:function(e){if(0!==this.Te)for(var t=w(cE(lE(e)),2),n=t[0],r=t[1],i=0;i<this.hashCount;i++){var a=this.de(n,r,i);this.Re(a)}}},{key:"Re",value:function(e){var t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}],[{key:"create",value:function(t,n,r){var i=t%8==0?0:8-t%8,a=new e(new Uint8Array(Math.ceil(t/8)),i,n);return r.forEach((function(e){return a.insert(e)})),a}}])}(),hE=function(e){function t(){var e;return m(this,t),(e=f(this,t,arguments)).name="BloomFilterError",e}return v(t,e),y(t)}(i(Error)),dE=function(){function e(t,n,r,i,a){m(this,e),this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}return y(e,null,[{key:"createSynthesizedRemoteEventForCurrentChange",value:function(t,n,r){var i=new Map;return i.set(t,vE.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new e(g_.min(),i,new H_(v_),hx(),wx())}}])}(),vE=function(){function e(t,n,r,i,a){m(this,e),this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}return y(e,null,[{key:"createSynthesizedTargetChangeForCurrentChange",value:function(t,n,r){return new e(r,n,wx(),wx(),wx())}}])}(),pE=y((function e(t,n,r,i){m(this,e),this.Ve=t,this.removedTargetIds=n,this.key=r,this.me=i})),mE=y((function e(t,n){m(this,e),this.targetId=t,this.fe=n})),gE=y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Z_.EMPTY_BYTE_STRING,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;m(this,e),this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i})),yE=function(){return y((function e(){m(this,e),this.ge=0,this.pe=wE(),this.ye=Z_.EMPTY_BYTE_STRING,this.we=!1,this.Se=!0}),[{key:"current",get:function(){return this.we}},{key:"resumeToken",get:function(){return this.ye}},{key:"be",get:function(){return 0!==this.ge}},{key:"De",get:function(){return this.Se}},{key:"Ce",value:function(e){e.approximateByteSize()>0&&(this.Se=!0,this.ye=e)}},{key:"ve",value:function(){var e=wx(),t=wx(),n=wx();return this.pe.forEach((function(r,i){switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:Zw()}})),new vE(this.ye,this.we,e,t,n)}},{key:"Fe",value:function(){this.Se=!1,this.pe=wE()}},{key:"Me",value:function(e,t){this.Se=!0,this.pe=this.pe.insert(e,t)}},{key:"xe",value:function(e){this.Se=!0,this.pe=this.pe.remove(e)}},{key:"Oe",value:function(){this.ge+=1}},{key:"Ne",value:function(){this.ge-=1,e_(this.ge>=0)}},{key:"Le",value:function(){this.Se=!0,this.we=!0}}])}(),kE=function(){return y((function e(t){m(this,e),this.Be=t,this.ke=new Map,this.qe=hx(),this.Qe=bE(),this.Ke=new H_(v_)}),[{key:"$e",value:function(e){var t,n=x(e.Ve);try{for(n.s();!(t=n.n()).done;){var r=t.value;e.me&&e.me.isFoundDocument()?this.Ue(r,e.me):this.We(r,e.key,e.me)}}catch(s){n.e(s)}finally{n.f()}var i,a=x(e.removedTargetIds);try{for(a.s();!(i=a.n()).done;){var o=i.value;this.We(o,e.key,e.me)}}catch(s){a.e(s)}finally{a.f()}}},{key:"Ge",value:function(e){var t=this;this.forEachTarget(e,(function(n){var r=t.ze(n);switch(e.state){case 0:t.je(n)&&r.Ce(e.resumeToken);break;case 1:r.Ne(),r.be||r.Fe(),r.Ce(e.resumeToken);break;case 2:r.Ne(),r.be||t.removeTarget(n);break;case 3:t.je(n)&&(r.Le(),r.Ce(e.resumeToken));break;case 4:t.je(n)&&(t.He(n),r.Ce(e.resumeToken));break;default:Zw()}}))}},{key:"forEachTarget",value:function(e,t){var n=this;e.targetIds.length>0?e.targetIds.forEach(t):this.ke.forEach((function(e,r){n.je(r)&&t(r)}))}},{key:"Je",value:function(e){var t=e.targetId,n=e.fe.count,r=this.Ye(t);if(r){var i=r.target;if(XC(i))if(0===n){var a=new __(i.path);this.We(t,a,EC.newNoDocument(a,g_.min()))}else e_(1===n);else{var o=this.Ze(t);if(o!==n){var s=this.Xe(e),u=s?this.et(s,e,o):1;if(0!==u){this.He(t);var l=2===u?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,l)}}}}}},{key:"Xe",value:function(e){var t=e.fe.unchangedNames;if(!t||!t.bits)return null;var n,r,i=t.bits,a=i.bitmap,o=void 0===a?"":a,s=i.padding,u=void 0===s?0:s,l=t.hashCount,c=void 0===l?0:l;try{n=rC(o).toUint8Array()}catch(e){if(e instanceof J_)return Xw("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{r=new fE(n,u,c)}catch(e){return Xw(e instanceof hE?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===r.Te?null:r}},{key:"et",value:function(e,t,n){return t.fe.count===n-this.rt(e,t.targetId)?0:2}},{key:"rt",value:function(e,t){var n=this,r=this.Be.getRemoteKeysForTarget(t),i=0;return r.forEach((function(r){var a=n.Be.nt(),o="projects/".concat(a.projectId,"/databases/").concat(a.database,"/documents/").concat(r.path.canonicalString());e.mightContain(o)||(n.We(t,r,null),i++)})),i}},{key:"it",value:function(e){var t=this,n=new Map;this.ke.forEach((function(r,i){var a=t.Ye(i);if(a){if(r.current&&XC(a.target)){var o=new __(a.target.path);null!==t.qe.get(o)||t.st(i,o)||t.We(i,o,EC.newNoDocument(o,e))}r.De&&(n.set(i,r.ve()),r.Fe())}}));var r=wx();this.Qe.forEach((function(e,n){var i=!0;n.forEachWhile((function(e){var n=t.Ye(e);return!n||"TargetPurposeLimboResolution"===n.purpose||(i=!1,!1)})),i&&(r=r.add(e))})),this.qe.forEach((function(t,n){return n.setReadTime(e)}));var i=new dE(e,n,this.Ke,this.qe,r);return this.qe=hx(),this.Qe=bE(),this.Ke=new H_(v_),i}},{key:"Ue",value:function(e,t){if(this.je(e)){var n=this.st(e,t.key)?2:0;this.ze(e).Me(t.key,n),this.qe=this.qe.insert(t.key,t),this.Qe=this.Qe.insert(t.key,this.ot(t.key).add(e))}}},{key:"We",value:function(e,t,n){if(this.je(e)){var r=this.ze(e);this.st(e,t)?r.Me(t,1):r.xe(t),this.Qe=this.Qe.insert(t,this.ot(t).delete(e)),n&&(this.qe=this.qe.insert(t,n))}}},{key:"removeTarget",value:function(e){this.ke.delete(e)}},{key:"Ze",value:function(e){var t=this.ze(e).ve();return this.Be.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}},{key:"Oe",value:function(e){this.ze(e).Oe()}},{key:"ze",value:function(e){var t=this.ke.get(e);return t||(t=new yE,this.ke.set(e,t)),t}},{key:"ot",value:function(e){var t=this.Qe.get(e);return t||(t=new Y_(v_),this.Qe=this.Qe.insert(e,t)),t}},{key:"je",value:function(e){var t=null!==this.Ye(e);return t||Yw("WatchChangeAggregator","Detected inactive target",e),t}},{key:"Ye",value:function(e){var t=this.ke.get(e);return t&&t.be?null:this.Be._t(e)}},{key:"He",value:function(e){var t=this;this.ke.set(e,new yE),this.Be.getRemoteKeysForTarget(e).forEach((function(n){t.We(e,n,null)}))}},{key:"st",value:function(e,t){return this.Be.getRemoteKeysForTarget(e).has(t)}}])}();function bE(){return new H_(__.comparator)}function wE(){return new H_(__.comparator)}var _E={asc:"ASCENDING",desc:"DESCENDING"},CE={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},xE={and:"AND",or:"OR"},EE=y((function e(t,n){m(this,e),this.databaseId=t,this.useProto3Json=n}));function SE(e,t){return e.useProto3Json||B_(t)?t:{value:t}}function LE(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function IE(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function TE(e,t){return LE(e,t.toTimestamp())}function AE(e){return e_(!!e),g_.fromTimestamp(function(e){var t=tC(e);return new m_(t.seconds,t.nanos)}(e))}function NE(e,t){return ME(e,t).canonicalString()}function ME(e,t){var n=function(e){return new k_(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function OE(e){var t=k_.fromString(e);return e_(XE(t)),t}function PE(e,t){return NE(e.databaseId,t.path)}function DE(e,t){var n=OE(t);if(n.get(1)!==e.databaseId.projectId)throw new r_(n_.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new r_(n_.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new __(jE(n))}function RE(e,t){return NE(e.databaseId,t)}function FE(e){return new k_(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function jE(e){return e_(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function VE(e,t,n){return{name:PE(e,t),fields:n.value.mapValue.fields}}function UE(e,t){return{documents:[RE(e,t.path)]}}function BE(e,t){var n,r={structuredQuery:{}},i=t.path;null!==t.collectionGroup?(n=i,r.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n=i.popLast(),r.structuredQuery.from=[{collectionId:i.lastSegment()}]),r.parent=RE(e,n);var a=function(e){if(0!==e.length)return YE(OC.create(e,"and"))}(t.filters);a&&(r.structuredQuery.where=a);var o=function(e){if(0!==e.length)return e.map((function(e){return function(e){return{field:KE(e.field),direction:GE(e.dir)}}(e)}))}(t.orderBy);o&&(r.structuredQuery.orderBy=o);var s=SE(e,t.limit);return null!==s&&(r.structuredQuery.limit=s),t.startAt&&(r.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(r.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ut:r,parent:n}}function zE(e){var t=function(e){var t=OE(e);return 4===t.length?k_.emptyPath():jE(t)}(e.parent),n=e.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){e_(1===r);var a=n.from[0];a.allDescendants?i=a.collectionId:t=t.child(a.collectionId)}var o=[];n.where&&(o=function(e){var t=qE(e);return t instanceof OC&&DC(t)?t.getFilters():[t]}(n.where));var s=[];n.orderBy&&(s=function(e){return e.map((function(e){return function(e){return new TC(QE(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)}))}(n.orderBy));var u=null;n.limit&&(u=function(e){var t;return B_(t="object"==C(e)?e.value:e)?null:t}(n.limit));var l=null;n.startAt&&(l=function(e){var t=!!e.before,n=e.values||[];return new SC(n,t)}(n.startAt));var c=null;return n.endAt&&(c=function(e){var t=!e.before,n=e.values||[];return new SC(n,t)}(n.endAt)),function(e,t,n,r,i,a,o,s){return new JC(e,t,n,r,i,a,o,s)}(t,i,s,o,u,"F",l,c)}function qE(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":var t=QE(e.unaryFilter.field);return MC.create(t,"==",{doubleValue:NaN});case"IS_NULL":var n=QE(e.unaryFilter.field);return MC.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":var r=QE(e.unaryFilter.field);return MC.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":var i=QE(e.unaryFilter.field);return MC.create(i,"!=",{nullValue:"NULL_VALUE"});default:return Zw()}}(e):void 0!==e.fieldFilter?function(e){return MC.create(QE(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return Zw()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return OC.create(e.compositeFilter.filters.map((function(e){return qE(e)})),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return Zw()}}(e.compositeFilter.op))}(e):Zw()}function GE(e){return _E[e]}function WE(e){return CE[e]}function HE(e){return xE[e]}function KE(e){return{fieldPath:e.canonicalString()}}function QE(e){return w_.fromServerFormat(e.fieldPath)}function YE(e){return e instanceof MC?function(e){if("=="===e.op){if(bC(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NAN"}};if(kC(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(bC(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NOT_NAN"}};if(kC(e.value))return{unaryFilter:{field:KE(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:KE(e.field),op:WE(e.op),value:e.value}}}(e):e instanceof OC?function(e){var t=e.getFilters().map((function(e){return YE(e)}));return 1===t.length?t[0]:{compositeFilter:{op:HE(e.op),filters:t}}}(e):Zw()}function $E(e){var t=[];return e.fields.forEach((function(e){return t.push(e.canonicalString())})),{fieldPaths:t}}function XE(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var JE=function(){function e(t,n,r,i){var a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:g_.min(),o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:g_.min(),s=arguments.length>6&&void 0!==arguments[6]?arguments[6]:Z_.EMPTY_BYTE_STRING,u=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;m(this,e),this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=s,this.expectedCount=u}return y(e,[{key:"withSequenceNumber",value:function(t){return new e(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}},{key:"withResumeToken",value:function(t,n){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}},{key:"withExpectedCount",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}},{key:"withLastLimboFreeSnapshotVersion",value:function(t){return new e(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}}])}(),ZE=y((function e(t){m(this,e),this.ct=t}));
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function eS(e){var t=zE({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?rx(t,t.limit,"L"):t}
/**
             * @license
             * Copyright 2019 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var tS=function(){return y((function e(){m(this,e),this._n=new nS}),[{key:"addToCollectionParentIndex",value:function(e,t){return this._n.add(t),A_.resolve()}},{key:"getCollectionParents",value:function(e,t){return A_.resolve(this._n.getEntries(t))}},{key:"addFieldIndex",value:function(e,t){return A_.resolve()}},{key:"deleteFieldIndex",value:function(e,t){return A_.resolve()}},{key:"deleteAllFieldIndexes",value:function(e){return A_.resolve()}},{key:"createTargetIndexes",value:function(e,t){return A_.resolve()}},{key:"getDocumentsMatchingTarget",value:function(e,t){return A_.resolve(null)}},{key:"getIndexType",value:function(e,t){return A_.resolve(0)}},{key:"getFieldIndexes",value:function(e,t){return A_.resolve([])}},{key:"getNextCollectionGroupToUpdate",value:function(e){return A_.resolve(null)}},{key:"getMinOffset",value:function(e,t){return A_.resolve(x_.min())}},{key:"getMinOffsetFromCollectionGroup",value:function(e,t){return A_.resolve(x_.min())}},{key:"updateCollectionGroup",value:function(e,t,n){return A_.resolve()}},{key:"updateIndexEntries",value:function(e,t){return A_.resolve()}}])}(),nS=function(){return y((function e(){m(this,e),this.index={}}),[{key:"add",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new Y_(k_.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}},{key:"has",value:function(e){var t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}},{key:"getEntries",value:function(e){return(this.index[e]||new Y_(k_.comparator)).toArray()}}])}(),rS=function(){function e(t){m(this,e),this.On=t}return y(e,[{key:"next",value:function(){return this.On+=2,this.On}}],[{key:"Nn",value:function(){return new e(0)}},{key:"Ln",value:function(){return new e(-1)}}])}(),iS=function(){return y((function e(){m(this,e),this.changes=new cx((function(e){return e.toString()}),(function(e,t){return e.isEqual(t)})),this.changesApplied=!1}),[{key:"addEntry",value:function(e){this.assertNotApplied(),this.changes.set(e.key,e)}},{key:"removeEntry",value:function(e,t){this.assertNotApplied(),this.changes.set(e,EC.newInvalidDocument(e).setReadTime(t))}},{key:"getEntry",value:function(e,t){this.assertNotApplied();var n=this.changes.get(t);return void 0!==n?A_.resolve(n):this.getFromCache(e,t)}},{key:"getEntries",value:function(e,t){return this.getAllFromCache(e,t)}},{key:"apply",value:function(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}},{key:"assertNotApplied",value:function(){}}])}(),aS=y((function e(t,n){m(this,e),this.overlayedDocument=t,this.mutatedFields=n})),oS=function(){return y((function e(t,n,r,i){m(this,e),this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}),[{key:"getDocument",value:function(e,t){var n=this,r=null;return this.documentOverlayCache.getOverlay(e,t).next((function(i){return r=i,n.remoteDocumentCache.getEntry(e,t)})).next((function(e){return null!==r&&Gx(r.mutation,e,X_.empty(),m_.now()),e}))}},{key:"getDocuments",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.getLocalViewOfDocuments(e,t,wx()).next((function(){return t}))}))}},{key:"getLocalViewOfDocuments",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:wx(),i=mx();return this.populateOverlays(e,i,t).next((function(){return n.computeViews(e,t,i,r).next((function(e){var t=vx();return e.forEach((function(e,n){t=t.insert(e,n.overlayedDocument)})),t}))}))}},{key:"getOverlayedDocuments",value:function(e,t){var n=this,r=mx();return this.populateOverlays(e,r,t).next((function(){return n.computeViews(e,t,r,wx())}))}},{key:"populateOverlays",value:function(e,t,n){var r=[];return n.forEach((function(e){t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((function(e){e.forEach((function(e,n){t.set(e,n)}))}))}},{key:"computeViews",value:function(e,t,n,r){var i=hx(),a=yx(),o=yx();return t.forEach((function(e,t){var o=n.get(t.key);r.has(t.key)&&(void 0===o||o.mutation instanceof Qx)?i=i.insert(t.key,t):void 0!==o?(a.set(t.key,o.mutation.getFieldMask()),Gx(o.mutation,t,o.mutation.getFieldMask(),m_.now())):a.set(t.key,X_.empty())})),this.recalculateAndSaveOverlays(e,i).next((function(e){return e.forEach((function(e,t){return a.set(e,t)})),t.forEach((function(e,t){var n;return o.set(e,new aS(t,null!==(n=a.get(e))&&void 0!==n?n:null))})),o}))}},{key:"recalculateAndSaveOverlays",value:function(e,t){var n=this,r=yx(),i=new H_((function(e,t){return e-t})),a=wx();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((function(e){var n,a=x(e);try{var o=function(){var e=n.value;e.keys().forEach((function(n){var a=t.get(n);if(null!==a){var o=r.get(n)||X_.empty();o=e.applyToLocalView(a,o),r.set(n,o);var s=(i.get(e.batchId)||wx()).add(n);i=i.insert(e.batchId,s)}}))};for(a.s();!(n=a.n()).done;)o()}catch(s){a.e(s)}finally{a.f()}})).next((function(){for(var o=[],s=i.getReverseIterator(),u=function(){var i=s.getNext(),u=i.key,l=i.value,c=gx();l.forEach((function(e){if(!a.has(e)){var n=zx(t.get(e),r.get(e));null!==n&&c.set(e,n),a=a.add(e)}})),o.push(n.documentOverlayCache.saveOverlays(e,u,c))};s.hasNext();)u();return A_.waitFor(o)})).next((function(){return r}))}},{key:"recalculateAndSaveOverlaysForDocumentKeys",value:function(e,t){var n=this;return this.remoteDocumentCache.getEntries(e,t).next((function(t){return n.recalculateAndSaveOverlays(e,t)}))}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){return function(e){return __.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):function(e){return null!==e.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}},{key:"getNextDocuments",value:function(e,t,n,r){var i=this;return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((function(a){var o=r-a.size>0?i.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-a.size):A_.resolve(mx()),s=-1,u=a;return o.next((function(t){return A_.forEach(t,(function(t,n){return s<n.largestBatchId&&(s=n.largestBatchId),a.get(t)?A_.resolve():i.remoteDocumentCache.getEntry(e,t).next((function(e){u=u.insert(t,e)}))})).next((function(){return i.populateOverlays(e,t,a)})).next((function(){return i.computeViews(e,u,t,wx())})).next((function(e){return{batchId:s,changes:px(e)}}))}))}))}},{key:"getDocumentsMatchingDocumentQuery",value:function(e,t){return this.getDocument(e,new __(t)).next((function(e){var t=vx();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}},{key:"getDocumentsMatchingCollectionGroupQuery",value:function(e,t,n,r){var i=this,a=t.collectionGroup,o=vx();return this.indexManager.getCollectionParents(e,a).next((function(s){return A_.forEach(s,(function(s){var u=function(e,t){return new JC(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,s.child(a));return i.getDocumentsMatchingCollectionQuery(e,u,n,r).next((function(e){e.forEach((function(e,t){o=o.insert(e,t)}))}))})).next((function(){return o}))}))}},{key:"getDocumentsMatchingCollectionQuery",value:function(e,t,n,r){var i,a=this;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((function(o){return i=o,a.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)})).next((function(e){i.forEach((function(t,n){var r=n.getKey();null===e.get(r)&&(e=e.insert(r,EC.newInvalidDocument(r)))}));var n=vx();return e.forEach((function(e,r){var a=i.get(e);void 0!==a&&Gx(a.mutation,r,X_.empty(),m_.now()),sx(t,r)&&(n=n.insert(e,r))})),n}))}}])}(),sS=function(){return y((function e(t){m(this,e),this.serializer=t,this.cr=new Map,this.lr=new Map}),[{key:"getBundleMetadata",value:function(e,t){return A_.resolve(this.cr.get(t))}},{key:"saveBundleMetadata",value:function(e,t){return this.cr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:AE(e.createTime)}}(t)),A_.resolve()}},{key:"getNamedQuery",value:function(e,t){return A_.resolve(this.lr.get(t))}},{key:"saveNamedQuery",value:function(e,t){return this.lr.set(t.name,function(e){return{name:e.name,query:eS(e.bundledQuery),readTime:AE(e.readTime)}}(t)),A_.resolve()}}])}(),uS=function(){return y((function e(){m(this,e),this.overlays=new H_(__.comparator),this.hr=new Map}),[{key:"getOverlay",value:function(e,t){return A_.resolve(this.overlays.get(t))}},{key:"getOverlays",value:function(e,t){var n=this,r=mx();return A_.forEach(t,(function(t){return n.getOverlay(e,t).next((function(e){null!==e&&r.set(t,e)}))})).next((function(){return r}))}},{key:"saveOverlays",value:function(e,t,n){var r=this;return n.forEach((function(n,i){r.ht(e,t,i)})),A_.resolve()}},{key:"removeOverlaysForBatchId",value:function(e,t,n){var r=this,i=this.hr.get(n);return void 0!==i&&(i.forEach((function(e){return r.overlays=r.overlays.remove(e)})),this.hr.delete(n)),A_.resolve()}},{key:"getOverlaysForCollection",value:function(e,t,n){for(var r=mx(),i=t.length+1,a=new __(t.child("")),o=this.overlays.getIteratorFrom(a);o.hasNext();){var s=o.getNext().value,u=s.getKey();if(!t.isPrefixOf(u.path))break;u.path.length===i&&s.largestBatchId>n&&r.set(s.getKey(),s)}return A_.resolve(r)}},{key:"getOverlaysForCollectionGroup",value:function(e,t,n,r){for(var i=new H_((function(e,t){return e-t})),a=this.overlays.getIterator();a.hasNext();){var o=a.getNext().value;if(o.getKey().getCollectionGroup()===t&&o.largestBatchId>n){var s=i.get(o.largestBatchId);null===s&&(s=mx(),i=i.insert(o.largestBatchId,s)),s.set(o.getKey(),o)}}for(var u=mx(),l=i.getIterator();l.hasNext()&&(l.getNext().value.forEach((function(e,t){return u.set(e,t)})),!(u.size()>=r)););return A_.resolve(u)}},{key:"ht",value:function(e,t,n){var r=this.overlays.get(n.key);if(null!==r){var i=this.hr.get(r.largestBatchId).delete(n.key);this.hr.set(r.largestBatchId,i)}this.overlays=this.overlays.insert(n.key,new iE(t,n));var a=this.hr.get(t);void 0===a&&(a=wx(),this.hr.set(t,a)),this.hr.set(t,a.add(n.key))}}])}(),lS=function(){return y((function e(){m(this,e),this.Pr=new Y_(cS.Ir),this.Tr=new Y_(cS.Er)}),[{key:"isEmpty",value:function(){return this.Pr.isEmpty()}},{key:"addReference",value:function(e,t){var n=new cS(e,t);this.Pr=this.Pr.add(n),this.Tr=this.Tr.add(n)}},{key:"dr",value:function(e,t){var n=this;e.forEach((function(e){return n.addReference(e,t)}))}},{key:"removeReference",value:function(e,t){this.Ar(new cS(e,t))}},{key:"Rr",value:function(e,t){var n=this;e.forEach((function(e){return n.removeReference(e,t)}))}},{key:"Vr",value:function(e){var t=this,n=new __(new k_([])),r=new cS(n,e),i=new cS(n,e+1),a=[];return this.Tr.forEachInRange([r,i],(function(e){t.Ar(e),a.push(e.key)})),a}},{key:"mr",value:function(){var e=this;this.Pr.forEach((function(t){return e.Ar(t)}))}},{key:"Ar",value:function(e){this.Pr=this.Pr.delete(e),this.Tr=this.Tr.delete(e)}},{key:"gr",value:function(e){var t=new __(new k_([])),n=new cS(t,e),r=new cS(t,e+1),i=wx();return this.Tr.forEachInRange([n,r],(function(e){i=i.add(e.key)})),i}},{key:"containsKey",value:function(e){var t=new cS(e,0),n=this.Pr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}])}(),cS=function(){return y((function e(t,n){m(this,e),this.key=t,this.pr=n}),null,[{key:"Ir",value:function(e,t){return __.comparator(e.key,t.key)||v_(e.pr,t.pr)}},{key:"Er",value:function(e,t){return v_(e.pr,t.pr)||__.comparator(e.key,t.key)}}])}(),fS=function(){return y((function e(t,n){m(this,e),this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.yr=1,this.wr=new Y_(cS.Ir)}),[{key:"checkEmpty",value:function(e){return A_.resolve(0===this.mutationQueue.length)}},{key:"addMutationBatch",value:function(e,t,n,r){var i=this.yr;this.yr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];var a=new nE(i,t,n,r);this.mutationQueue.push(a);var o,s=x(r);try{for(s.s();!(o=s.n()).done;){var u=o.value;this.wr=this.wr.add(new cS(u.key,i)),this.indexManager.addToCollectionParentIndex(e,u.key.path.popLast())}}catch(l){s.e(l)}finally{s.f()}return A_.resolve(a)}},{key:"lookupMutationBatch",value:function(e,t){return A_.resolve(this.Sr(t))}},{key:"getNextMutationBatchAfterBatchId",value:function(e,t){var n=t+1,r=this.br(n),i=r<0?0:r;return A_.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}},{key:"getHighestUnacknowledgedBatchId",value:function(){return A_.resolve(0===this.mutationQueue.length?-1:this.yr-1)}},{key:"getAllMutationBatches",value:function(e){return A_.resolve(this.mutationQueue.slice())}},{key:"getAllMutationBatchesAffectingDocumentKey",value:function(e,t){var n=this,r=new cS(t,0),i=new cS(t,Number.POSITIVE_INFINITY),a=[];return this.wr.forEachInRange([r,i],(function(e){var t=n.Sr(e.pr);a.push(t)})),A_.resolve(a)}},{key:"getAllMutationBatchesAffectingDocumentKeys",value:function(e,t){var n=this,r=new Y_(v_);return t.forEach((function(e){var t=new cS(e,0),i=new cS(e,Number.POSITIVE_INFINITY);n.wr.forEachInRange([t,i],(function(e){r=r.add(e.pr)}))})),A_.resolve(this.Dr(r))}},{key:"getAllMutationBatchesAffectingQuery",value:function(e,t){var n=t.path,r=n.length+1,i=n;__.isDocumentKey(i)||(i=i.child(""));var a=new cS(new __(i),0),o=new Y_(v_);return this.wr.forEachWhile((function(e){var t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(o=o.add(e.pr)),!0)}),a),A_.resolve(this.Dr(o))}},{key:"Dr",value:function(e){var t=this,n=[];return e.forEach((function(e){var r=t.Sr(e);null!==r&&n.push(r)})),n}},{key:"removeMutationBatch",value:function(e,t){var n=this;e_(0===this.Cr(t.batchId,"removed")),this.mutationQueue.shift();var r=this.wr;return A_.forEach(t.mutations,(function(i){var a=new cS(i.key,t.batchId);return r=r.delete(a),n.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((function(){n.wr=r}))}},{key:"Mn",value:function(e){}},{key:"containsKey",value:function(e,t){var n=new cS(t,0),r=this.wr.firstAfterOrEqual(n);return A_.resolve(t.isEqual(r&&r.key))}},{key:"performConsistencyCheck",value:function(e){return this.mutationQueue.length,A_.resolve()}},{key:"Cr",value:function(e,t){return this.br(e)}},{key:"br",value:function(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}},{key:"Sr",value:function(e){var t=this.br(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}])}(),hS=function(){return y((function e(t){m(this,e),this.vr=t,this.docs=new H_(__.comparator),this.size=0}),[{key:"setIndexManager",value:function(e){this.indexManager=e}},{key:"addEntry",value:function(e,t){var n=t.key,r=this.docs.get(n),i=r?r.size:0,a=this.vr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:a}),this.size+=a-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}},{key:"removeEntry",value:function(e){var t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}},{key:"getEntry",value:function(e,t){var n=this.docs.get(t);return A_.resolve(n?n.document.mutableCopy():EC.newInvalidDocument(t))}},{key:"getEntries",value:function(e,t){var n=this,r=hx();return t.forEach((function(e){var t=n.docs.get(e);r=r.insert(e,t?t.document.mutableCopy():EC.newInvalidDocument(e))})),A_.resolve(r)}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){for(var i=hx(),a=t.path,o=new __(a.child("")),s=this.docs.getIteratorFrom(o);s.hasNext();){var u=s.getNext(),l=u.key,c=u.value.document;if(!a.isPrefixOf(l.path))break;l.path.length>a.length+1||E_(C_(c),n)<=0||(r.has(c.key)||sx(t,c))&&(i=i.insert(c.key,c.mutableCopy()))}return A_.resolve(i)}},{key:"getAllFromCollectionGroup",value:function(e,t,n,r){Zw()}},{key:"Fr",value:function(e,t){return A_.forEach(this.docs,(function(e){return t(e)}))}},{key:"newChangeBuffer",value:function(e){return new dS(this)}},{key:"getSize",value:function(e){return A_.resolve(this.size)}}])}(),dS=function(e){function t(e){var n;return m(this,t),(n=f(this,t)).ar=e,n}return v(t,e),y(t,[{key:"applyChanges",value:function(e){var t=this,n=[];return this.changes.forEach((function(r,i){i.isValidDocument()?n.push(t.ar.addEntry(e,i)):t.ar.removeEntry(r)})),A_.waitFor(n)}},{key:"getFromCache",value:function(e,t){return this.ar.getEntry(e,t)}},{key:"getAllFromCache",value:function(e,t){return this.ar.getEntries(e,t)}}])}(iS),vS=function(){return y((function e(t){m(this,e),this.persistence=t,this.Mr=new cx((function(e){return YC(e)}),$C),this.lastRemoteSnapshotVersion=g_.min(),this.highestTargetId=0,this.Or=0,this.Nr=new lS,this.targetCount=0,this.Lr=rS.Nn()}),[{key:"forEachTarget",value:function(e,t){return this.Mr.forEach((function(e,n){return t(n)})),A_.resolve()}},{key:"getLastRemoteSnapshotVersion",value:function(e){return A_.resolve(this.lastRemoteSnapshotVersion)}},{key:"getHighestSequenceNumber",value:function(e){return A_.resolve(this.Or)}},{key:"allocateTargetId",value:function(e){return this.highestTargetId=this.Lr.next(),A_.resolve(this.highestTargetId)}},{key:"setTargetsMetadata",value:function(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.Or&&(this.Or=t),A_.resolve()}},{key:"qn",value:function(e){this.Mr.set(e.target,e);var t=e.targetId;t>this.highestTargetId&&(this.Lr=new rS(t),this.highestTargetId=t),e.sequenceNumber>this.Or&&(this.Or=e.sequenceNumber)}},{key:"addTargetData",value:function(e,t){return this.qn(t),this.targetCount+=1,A_.resolve()}},{key:"updateTargetData",value:function(e,t){return this.qn(t),A_.resolve()}},{key:"removeTargetData",value:function(e,t){return this.Mr.delete(t.target),this.Nr.Vr(t.targetId),this.targetCount-=1,A_.resolve()}},{key:"removeTargets",value:function(e,t,n){var r=this,i=0,a=[];return this.Mr.forEach((function(o,s){s.sequenceNumber<=t&&null===n.get(s.targetId)&&(r.Mr.delete(o),a.push(r.removeMatchingKeysForTargetId(e,s.targetId)),i++)})),A_.waitFor(a).next((function(){return i}))}},{key:"getTargetCount",value:function(e){return A_.resolve(this.targetCount)}},{key:"getTargetData",value:function(e,t){var n=this.Mr.get(t)||null;return A_.resolve(n)}},{key:"addMatchingKeys",value:function(e,t,n){return this.Nr.dr(t,n),A_.resolve()}},{key:"removeMatchingKeys",value:function(e,t,n){this.Nr.Rr(t,n);var r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((function(t){i.push(r.markPotentiallyOrphaned(e,t))})),A_.waitFor(i)}},{key:"removeMatchingKeysForTargetId",value:function(e,t){return this.Nr.Vr(t),A_.resolve()}},{key:"getMatchingKeysForTargetId",value:function(e,t){var n=this.Nr.gr(t);return A_.resolve(n)}},{key:"containsKey",value:function(e,t){return A_.resolve(this.Nr.containsKey(t))}}])}(),pS=function(){return y((function e(t,n){var r=this;m(this,e),this.Br={},this.overlays={},this.kr=new U_(0),this.qr=!1,this.qr=!0,this.referenceDelegate=t(this),this.Qr=new vS(this),this.indexManager=new tS,this.remoteDocumentCache=function(e){return new hS(e)}((function(e){return r.referenceDelegate.Kr(e)})),this.serializer=new ZE(n),this.$r=new sS(this.serializer)}),[{key:"start",value:function(){return Promise.resolve()}},{key:"shutdown",value:function(){return this.qr=!1,Promise.resolve()}},{key:"started",get:function(){return this.qr}},{key:"setDatabaseDeletedListener",value:function(){}},{key:"setNetworkEnabled",value:function(){}},{key:"getIndexManager",value:function(e){return this.indexManager}},{key:"getDocumentOverlayCache",value:function(e){var t=this.overlays[e.toKey()];return t||(t=new uS,this.overlays[e.toKey()]=t),t}},{key:"getMutationQueue",value:function(e,t){var n=this.Br[e.toKey()];return n||(n=new fS(t,this.referenceDelegate),this.Br[e.toKey()]=n),n}},{key:"getTargetCache",value:function(){return this.Qr}},{key:"getRemoteDocumentCache",value:function(){return this.remoteDocumentCache}},{key:"getBundleCache",value:function(){return this.$r}},{key:"runTransaction",value:function(e,t,n){var r=this;Yw("MemoryPersistence","Starting transaction:",e);var i=new mS(this.kr.next());return this.referenceDelegate.Ur(),n(i).next((function(e){return r.referenceDelegate.Wr(i).next((function(){return e}))})).toPromise().then((function(e){return i.raiseOnCommittedEvent(),e}))}},{key:"Gr",value:function(e,t){return A_.or(Object.values(this.Br).map((function(n){return function(){return n.containsKey(e,t)}})))}}])}(),mS=function(e){function t(e){var n;return m(this,t),(n=f(this,t)).currentSequenceNumber=e,n}return v(t,e),y(t)}(L_),gS=function(){function e(t){m(this,e),this.persistence=t,this.zr=new lS,this.jr=null}return y(e,[{key:"Jr",get:function(){if(this.jr)return this.jr;throw Zw()}},{key:"addReference",value:function(e,t,n){return this.zr.addReference(n,t),this.Jr.delete(n.toString()),A_.resolve()}},{key:"removeReference",value:function(e,t,n){return this.zr.removeReference(n,t),this.Jr.add(n.toString()),A_.resolve()}},{key:"markPotentiallyOrphaned",value:function(e,t){return this.Jr.add(t.toString()),A_.resolve()}},{key:"removeTarget",value:function(e,t){var n=this;this.zr.Vr(t.targetId).forEach((function(e){return n.Jr.add(e.toString())}));var r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((function(e){e.forEach((function(e){return n.Jr.add(e.toString())}))})).next((function(){return r.removeTargetData(e,t)}))}},{key:"Ur",value:function(){this.jr=new Set}},{key:"Wr",value:function(e){var t=this,n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return A_.forEach(this.Jr,(function(r){var i=__.fromPath(r);return t.Yr(e,i).next((function(e){e||n.removeEntry(i,g_.min())}))})).next((function(){return t.jr=null,n.apply(e)}))}},{key:"updateLimboDocument",value:function(e,t){var n=this;return this.Yr(e,t).next((function(e){e?n.Jr.delete(t.toString()):n.Jr.add(t.toString())}))}},{key:"Kr",value:function(e){return 0}},{key:"Yr",value:function(e,t){var n=this;return A_.or([function(){return A_.resolve(n.zr.containsKey(t))},function(){return n.persistence.getTargetCache().containsKey(e,t)},function(){return n.persistence.Gr(e,t)}])}}],[{key:"Hr",value:function(t){return new e(t)}}])}(),yS=function(){function e(t,n,r,i){m(this,e),this.targetId=t,this.fromCache=n,this.qi=r,this.Qi=i}return y(e,null,[{key:"Ki",value:function(t,n){var r,i=wx(),a=wx(),o=x(n.docChanges);try{for(o.s();!(r=o.n()).done;){var s=r.value;switch(s.type){case 0:i=i.add(s.doc.key);break;case 1:a=a.add(s.doc.key)}}}catch(u){o.e(u)}finally{o.f()}return new e(t,n.fromCache,i,a)}}])}(),kS=function(){return y((function e(){m(this,e),this._documentReadCount=0}),[{key:"documentReadCount",get:function(){return this._documentReadCount}},{key:"incrementDocumentReadCount",value:function(e){this._documentReadCount+=e}}])}(),bS=function(){return y((function e(){m(this,e),this.$i=!1,this.Ui=!1,this.Wi=100,this.Gi=dm()?8:M_.v(hm())>0?6:4}),[{key:"initialize",value:function(e,t){this.zi=e,this.indexManager=t,this.$i=!0}},{key:"getDocumentsMatchingQuery",value:function(e,t,n,r){var i=this,a={result:null};return this.ji(e,t).next((function(e){a.result=e})).next((function(){if(!a.result)return i.Hi(e,t,r,n).next((function(e){a.result=e}))})).next((function(){if(!a.result){var n=new kS;return i.Ji(e,t,n).next((function(r){if(a.result=r,i.Ui)return i.Yi(e,t,n,r.size)}))}})).next((function(){return a.result}))}},{key:"Yi",value:function(e,t,n,r){return n.documentReadCount<this.Wi?(Qw()<=xm.DEBUG&&Yw("QueryEngine","SDK will not create cache indexes for query:",ox(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Wi,"documents"),A_.resolve()):(Qw()<=xm.DEBUG&&Yw("QueryEngine","Query:",ox(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Gi*r?(Qw()<=xm.DEBUG&&Yw("QueryEngine","The SDK decides to create cache indexes for query:",ox(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,nx(t))):A_.resolve())}},{key:"ji",value:function(e,t){var n=this;if(ex(t))return A_.resolve(null);var r=nx(t);return this.indexManager.getIndexType(e,r).next((function(i){return 0===i?null:(null!==t.limit&&1===i&&(t=rx(t,null,"F"),r=nx(t)),n.indexManager.getDocumentsMatchingTarget(e,r).next((function(i){var a=wx.apply(void 0,_(i));return n.zi.getDocuments(e,a).next((function(i){return n.indexManager.getMinOffset(e,r).next((function(r){var o=n.Zi(t,i);return n.Xi(t,o,a,r.readTime)?n.ji(e,rx(t,null,"F")):n.es(e,o,t,r)}))}))})))}))}},{key:"Hi",value:function(e,t,n,r){var i=this;return ex(t)||r.isEqual(g_.min())?A_.resolve(null):this.zi.getDocuments(e,n).next((function(a){var o=i.Zi(t,a);return i.Xi(t,o,n,r)?A_.resolve(null):(Qw()<=xm.DEBUG&&Yw("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ox(t)),i.es(e,o,t,function(e,t){var n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=g_.fromTimestamp(1e9===r?new m_(n+1,0):new m_(n,r));return new x_(i,__.empty(),t)}(r,-1)).next((function(e){return e})))}))}},{key:"Zi",value:function(e,t){var n=new Y_(ux(e));return t.forEach((function(t,r){sx(e,r)&&(n=n.add(r))})),n}},{key:"Xi",value:function(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;var i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}},{key:"Ji",value:function(e,t,n){return Qw()<=xm.DEBUG&&Yw("QueryEngine","Using full collection scan to execute query:",ox(t)),this.zi.getDocumentsMatchingQuery(e,t,x_.min(),n)}},{key:"es",value:function(e,t,n,r){return this.zi.getDocumentsMatchingQuery(e,n,r).next((function(e){return t.forEach((function(t){e=e.insert(t.key,t)})),e}))}}])}(),wS=function(){return y((function e(t,n,r,i){m(this,e),this.persistence=t,this.ts=n,this.serializer=i,this.ns=new H_(v_),this.rs=new cx((function(e){return YC(e)}),$C),this.ss=new Map,this.os=t.getRemoteDocumentCache(),this.Qr=t.getTargetCache(),this.$r=t.getBundleCache(),this._s(r)}),[{key:"_s",value:function(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new oS(this.os,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.os.setIndexManager(this.indexManager),this.ts.initialize(this.localDocuments,this.indexManager)}},{key:"collectGarbage",value:function(e){var t=this;return this.persistence.runTransaction("Collect garbage","readwrite-primary",(function(n){return e.collect(n,t.ns)}))}}])}();function _S(e,t){return CS.apply(this,arguments)}function CS(){return CS=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t_(t),e.next=3,r.persistence.runTransaction("Handle user change","readonly",(function(e){var t;return r.mutationQueue.getAllMutationBatches(e).next((function(i){return t=i,r._s(n),r.mutationQueue.getAllMutationBatches(e)})).next((function(n){var i,a=[],o=[],s=wx(),u=x(t);try{for(u.s();!(i=u.n()).done;){var l=i.value;a.push(l.batchId);var c,f=x(l.mutations);try{for(f.s();!(c=f.n()).done;){var h=c.value;s=s.add(h.key)}}catch(k){f.e(k)}finally{f.f()}}}catch(k){u.e(k)}finally{u.f()}var d,v=x(n);try{for(v.s();!(d=v.n()).done;){var p=d.value;o.push(p.batchId);var m,g=x(p.mutations);try{for(g.s();!(m=g.n()).done;){var y=m.value;s=s.add(y.key)}}catch(k){g.e(k)}finally{g.f()}}}catch(k){v.e(k)}finally{v.f()}return r.localDocuments.getDocuments(e,s).next((function(e){return{us:e,removedBatchIds:a,addedBatchIds:o}}))}))}));case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e)}))),CS.apply(this,arguments)}function xS(e,t){var n=t_(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(function(e){var r=t.batch.keys(),i=n.os.newChangeBuffer({trackRemovals:!0});return function(e,t,n,r){var i=n.batch,a=i.keys(),o=A_.resolve();return a.forEach((function(e){o=o.next((function(){return r.getEntry(t,e)})).next((function(t){var a=n.docVersions.get(e);e_(null!==a),t.version.compareTo(a)<0&&(i.applyToRemoteDocument(t,n),t.isValidDocument()&&(t.setReadTime(n.commitVersion),r.addEntry(t)))}))})),o.next((function(){return e.mutationQueue.removeMutationBatch(t,i)}))}(n,e,t,i).next((function(){return i.apply(e)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t.batch.batchId)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,function(e){for(var t=wx(),n=0;n<e.mutationResults.length;++n)e.mutationResults[n].transformResults.length>0&&(t=t.add(e.batch.mutations[n].key));return t}(t))})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}function ES(e){var t=t_(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(function(e){return t.Qr.getLastRemoteSnapshotVersion(e)}))}function SS(e,t){var n=t_(e),r=t.snapshotVersion,i=n.ns;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(function(e){var a=n.os.newChangeBuffer({trackRemovals:!0});i=n.ns;var o=[];t.targetChanges.forEach((function(a,s){var u=i.get(s);if(u){o.push(n.Qr.removeMatchingKeys(e,a.removedDocuments,s).next((function(){return n.Qr.addMatchingKeys(e,a.addedDocuments,s)})));var l=u.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(s)?l=l.withResumeToken(Z_.EMPTY_BYTE_STRING,g_.min()).withLastLimboFreeSnapshotVersion(g_.min()):a.resumeToken.approximateByteSize()>0&&(l=l.withResumeToken(a.resumeToken,r)),i=i.insert(s,l),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||(t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0)}(u,l,a)&&o.push(n.Qr.updateTargetData(e,l))}}));var s=hx(),u=wx();if(t.documentUpdates.forEach((function(r){t.resolvedLimboDocuments.has(r)&&o.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),o.push(function(e,t,n){var r=wx(),i=wx();return n.forEach((function(e){return r=r.add(e)})),t.getEntries(e,r).next((function(e){var r=hx();return n.forEach((function(n,a){var o=e.get(n);a.isFoundDocument()!==o.isFoundDocument()&&(i=i.add(n)),a.isNoDocument()&&a.version.isEqual(g_.min())?(t.removeEntry(n,a.readTime),r=r.insert(n,a)):!o.isValidDocument()||a.version.compareTo(o.version)>0||0===a.version.compareTo(o.version)&&o.hasPendingWrites?(t.addEntry(a),r=r.insert(n,a)):Yw("LocalStore","Ignoring outdated watch update for ",n,". Current version:",o.version," Watch version:",a.version)})),{cs:r,ls:i}}))}(e,a,t.documentUpdates).next((function(e){s=e.cs,u=e.ls}))),!r.isEqual(g_.min())){var l=n.Qr.getLastRemoteSnapshotVersion(e).next((function(t){return n.Qr.setTargetsMetadata(e,e.currentSequenceNumber,r)}));o.push(l)}return A_.waitFor(o).next((function(){return a.apply(e)})).next((function(){return n.localDocuments.getLocalViewOfDocuments(e,s,u)})).next((function(){return s}))})).then((function(e){return n.ns=i,e}))}function LS(e,t){var n=t_(e);return n.persistence.runTransaction("Get next mutation batch","readonly",(function(e){return void 0===t&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(e,t)}))}function IS(e,t){var n=t_(e);return n.persistence.runTransaction("Allocate target","readwrite",(function(e){var r;return n.Qr.getTargetData(e,t).next((function(i){return i?(r=i,A_.resolve(r)):n.Qr.allocateTargetId(e).next((function(i){return r=new JE(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Qr.addTargetData(e,r).next((function(){return r}))}))}))})).then((function(e){var r=n.ns.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.ns=n.ns.insert(e.targetId,e),n.rs.set(t,e.targetId)),e}))}function TS(e,t,n){return AS.apply(this,arguments)}function AS(){return AS=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t_(t),a=i.ns.get(n),s=r?"readwrite":"readwrite-primary",e.prev=1,e.t0=r,e.t0){e.next=6;break}return e.next=6,i.persistence.runTransaction("Release target",s,(function(e){return i.persistence.referenceDelegate.removeTarget(e,a)}));case 6:e.next=13;break;case 8:if(e.prev=8,e.t1=e.catch(1),D_(e.t1)){e.next=12;break}throw e.t1;case 12:Yw("LocalStore","Failed to update sequence numbers for target ".concat(n,": ").concat(e.t1));case 13:i.ns=i.ns.remove(n),i.rs.delete(a.target);case 14:case"end":return e.stop()}}),e,null,[[1,8]])}))),AS.apply(this,arguments)}function NS(e,t,n){var r=t_(e),i=g_.min(),a=wx();return r.persistence.runTransaction("Execute query","readwrite",(function(e){return function(e,t,n){var r=t_(e),i=r.rs.get(n);return void 0!==i?A_.resolve(r.ns.get(i)):r.Qr.getTargetData(t,n)}(r,e,nx(t)).next((function(t){if(t)return i=t.lastLimboFreeSnapshotVersion,r.Qr.getMatchingKeysForTargetId(e,t.targetId).next((function(e){a=e}))})).next((function(){return r.ts.getDocumentsMatchingQuery(e,t,n?i:g_.min(),n?a:wx())})).next((function(e){return function(e,t,n){var r=e.ss.get(t)||g_.min();n.forEach((function(e,t){t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ss.set(t,r)}(r,function(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}(t),e),{documents:e,hs:a}}))}))}var MS=function(){return y((function e(){m(this,e),this.activeTargetIds=_x}),[{key:"As",value:function(e){this.activeTargetIds=this.activeTargetIds.add(e)}},{key:"Rs",value:function(e){this.activeTargetIds=this.activeTargetIds.delete(e)}},{key:"ds",value:function(){var e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}])}(),OS=function(){return y((function e(){m(this,e),this.no=new MS,this.ro={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}),[{key:"addPendingMutation",value:function(e){}},{key:"updateMutationState",value:function(e,t,n){}},{key:"addLocalQueryTarget",value:function(e){return this.no.As(e),this.ro[e]||"not-current"}},{key:"updateQueryState",value:function(e,t,n){this.ro[e]=t}},{key:"removeLocalQueryTarget",value:function(e){this.no.Rs(e)}},{key:"isLocalQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"clearQueryState",value:function(e){delete this.ro[e]}},{key:"getAllActiveQueryTargets",value:function(){return this.no.activeTargetIds}},{key:"isActiveQueryTarget",value:function(e){return this.no.activeTargetIds.has(e)}},{key:"start",value:function(){return this.no=new MS,Promise.resolve()}},{key:"handleUserChange",value:function(e,t,n){}},{key:"setOnlineState",value:function(e){}},{key:"shutdown",value:function(){}},{key:"writeSequenceNumber",value:function(e){}},{key:"notifyBundleLoaded",value:function(e){}}])}(),PS=function(){return y((function e(){m(this,e)}),[{key:"io",value:function(e){}},{key:"shutdown",value:function(){}}])}(),DS=function(){return y((function e(){var t=this;m(this,e),this.so=function(){return t.oo()},this._o=function(){return t.ao()},this.uo=[],this.co()}),[{key:"io",value:function(e){this.uo.push(e)}},{key:"shutdown",value:function(){window.removeEventListener("online",this.so),window.removeEventListener("offline",this._o)}},{key:"co",value:function(){window.addEventListener("online",this.so),window.addEventListener("offline",this._o)}},{key:"oo",value:function(){Yw("ConnectivityMonitor","Network connectivity changed: AVAILABLE");var e,t=x(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(0)}}catch(n){t.e(n)}finally{t.f()}}},{key:"ao",value:function(){Yw("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");var e,t=x(this.uo);try{for(t.s();!(e=t.n()).done;){(0,e.value)(1)}}catch(n){t.e(n)}finally{t.f()}}}],[{key:"D",value:function(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}])}(),RS=null;function FS(){return null===RS?RS=268435456+Math.round(2147483648*Math.random()):RS++,"0x"+RS.toString(16)
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}var jS={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"},VS=function(){return y((function e(t){m(this,e),this.lo=t.lo,this.ho=t.ho}),[{key:"Po",value:function(e){this.Io=e}},{key:"To",value:function(e){this.Eo=e}},{key:"onMessage",value:function(e){this.Ao=e}},{key:"close",value:function(){this.ho()}},{key:"send",value:function(e){this.lo(e)}},{key:"Ro",value:function(){this.Io()}},{key:"Vo",value:function(e){this.Eo(e)}},{key:"mo",value:function(e){this.Ao(e)}}])}(),US="WebChannelConnection",BS=function(e){function t(e){var n;return m(this,t),(n=f(this,t,[e])).forceLongPolling=e.forceLongPolling,n.autoDetectLongPolling=e.autoDetectLongPolling,n.useFetchStreams=e.useFetchStreams,n.longPollingOptions=e.longPollingOptions,n}return v(t,e),y(t,[{key:"Co",value:function(e,t,n,r){var i=FS();return new Promise((function(a,o){var s=new Bw;s.setWithCredentials(!0),s.listenOnce(Rw.COMPLETE,(function(){try{switch(s.getLastErrorCode()){case Dw.NO_ERROR:var t=s.getResponseJson();Yw(US,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),a(t);break;case Dw.TIMEOUT:Yw(US,"RPC '".concat(e,"' ").concat(i," timed out")),o(new r_(n_.DEADLINE_EXCEEDED,"Request time out"));break;case Dw.HTTP_ERROR:var n=s.getStatus();if(Yw(US,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",s.getResponseText()),n>0){var r=s.getResponseJson();Array.isArray(r)&&(r=r[0]);var u=null==r?void 0:r.error;if(u&&u.status&&u.message){var l=function(e){var t=e.toLowerCase().replace(/_/g,"-");return Object.values(n_).indexOf(t)>=0?t:n_.UNKNOWN}(u.status);o(new r_(l,u.message))}else o(new r_(n_.UNKNOWN,"Server responded with status "+s.getStatus()))}else o(new r_(n_.UNAVAILABLE,"Connection failed."));break;default:Zw()}}finally{Yw(US,"RPC '".concat(e,"' ").concat(i," completed."))}}));var u=JSON.stringify(r);Yw(US,"RPC '".concat(e,"' ").concat(i," sending request:"),r),s.send(t,"POST",u,n,15)}))}},{key:"Fo",value:function(e,t,n){var r=FS(),i=[this.fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=new fw,o=lk(),s={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;void 0!==u&&(s.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(s.useFetchStreams=!0),this.Do(s.initMessageHeaders,t,n),s.encodeInitMessageHeaders=!0;var l=i.join("");Yw(US,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(l),s);var c=a.createWebChannel(l,s),f=!1,h=!1,d=new VS({lo:function(t){h?Yw(US,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(f||(Yw(US,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),c.open(),f=!0),Yw(US,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),c.send(t))},ho:function(){return c.close()}}),v=function(e,t,n){e.listen(t,(function(e){try{n(e)}catch(e){setTimeout((function(){throw e}),0)}}))};return v(c,Uw.EventType.OPEN,(function(){h||Yw(US,"RPC '".concat(e,"' stream ").concat(r," transport opened."))})),v(c,Uw.EventType.CLOSE,(function(){h||(h=!0,Yw(US,"RPC '".concat(e,"' stream ").concat(r," transport closed")),d.Vo())})),v(c,Uw.EventType.ERROR,(function(t){h||(h=!0,Xw(US,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),d.Vo(new r_(n_.UNAVAILABLE,"The operation could not be completed")))})),v(c,Uw.EventType.MESSAGE,(function(t){var n;if(!h){var i=t.data[0];e_(!!i);var a=i,o=a.error||(null===(n=a[0])||void 0===n?void 0:n.error);if(o){Yw(US,"RPC '".concat(e,"' stream ").concat(r," received error:"),o);var s=o.status,u=function(e){var t=Jx[e];if(void 0!==t)return sE(t)}(s),l=o.message;void 0===u&&(u=n_.INTERNAL,l="Unknown error status: "+s+" with message "+o.message),h=!0,d.Vo(new r_(u,l)),c.close()}else Yw(US,"RPC '".concat(e,"' stream ").concat(r," received:"),i),d.mo(i)}})),v(o,Fw.STAT_EVENT,(function(t){t.stat===jw?Yw(US,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Vw&&Yw(US,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((function(){d.Ro()}),0),d}}])}(function(){return y((function e(t){m(this,e),this.databaseInfo=t,this.databaseId=t.databaseId;var n=t.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.fo=n+"://"+t.host,this.po="projects/".concat(r,"/databases/").concat(i),this.yo="(default)"===this.databaseId.database?"project_id=".concat(r):"project_id=".concat(r,"&database_id=").concat(i)}),[{key:"wo",get:function(){return!1}},{key:"So",value:function(e,t,n,r,i){var a=FS(),o=this.bo(e,t.toUriEncodedString());Yw("RestConnection","Sending RPC '".concat(e,"' ").concat(a,":"),o,n);var s={"google-cloud-resource-prefix":this.po,"x-goog-request-params":this.yo};return this.Do(s,r,i),this.Co(e,o,s,n).then((function(t){return Yw("RestConnection","Received RPC '".concat(e,"' ").concat(a,": "),t),t}),(function(t){throw Xw("RestConnection","RPC '".concat(e,"' ").concat(a," failed with error: "),t,"url: ",o,"request:",n),t}))}},{key:"vo",value:function(e,t,n,r,i,a){return this.So(e,t,n,r,i)}},{key:"Do",value:function(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Hw,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((function(t,n){return e[n]=t})),n&&n.headers.forEach((function(t,n){return e[n]=t}))}},{key:"bo",value:function(e,t){var n=jS[e];return"".concat(this.fo,"/v1/").concat(t,":").concat(n)}},{key:"terminate",value:function(){}}])}());
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function zS(){return"undefined"!=typeof document?document:null}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function qS(e){return new EE(e,!0)}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var GS=function(){return y((function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;m(this,e),this.oi=t,this.timerId=n,this.Mo=r,this.xo=i,this.Oo=a,this.No=0,this.Lo=null,this.Bo=Date.now(),this.reset()}),[{key:"reset",value:function(){this.No=0}},{key:"ko",value:function(){this.No=this.Oo}},{key:"qo",value:function(e){var t=this;this.cancel();var n=Math.floor(this.No+this.Qo()),r=Math.max(0,Date.now()-this.Bo),i=Math.max(0,n-r);i>0&&Yw("ExponentialBackoff","Backing off for ".concat(i," ms (base delay: ").concat(this.No," ms, delay with jitter: ").concat(n," ms, last attempt: ").concat(r," ms ago)")),this.Lo=this.oi.enqueueAfterDelay(this.timerId,i,(function(){return t.Bo=Date.now(),e()})),this.No*=this.xo,this.No<this.Mo&&(this.No=this.Mo),this.No>this.Oo&&(this.No=this.Oo)}},{key:"Ko",value:function(){null!==this.Lo&&(this.Lo.skipDelay(),this.Lo=null)}},{key:"cancel",value:function(){null!==this.Lo&&(this.Lo.cancel(),this.Lo=null)}},{key:"Qo",value:function(){return(Math.random()-.5)*this.No}}])}(),WS=function(){return y((function e(t,n,r,i,a,o,s,u){m(this,e),this.oi=t,this.$o=r,this.Uo=i,this.connection=a,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=s,this.listener=u,this.state=0,this.Wo=0,this.Go=null,this.zo=null,this.stream=null,this.jo=new GS(t,n)}),[{key:"Ho",value:function(){return 1===this.state||5===this.state||this.Jo()}},{key:"Jo",value:function(){return 2===this.state||3===this.state}},{key:"start",value:function(){4!==this.state?this.auth():this.Yo()}},{key:"stop",value:(n=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.Ho(),!e.t0){e.next=4;break}return e.next=4,this.close(0);case 4:case"end":return e.stop()}}),e,this)}))),function(){return n.apply(this,arguments)})},{key:"Zo",value:function(){this.state=0,this.jo.reset()}},{key:"Xo",value:function(){var e=this;this.Jo()&&null===this.Go&&(this.Go=this.oi.enqueueAfterDelay(this.$o,6e4,(function(){return e.e_()})))}},{key:"t_",value:function(e){this.n_(),this.stream.send(e)}},{key:"e_",value:(t=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.Jo()){e.next=2;break}return e.abrupt("return",this.close(0));case 2:case"end":return e.stop()}}),e,this)}))),function(){return t.apply(this,arguments)})},{key:"n_",value:function(){this.Go&&(this.Go.cancel(),this.Go=null)}},{key:"r_",value:function(){this.zo&&(this.zo.cancel(),this.zo=null)}},{key:"close",value:(e=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.n_(),this.r_(),this.jo.cancel(),this.Wo++,4!==t?this.jo.reset():n&&n.code===n_.RESOURCE_EXHAUSTED?($w(n.toString()),$w("Using maximum backoff delay to prevent overloading the backend."),this.jo.ko()):n&&n.code===n_.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.i_(),this.stream.close(),this.stream=null),this.state=t,e.next=9,this.listener.To(n);case 9:case"end":return e.stop()}}),e,this)}))),function(t,n){return e.apply(this,arguments)})},{key:"i_",value:function(){}},{key:"auth",value:function(){var e=this;this.state=1;var t=this.s_(this.Wo),n=this.Wo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((function(t){var r=w(t,2),i=r[0],a=r[1];e.Wo===n&&e.o_(i,a)}),(function(n){t((function(){var t=new r_(n_.UNKNOWN,"Fetching auth token failed: "+n.message);return e.__(t)}))}))}},{key:"o_",value:function(e,t){var n=this,r=this.s_(this.Wo);this.stream=this.a_(e,t),this.stream.Po((function(){r((function(){return n.state=2,n.zo=n.oi.enqueueAfterDelay(n.Uo,1e4,(function(){return n.Jo()&&(n.state=3),Promise.resolve()})),n.listener.Po()}))})),this.stream.To((function(e){r((function(){return n.__(e)}))})),this.stream.onMessage((function(e){r((function(){return n.onMessage(e)}))}))}},{key:"Yo",value:function(){var e=this;this.state=5,this.jo.qo(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:e.state=0,e.start();case 1:case"end":return t.stop()}}),t)}))))}},{key:"__",value:function(e){return Yw("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}},{key:"s_",value:function(e){var t=this;return function(n){t.oi.enqueueAndForget((function(){return t.Wo===e?n():(Yw("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())}))}}}]);var e,t,n}(),HS=function(e){function t(e,n,r,i,a,o){var s;return m(this,t),(s=f(this,t,[e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o])).serializer=a,s}return v(t,e),y(t,[{key:"a_",value:function(e,t){return this.connection.Fo("Listen",e,t)}},{key:"onMessage",value:function(e){this.jo.reset();var t=function(e,t){var n;if("targetChange"in t){t.targetChange;var r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:Zw()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],a=function(e,t){return e.useProto3Json?(e_(void 0===t||"string"==typeof t),Z_.fromBase64String(t||"")):(e_(void 0===t||t instanceof Buffer||t instanceof Uint8Array),Z_.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,s=o&&function(e){var t=void 0===e.code?n_.UNKNOWN:sE(e.code);return new r_(t,e.message||"")}(o);n=new gE(r,i,a,s||null)}else if("documentChange"in t){t.documentChange;var u=t.documentChange;u.document,u.document.name,u.document.updateTime;var l=DE(e,u.document.name),c=AE(u.document.updateTime),f=u.document.createTime?AE(u.document.createTime):g_.min(),h=new CC({mapValue:{fields:u.document.fields}}),d=EC.newFoundDocument(l,c,f,h),v=u.targetIds||[],p=u.removedTargetIds||[];n=new pE(v,p,d.key,d)}else if("documentDelete"in t){t.documentDelete;var m=t.documentDelete;m.document;var g=DE(e,m.document),y=m.readTime?AE(m.readTime):g_.min(),k=EC.newNoDocument(g,y),b=m.removedTargetIds||[];n=new pE([],b,k.key,k)}else if("documentRemove"in t){t.documentRemove;var w=t.documentRemove;w.document;var _=DE(e,w.document),C=w.removedTargetIds||[];n=new pE([],C,_,null)}else{if(!("filter"in t))return Zw();t.filter;var x=t.filter;x.targetId;var E=x.count,S=void 0===E?0:E,L=x.unchangedNames,I=new aE(S,L),T=x.targetId;n=new mE(T,I)}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return g_.min();var t=e.targetChange;return t.targetIds&&t.targetIds.length?g_.min():t.readTime?AE(t.readTime):g_.min()}(e);return this.listener.u_(t,n)}},{key:"c_",value:function(e){var t={};t.database=FE(this.serializer),t.addTarget=function(e,t){var n,r=t.target;if((n=XC(r)?{documents:UE(e,r)}:{query:BE(e,r).ut}).targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=IE(e,t.resumeToken);var i=SE(e,t.expectedCount);null!==i&&(n.expectedCount=i)}else if(t.snapshotVersion.compareTo(g_.min())>0){n.readTime=LE(e,t.snapshotVersion.toTimestamp());var a=SE(e,t.expectedCount);null!==a&&(n.expectedCount=a)}return n}(this.serializer,e);var n=function(e,t){var n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Zw()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.t_(t)}},{key:"l_",value:function(e){var t={};t.database=FE(this.serializer),t.removeTarget=e,this.t_(t)}}])}(WS),KS=function(e){function t(e,n,r,i,a,o){var s;return m(this,t),(s=f(this,t,[e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o])).serializer=a,s.h_=!1,s}return v(t,e),y(t,[{key:"P_",get:function(){return this.h_}},{key:"start",value:function(){this.h_=!1,this.lastStreamToken=void 0,r(d(t.prototype),"start",this).call(this)}},{key:"i_",value:function(){this.h_&&this.I_([])}},{key:"a_",value:function(e,t){return this.connection.Fo("Write",e,t)}},{key:"onMessage",value:function(e){if(e_(!!e.streamToken),this.lastStreamToken=e.streamToken,this.h_){this.jo.reset();var t=function(e,t){return e&&e.length>0?(e_(void 0!==t),e.map((function(e){return function(e,t){var n=e.updateTime?AE(e.updateTime):AE(t);return n.isEqual(g_.min())&&(n=AE(t)),new jx(n,e.transformResults||[])}(e,t)}))):[]}(e.writeResults,e.commitTime),n=AE(e.commitTime);return this.listener.T_(n,t)}return e_(!e.writeResults||0===e.writeResults.length),this.h_=!0,this.listener.E_()}},{key:"d_",value:function(){var e={};e.database=FE(this.serializer),this.t_(e)}},{key:"I_",value:function(e){var t=this,n={streamToken:this.lastStreamToken,writes:e.map((function(e){return function(e,t){var n;if(t instanceof Kx)n={update:VE(e,t.key,t.value)};else if(t instanceof eE)n={delete:PE(e,t.key)};else if(t instanceof Qx)n={update:VE(e,t.key,t.data),updateMask:$E(t.fieldMask)};else{if(!(t instanceof tE))return Zw();n={verify:PE(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map((function(e){return function(e,t){var n=t.transform;if(n instanceof Ax)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Nx)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements}};if(n instanceof Ox)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements}};if(n instanceof Dx)return{fieldPath:t.field.canonicalString(),increment:n.Ie};throw Zw()}(0,e)}))),t.precondition.isNone||(n.currentDocument=function(e,t){return void 0!==t.updateTime?{updateTime:TE(e,t.updateTime)}:void 0!==t.exists?{exists:t.exists}:Zw()}(e,t.precondition)),n}(t.serializer,e)}))};this.t_(n)}}])}(WS),QS=function(e){function t(e,n,r,i){var a;return m(this,t),(a=f(this,t)).authCredentials=e,a.appCheckCredentials=n,a.connection=r,a.serializer=i,a.A_=!1,a}return v(t,e),y(t,[{key:"R_",value:function(){if(this.A_)throw new r_(n_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"So",value:function(e,t,n,r){var i=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(a){var o=w(a,2),s=o[0],u=o[1];return i.connection.So(e,ME(t,n),r,s,u)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===n_.UNAUTHENTICATED&&(i.authCredentials.invalidateToken(),i.appCheckCredentials.invalidateToken()),e):new r_(n_.UNKNOWN,e.toString())}))}},{key:"vo",value:function(e,t,n,r,i){var a=this;return this.R_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((function(o){var s=w(o,2),u=s[0],l=s[1];return a.connection.vo(e,ME(t,n),r,u,l,i)})).catch((function(e){throw"FirebaseError"===e.name?(e.code===n_.UNAUTHENTICATED&&(a.authCredentials.invalidateToken(),a.appCheckCredentials.invalidateToken()),e):new r_(n_.UNKNOWN,e.toString())}))}},{key:"terminate",value:function(){this.A_=!0,this.connection.terminate()}}])}(y((function e(){m(this,e)}))),YS=function(){return y((function e(t,n){m(this,e),this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.m_=0,this.f_=null,this.g_=!0}),[{key:"p_",value:function(){var e=this;0===this.m_&&(this.y_("Unknown"),this.f_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(function(){return e.f_=null,e.w_("Backend didn't respond within 10 seconds."),e.y_("Offline"),Promise.resolve()})))}},{key:"S_",value:function(e){"Online"===this.state?this.y_("Unknown"):(this.m_++,this.m_>=1&&(this.b_(),this.w_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.y_("Offline")))}},{key:"set",value:function(e){this.b_(),this.m_=0,"Online"===e&&(this.g_=!1),this.y_(e)}},{key:"y_",value:function(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}},{key:"w_",value:function(e){var t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.g_?($w(t),this.g_=!1):Yw("OnlineStateTracker",t)}},{key:"b_",value:function(){null!==this.f_&&(this.f_.cancel(),this.f_=null)}}])}(),$S=y((function e(t,n,r,i,a){var s=this;m(this,e),this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.D_=[],this.C_=new Map,this.v_=new Set,this.F_=[],this.M_=a,this.M_.io((function(e){r.enqueueAndForget(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=sL(s),!e.t0){e.next=5;break}return Yw("RemoteStore","Restarting streams for network reachability change."),e.next=5,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(n=t_(t)).v_.add(4),e.next=4,ZS(n);case 4:return n.x_.set("Unknown"),n.v_.delete(4),e.next=8,XS(n);case 8:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(s);case 5:case"end":return e.stop()}}),e)}))))})),this.x_=new YS(r,i)}));
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function XS(e){return JS.apply(this,arguments)}function JS(){return JS=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!sL(t)){e.next=18;break}n=x(t.F_),e.prev=2,n.s();case 4:if((r=n.n()).done){e.next=10;break}return i=r.value,e.next=8,i(!0);case 8:e.next=4;break;case 10:e.next=15;break;case 12:e.prev=12,e.t0=e.catch(2),n.e(e.t0);case 15:return e.prev=15,n.f(),e.finish(15);case 18:case"end":return e.stop()}}),e,null,[[2,12,15,18]])}))),JS.apply(this,arguments)}function ZS(e){return eL.apply(this,arguments)}function eL(){return eL=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=x(t.F_),e.prev=1,n.s();case 3:if((r=n.n()).done){e.next=9;break}return i=r.value,e.next=7,i(!1);case 7:e.next=3;break;case 9:e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),n.e(e.t0);case 14:return e.prev=14,n.f(),e.finish(14);case 17:case"end":return e.stop()}}),e,null,[[1,11,14,17]])}))),eL.apply(this,arguments)}function tL(e,t){var n=t_(e);n.C_.has(t.targetId)||(n.C_.set(t.targetId,t),oL(n)?aL(n):RL(n).Jo()&&rL(n,t))}function nL(e,t){var n=t_(e),r=RL(n);n.C_.delete(t),r.Jo()&&iL(n,t),0===n.C_.size&&(r.Jo()?r.Xo():sL(n)&&n.x_.set("Unknown"))}function rL(e,t){if(e.O_.Oe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(g_.min())>0){var n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}RL(e).c_(t)}function iL(e,t){e.O_.Oe(t),RL(e).l_(t)}function aL(e){e.O_=new kE({getRemoteKeysForTarget:function(t){return e.remoteSyncer.getRemoteKeysForTarget(t)},_t:function(t){return e.C_.get(t)||null},nt:function(){return e.datastore.serializer.databaseId}}),RL(e).start(),e.x_.p_()}function oL(e){return sL(e)&&!RL(e).Ho()&&e.C_.size>0}function sL(e){return 0===t_(e).v_.size}function uL(e){e.O_=void 0}function lL(e){return cL.apply(this,arguments)}function cL(){return cL=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t.C_.forEach((function(e,n){rL(t,e)}));case 1:case"end":return e.stop()}}),e)}))),cL.apply(this,arguments)}function fL(e,t){return hL.apply(this,arguments)}function hL(){return hL=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:uL(t),oL(t)?(t.x_.S_(n),aL(t)):t.x_.set("Unknown");case 1:case"end":return e.stop()}}),e)}))),hL.apply(this,arguments)}function dL(e,t,n){return vL.apply(this,arguments)}function vL(){return vL=u(o().mark((function e(t,n,r){var i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.x_.set("Online"),!(n instanceof gE&&2===n.state&&n.cause)){e.next=13;break}return e.prev=1,e.next=4,function(){var e=u(o().mark((function e(t,n){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=n.cause,i=x(n.targetIds),e.prev=2,i.s();case 4:if((a=i.n()).done){e.next=14;break}if(s=a.value,e.t0=t.C_.has(s),!e.t0){e.next=12;break}return e.next=10,t.remoteSyncer.rejectListen(s,r);case 10:t.C_.delete(s),t.O_.removeTarget(s);case 12:e.next=4;break;case 14:e.next=19;break;case 16:e.prev=16,e.t1=e.catch(2),i.e(e.t1);case 19:return e.prev=19,i.f(),e.finish(19);case 22:case"end":return e.stop()}}),e,null,[[2,16,19,22]])})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:e.next=11;break;case 6:return e.prev=6,e.t0=e.catch(1),Yw("RemoteStore","Failed to remove targets %s: %s ",n.targetIds.join(","),e.t0),e.next=11,pL(t,e.t0);case 11:case 22:e.next=29;break;case 13:if(n instanceof pE?t.O_.$e(n):n instanceof mE?t.O_.Je(n):t.O_.Ge(n),r.isEqual(g_.min())){e.next=29;break}return e.prev=14,e.next=17,ES(t.localStore);case 17:if(i=e.sent,e.t1=r.compareTo(i)>=0,!e.t1){e.next=22;break}return e.next=22,function(e,t){var n=e.O_.it(t);return n.targetChanges.forEach((function(n,r){if(n.resumeToken.approximateByteSize()>0){var i=e.C_.get(r);i&&e.C_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach((function(t,n){var r=e.C_.get(t);if(r){e.C_.set(t,r.withResumeToken(Z_.EMPTY_BYTE_STRING,r.snapshotVersion)),iL(e,t);var i=new JE(r.target,t,n,r.sequenceNumber);rL(e,i)}})),e.remoteSyncer.applyRemoteEvent(n)}(t,r);case 24:return e.prev=24,e.t2=e.catch(14),Yw("RemoteStore","Failed to raise snapshot:",e.t2),e.next=29,pL(t,e.t2);case 29:case"end":return e.stop()}}),e,null,[[1,6],[14,24]])}))),vL.apply(this,arguments)}function pL(e,t,n){return mL.apply(this,arguments)}function mL(){return mL=u(o().mark((function e(t,n,r){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(D_(n)){e.next=2;break}throw n;case 2:return t.v_.add(1),e.next=5,ZS(t);case 5:t.x_.set("Offline"),r||(r=function(){return ES(t.localStore)}),t.asyncQueue.enqueueRetryable(u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yw("RemoteStore","Retrying IndexedDB access"),e.next=3,r();case 3:return t.v_.delete(1),e.next=6,XS(t);case 6:case"end":return e.stop()}}),e)}))));case 8:case"end":return e.stop()}}),e)}))),mL.apply(this,arguments)}function gL(e,t){return t().catch((function(n){return pL(e,n,t)}))}function yL(e){return kL.apply(this,arguments)}function kL(){return kL=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=t_(t),r=FL(n),i=n.D_.length>0?n.D_[n.D_.length-1].batchId:-1;case 2:if(!bL(n)){e.next=19;break}return e.prev=3,e.next=6,LS(n.localStore,i);case 6:if(null!==(a=e.sent)){e.next=10;break}return 0===n.D_.length&&r.Xo(),e.abrupt("break",19);case 10:i=a.batchId,wL(n,a),e.next=17;break;case 13:return e.prev=13,e.t0=e.catch(3),e.next=17,pL(n,e.t0);case 17:e.next=2;break;case 19:_L(n)&&CL(n);case 20:case"end":return e.stop()}}),e,null,[[3,13]])}))),kL.apply(this,arguments)}function bL(e){return sL(e)&&e.D_.length<10}function wL(e,t){e.D_.push(t);var n=FL(e);n.Jo()&&n.P_&&n.I_(t.mutations)}function _L(e){return sL(e)&&!FL(e).Ho()&&e.D_.length>0}function CL(e){FL(e).start()}function xL(e){return EL.apply(this,arguments)}function EL(){return(EL=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:FL(t).d_();case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function SL(e){return LL.apply(this,arguments)}function LL(){return LL=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n=FL(t),r=x(t.D_);try{for(r.s();!(i=r.n()).done;)a=i.value,n.I_(a.mutations)}catch(o){r.e(o)}finally{r.f()}case 3:case"end":return e.stop()}}),e)}))),LL.apply(this,arguments)}function IL(e,t,n){return TL.apply(this,arguments)}function TL(){return TL=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t.D_.shift(),a=rE.from(i,n,r),e.next=3,gL(t,(function(){return t.remoteSyncer.applySuccessfulWrite(a)}));case 3:return e.next=5,yL(t);case 5:case"end":return e.stop()}}),e)}))),TL.apply(this,arguments)}function AL(e,t){return NL.apply(this,arguments)}function NL(){return NL=u(o().mark((function e(t,n){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=n&&FL(t).P_,!e.t0){e.next=4;break}return e.next=4,function(){var e=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!function(e){return oE(e)&&e!==n_.ABORTED}(n.code)){e.next=7;break}return r=t.D_.shift(),FL(t).Zo(),e.next=5,gL(t,(function(){return t.remoteSyncer.rejectFailedWrite(r.batchId,n)}));case 5:return e.next=7,yL(t);case 7:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()(t,n);case 4:_L(t)&&CL(t);case 5:case"end":return e.stop()}}),e)}))),NL.apply(this,arguments)}function ML(e,t){return OL.apply(this,arguments)}function OL(){return OL=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=t_(t)).asyncQueue.verifyOperationInProgress(),Yw("RemoteStore","RemoteStore received new credentials"),i=sL(r),r.v_.add(3),e.next=6,ZS(r);case 6:return i&&r.x_.set("Unknown"),e.next=9,r.remoteSyncer.handleCredentialChange(n);case 9:return r.v_.delete(3),e.next=12,XS(r);case 12:case"end":return e.stop()}}),e)}))),OL.apply(this,arguments)}function PL(e,t){return DL.apply(this,arguments)}function DL(){return DL=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t_(t),!n){e.next=7;break}return r.v_.delete(2),e.next=5,XS(r);case 5:e.next=13;break;case 7:if(e.t0=n,e.t0){e.next=13;break}return r.v_.add(2),e.next=12,ZS(r);case 12:r.x_.set("Unknown");case 13:case"end":return e.stop()}}),e)}))),DL.apply(this,arguments)}function RL(e){return e.N_||(e.N_=function(e,t,n){var r=t_(e);return r.R_(),new HS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)
/**
             * @license
             * Copyright 2018 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}(e.datastore,e.asyncQueue,{Po:lL.bind(null,e),To:fL.bind(null,e),u_:dL.bind(null,e)}),e.F_.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=4;break}e.N_.Zo(),oL(e)?aL(e):e.x_.set("Unknown"),t.next=7;break;case 4:return t.next=6,e.N_.stop();case 6:uL(e);case 7:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.N_}function FL(e){return e.L_||(e.L_=function(e,t,n){var r=t_(e);return r.R_(),new KS(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Po:xL.bind(null,e),To:AL.bind(null,e),E_:SL.bind(null,e),T_:IL.bind(null,e)}),e.F_.push(function(){var t=u(o().mark((function t(n){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(!n){t.next=6;break}return e.L_.Zo(),t.next=4,yL(e);case 4:t.next=9;break;case 6:return t.next=8,e.L_.stop();case 8:e.D_.length>0&&(Yw("RemoteStore","Stopping write stream with ".concat(e.D_.length," pending writes")),e.D_=[]);case 9:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}())),e.L_
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}var jL=function(){function e(t,n,r,i,a){m(this,e),this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new i_,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((function(e){}))}return y(e,[{key:"promise",get:function(){return this.deferred.promise}},{key:"start",value:function(e){var t=this;this.timerHandle=setTimeout((function(){return t.handleDelayElapsed()}),e)}},{key:"skipDelay",value:function(){return this.handleDelayElapsed()}},{key:"cancel",value:function(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new r_(n_.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}},{key:"handleDelayElapsed",value:function(){var e=this;this.asyncQueue.enqueueAndForget((function(){return null!==e.timerHandle?(e.clearTimeout(),e.op().then((function(t){return e.deferred.resolve(t)}))):Promise.resolve()}))}},{key:"clearTimeout",value:function(e){function t(){return e.apply(this,arguments)}return t.toString=function(){return e.toString()},t}((function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}))}],[{key:"createAndSchedule",value:function(t,n,r,i,a){var o=new e(t,n,Date.now()+r,i,a);return o.start(r),o}}])}();function VL(e,t){if($w("AsyncQueue","".concat(t,": ").concat(e)),D_(e))return new r_(n_.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var UL,BL,zL=function(){function e(t){m(this,e),this.comparator=t?function(e,n){return t(e,n)||__.comparator(e.key,n.key)}:function(e,t){return __.comparator(e.key,t.key)},this.keyedMap=vx(),this.sortedSet=new H_(this.comparator)}return y(e,[{key:"has",value:function(e){return null!=this.keyedMap.get(e)}},{key:"get",value:function(e){return this.keyedMap.get(e)}},{key:"first",value:function(){return this.sortedSet.minKey()}},{key:"last",value:function(){return this.sortedSet.maxKey()}},{key:"isEmpty",value:function(){return this.sortedSet.isEmpty()}},{key:"indexOf",value:function(e){var t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}},{key:"size",get:function(){return this.sortedSet.size}},{key:"forEach",value:function(e){this.sortedSet.inorderTraversal((function(t,n){return e(t),!1}))}},{key:"add",value:function(e){var t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}},{key:"delete",value:function(e){var t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}},{key:"isEqual",value:function(t){if(!(t instanceof e))return!1;if(this.size!==t.size)return!1;for(var n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}},{key:"toString",value:function(){var e=[];return this.forEach((function(t){e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}},{key:"copy",value:function(t,n){var r=new e;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}}],[{key:"emptySet",value:function(t){return new e(t.comparator)}}])}(),qL=function(){return y((function e(){m(this,e),this.B_=new H_(__.comparator)}),[{key:"track",value:function(e){var t=e.doc.key,n=this.B_.get(t);n?0!==e.type&&3===n.type?this.B_=this.B_.insert(t,e):3===e.type&&1!==n.type?this.B_=this.B_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.B_=this.B_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.B_=this.B_.remove(t):1===e.type&&2===n.type?this.B_=this.B_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.B_=this.B_.insert(t,{type:2,doc:e.doc}):Zw():this.B_=this.B_.insert(t,e)}},{key:"k_",value:function(){var e=[];return this.B_.inorderTraversal((function(t,n){e.push(n)})),e}}])}(),GL=function(){function e(t,n,r,i,a,o,s,u,l){m(this,e),this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=o,this.syncStateChanged=s,this.excludesMetadataChanges=u,this.hasCachedResults=l}return y(e,[{key:"hasPendingWrites",get:function(){return!this.mutatedKeys.isEmpty()}},{key:"isEqual",value:function(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ix(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;var t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(var r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}],[{key:"fromInitialDocuments",value:function(t,n,r,i,a){var o=[];return n.forEach((function(e){o.push({type:0,doc:e})})),new e(t,n,zL.emptySet(n),o,r,i,!0,!1,a)}}])}(),WL=function(){return y((function e(){m(this,e),this.q_=void 0,this.Q_=[]}),[{key:"K_",value:function(){return this.Q_.some((function(e){return e.U_()}))}}])}(),HL=y((function e(){m(this,e),this.queries=new cx((function(e){return ax(e)}),ix),this.onlineState="Unknown",this.W_=new Set}));
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function KL(e,t){return QL.apply(this,arguments)}function QL(){return QL=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t_(t),i=3,a=n.query,(s=r.queries.get(a))?!s.K_()&&n.U_()&&(i=2):(s=new WL,i=n.U_()?0:1),e.prev=5,e.t0=i,e.next=0===e.t0?9:1===e.t0?13:2===e.t0?17:19;break;case 9:return e.next=11,r.onListen(a,!0);case 11:return s.q_=e.sent,e.abrupt("break",19);case 13:return e.next=15,r.onListen(a,!1);case 15:return s.q_=e.sent,e.abrupt("break",19);case 17:return e.next=19,r.onFirstRemoteStoreListen(a);case 19:e.next=25;break;case 21:return e.prev=21,e.t1=e.catch(5),u=VL(e.t1,"Initialization of query '".concat(ox(n.query),"' failed")),e.abrupt("return",void n.onError(u));case 25:r.queries.set(a,s),s.Q_.push(n),n.G_(r.onlineState),s.q_&&n.z_(s.q_)&&ZL(r);case 26:case"end":return e.stop()}}),e,null,[[5,21]])}))),QL.apply(this,arguments)}function YL(e,t){return $L.apply(this,arguments)}function $L(){return $L=u(o().mark((function e(t,n){var r,i,a,s,u;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t_(t),i=n.query,a=3,(s=r.queries.get(i))&&(u=s.Q_.indexOf(n))>=0&&(s.Q_.splice(u,1),0===s.Q_.length?a=n.U_()?0:1:!s.K_()&&n.U_()&&(a=2)),e.t0=a,e.next=0===e.t0?7:1===e.t0?8:2===e.t0?9:10;break;case 7:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!0)));case 8:return e.abrupt("return",(r.queries.delete(i),r.onUnlisten(i,!1)));case 9:return e.abrupt("return",r.onLastRemoteStoreUnlisten(i));case 10:return e.abrupt("return");case 11:case"end":return e.stop()}}),e)}))),$L.apply(this,arguments)}function XL(e,t){var n,r=t_(e),i=!1,a=x(t);try{for(a.s();!(n=a.n()).done;){var o=n.value,s=o.query,u=r.queries.get(s);if(u){var l,c=x(u.Q_);try{for(c.s();!(l=c.n()).done;){l.value.z_(o)&&(i=!0)}}catch(f){c.e(f)}finally{c.f()}u.q_=o}}}catch(f){a.e(f)}finally{a.f()}i&&ZL(r)}function JL(e,t,n){var r=t_(e),i=r.queries.get(t);if(i){var a,o=x(i.Q_);try{for(o.s();!(a=o.n()).done;){a.value.onError(n)}}catch(s){o.e(s)}finally{o.f()}}r.queries.delete(t)}function ZL(e){e.W_.forEach((function(e){e.next()}))}(BL=UL||(UL={})).j_="default",BL.Cache="cache";var eI=function(){return y((function e(t,n,r){m(this,e),this.query=t,this.H_=n,this.J_=!1,this.Y_=null,this.onlineState="Unknown",this.options=r||{}}),[{key:"z_",value:function(e){if(!this.options.includeMetadataChanges){var t,n=[],r=x(e.docChanges);try{for(r.s();!(t=r.n()).done;){var i=t.value;3!==i.type&&n.push(i)}}catch(o){r.e(o)}finally{r.f()}e=new GL(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}var a=!1;return this.J_?this.Z_(e)&&(this.H_.next(e),a=!0):this.X_(e,this.onlineState)&&(this.ea(e),a=!0),this.Y_=e,a}},{key:"onError",value:function(e){this.H_.error(e)}},{key:"G_",value:function(e){this.onlineState=e;var t=!1;return this.Y_&&!this.J_&&this.X_(this.Y_,e)&&(this.ea(this.Y_),t=!0),t}},{key:"X_",value:function(e,t){if(!e.fromCache)return!0;if(!this.U_())return!0;var n="Offline"!==t;return(!this.options.ta||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}},{key:"Z_",value:function(e){if(e.docChanges.length>0)return!0;var t=this.Y_&&this.Y_.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}},{key:"ea",value:function(e){e=GL.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.J_=!0,this.H_.next(e)}},{key:"U_",value:function(){return this.options.source!==UL.Cache}}])}(),tI=y((function e(t){m(this,e),this.key=t})),nI=y((function e(t){m(this,e),this.key=t})),rI=function(){return y((function e(t,n){m(this,e),this.query=t,this.ua=n,this.ca=null,this.hasCachedResults=!1,this.current=!1,this.la=wx(),this.mutatedKeys=wx(),this.ha=ux(t),this.Pa=new zL(this.ha)}),[{key:"Ia",get:function(){return this.ua}},{key:"Ta",value:function(e,t){var n=this,r=t?t.Ea:new qL,i=t?t.Pa:this.Pa,a=t?t.mutatedKeys:this.mutatedKeys,o=i,s=!1,u="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,l="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((function(e,t){var c=i.get(e),f=sx(n.query,t)?t:null,h=!!c&&n.mutatedKeys.has(c.key),d=!!f&&(f.hasLocalMutations||n.mutatedKeys.has(f.key)&&f.hasCommittedMutations),v=!1;c&&f?c.data.isEqual(f.data)?h!==d&&(r.track({type:3,doc:f}),v=!0):n.da(c,f)||(r.track({type:2,doc:f}),v=!0,(u&&n.ha(f,u)>0||l&&n.ha(f,l)<0)&&(s=!0)):!c&&f?(r.track({type:0,doc:f}),v=!0):c&&!f&&(r.track({type:1,doc:c}),v=!0,(u||l)&&(s=!0)),v&&(f?(o=o.add(f),a=d?a.add(e):a.delete(e)):(o=o.delete(e),a=a.delete(e)))})),null!==this.query.limit)for(;o.size>this.query.limit;){var c="F"===this.query.limitType?o.last():o.first();o=o.delete(c.key),a=a.delete(c.key),r.track({type:1,doc:c})}return{Pa:o,Ea:r,Xi:s,mutatedKeys:a}}},{key:"da",value:function(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}},{key:"applyChanges",value:function(e,t,n,r){var i=this,a=this.Pa;this.Pa=e.Pa,this.mutatedKeys=e.mutatedKeys;var o=e.Ea.k_();o.sort((function(e,t){return function(e,t){var n=function(e){switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Zw()}};return n(e)-n(t)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e.type,t.type)||i.ha(e.doc,t.doc)})),this.Aa(n),r=null!=r&&r;var s=t&&!r?this.Ra():[],u=0===this.la.size&&this.current&&!r?1:0,l=u!==this.ca;return this.ca=u,0!==o.length||l?{snapshot:new GL(this.query,e.Pa,a,o,e.mutatedKeys,0===u,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),Va:s}:{Va:s}}},{key:"G_",value:function(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Pa:this.Pa,Ea:new qL,mutatedKeys:this.mutatedKeys,Xi:!1},!1)):{Va:[]}}},{key:"ma",value:function(e){return!this.ua.has(e)&&!!this.Pa.has(e)&&!this.Pa.get(e).hasLocalMutations}},{key:"Aa",value:function(e){var t=this;e&&(e.addedDocuments.forEach((function(e){return t.ua=t.ua.add(e)})),e.modifiedDocuments.forEach((function(e){})),e.removedDocuments.forEach((function(e){return t.ua=t.ua.delete(e)})),this.current=e.current)}},{key:"Ra",value:function(){var e=this;if(!this.current)return[];var t=this.la;this.la=wx(),this.Pa.forEach((function(t){e.ma(t.key)&&(e.la=e.la.add(t.key))}));var n=[];return t.forEach((function(t){e.la.has(t)||n.push(new nI(t))})),this.la.forEach((function(e){t.has(e)||n.push(new tI(e))})),n}},{key:"fa",value:function(e){this.ua=e.hs,this.la=wx();var t=this.Ta(e.documents);return this.applyChanges(t,!0)}},{key:"ga",value:function(){return GL.fromInitialDocuments(this.query,this.Pa,this.mutatedKeys,0===this.ca,this.hasCachedResults)}}])}(),iI=y((function e(t,n,r){m(this,e),this.query=t,this.targetId=n,this.view=r})),aI=y((function e(t){m(this,e),this.key=t,this.pa=!1})),oI=function(){return y((function e(t,n,r,i,a,o){m(this,e),this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=o,this.ya={},this.wa=new cx((function(e){return ax(e)}),ix),this.Sa=new Map,this.ba=new Set,this.Da=new H_(__.comparator),this.Ca=new Map,this.va=new lS,this.Fa={},this.Ma=new Map,this.xa=rS.Ln(),this.onlineState="Unknown",this.Oa=void 0}),[{key:"isPrimaryClient",get:function(){return!0===this.Oa}}])}();
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function sI(e,t){return uI.apply(this,arguments)}function uI(){return uI=u(o().mark((function e(t,n){var r,i,a,s,u=arguments;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=!(u.length>2&&void 0!==u[2])||u[2],i=zI(t),!(s=i.wa.get(n))){e.next=7;break}i.sharedClientState.addLocalQueryTarget(s.targetId),a=s.view.ga(),e.next=10;break;case 7:return e.next=9,fI(i,n,r,!0);case 9:a=e.sent;case 10:return e.abrupt("return",a);case 11:case"end":return e.stop()}}),e)}))),uI.apply(this,arguments)}function lI(e,t){return cI.apply(this,arguments)}function cI(){return cI=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=zI(t),e.next=3,fI(r,n,!0,!1);case 3:case"end":return e.stop()}}),e)}))),cI.apply(this,arguments)}function fI(e,t,n,r){return hI.apply(this,arguments)}function hI(){return hI=u(o().mark((function e(t,n,r,i){var a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,IS(t.localStore,nx(n));case 2:if(a=e.sent,s=a.targetId,u=r?t.sharedClientState.addLocalQueryTarget(s):"not-current",e.t0=i,!e.t0){e.next=10;break}return e.next=9,dI(t,n,s,"current"===u,a.resumeToken);case 9:l=e.sent;case 10:return t.isPrimaryClient&&r&&tL(t.remoteStore,a),e.abrupt("return",l);case 12:case"end":return e.stop()}}),e)}))),hI.apply(this,arguments)}function dI(e,t,n,r,i){return vI.apply(this,arguments)}function vI(){return vI=u(o().mark((function e(t,n,r,i,a){var s,l,c,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.Na=function(e,n,r){return(i=u(o().mark((function e(t,n,r,i){var a,s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=n.view.Ta(r),e.t0=a.Xi,!e.t0){e.next=6;break}return e.next=5,NS(t.localStore,n.query,!1).then((function(e){var t=e.documents;return n.view.Ta(t,a)}));case 5:a=e.sent;case 6:return s=i&&i.targetChanges.get(n.targetId),u=i&&null!=i.targetMismatches.get(n.targetId),l=n.view.applyChanges(a,t.isPrimaryClient,s,u),e.abrupt("return",(PI(t,n.targetId,l.Va),l.snapshot));case 8:case"end":return e.stop()}}),e)}))),function(e,t,n,r){return i.apply(this,arguments)})(t,e,n,r);var i},e.next=3,NS(t.localStore,n,!0);case 3:return s=e.sent,l=new rI(n,s.hs),c=l.Ta(s.documents),f=vE.createSynthesizedTargetChangeForCurrentChange(r,i&&"Offline"!==t.onlineState,a),h=l.applyChanges(c,t.isPrimaryClient,f),PI(t,r,h.Va),d=new iI(n,r,l),e.abrupt("return",(t.wa.set(n,d),t.Sa.has(r)?t.Sa.get(r).push(n):t.Sa.set(r,[n]),h.snapshot));case 11:case"end":return e.stop()}}),e)}))),vI.apply(this,arguments)}function pI(e,t,n){return mI.apply(this,arguments)}function mI(){return mI=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t_(t),a=i.wa.get(n),!((s=i.Sa.get(a.targetId)).length>1)){e.next=3;break}return e.abrupt("return",(i.Sa.set(a.targetId,s.filter((function(e){return!ix(e,n)}))),void i.wa.delete(n)));case 3:if(!i.isPrimaryClient){e.next=11;break}if(i.sharedClientState.removeLocalQueryTarget(a.targetId),e.t0=i.sharedClientState.isActiveQueryTarget(a.targetId),e.t0){e.next=9;break}return e.next=9,TS(i.localStore,a.targetId,!1).then((function(){i.sharedClientState.clearQueryState(a.targetId),r&&nL(i.remoteStore,a.targetId),MI(i,a.targetId)})).catch(I_);case 9:e.next=14;break;case 11:return MI(i,a.targetId),e.next=14,TS(i.localStore,a.targetId,!0);case 14:case"end":return e.stop()}}),e)}))),mI.apply(this,arguments)}function gI(e,t){return yI.apply(this,arguments)}function yI(){return yI=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t_(t),i=r.wa.get(n),a=r.Sa.get(i.targetId),r.isPrimaryClient&&1===a.length&&(r.sharedClientState.removeLocalQueryTarget(i.targetId),nL(r.remoteStore,i.targetId));case 2:case"end":return e.stop()}}),e)}))),yI.apply(this,arguments)}function kI(e,t,n){return bI.apply(this,arguments)}function bI(){return bI=u(o().mark((function e(t,n,r){var i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=qI(t),e.prev=1,e.next=4,function(e,t){var n,r,i=t_(e),a=m_.now(),o=t.reduce((function(e,t){return e.add(t.key)}),wx());return i.persistence.runTransaction("Locally write mutations","readwrite",(function(e){var s=hx(),u=wx();return i.os.getEntries(e,o).next((function(e){(s=e).forEach((function(e,t){t.isValidDocument()||(u=u.add(e))}))})).next((function(){return i.localDocuments.getOverlayedDocuments(e,s)})).next((function(r){n=r;var o,s=[],u=x(t);try{for(u.s();!(o=u.n()).done;){var l=o.value,c=Wx(l,n.get(l.key).overlayedDocument);null!=c&&s.push(new Qx(l.key,c,xC(c.value.mapValue),Vx.exists(!0)))}}catch(f){u.e(f)}finally{u.f()}return i.mutationQueue.addMutationBatch(e,a,s,t)})).next((function(t){r=t;var a=t.applyToLocalDocumentSet(n,u);return i.documentOverlayCache.saveOverlays(e,t.batchId,a)}))})).then((function(){return{batchId:r.batchId,changes:px(n)}}))}(i.localStore,n);case 4:return a=e.sent,i.sharedClientState.addPendingMutation(a.batchId),function(e,t,n){var r=e.Fa[e.currentUser.toKey()];r||(r=new H_(v_)),r=r.insert(t,n),e.Fa[e.currentUser.toKey()]=r}(i,a.batchId,r),e.next=9,FI(i,a.changes);case 9:return e.next=11,yL(i.remoteStore);case 11:e.next=17;break;case 13:e.prev=13,e.t0=e.catch(1),s=VL(e.t0,"Failed to persist write"),r.reject(s);case 17:case"end":return e.stop()}}),e,null,[[1,13]])}))),bI.apply(this,arguments)}function wI(e,t){return _I.apply(this,arguments)}function _I(){return _I=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t_(t),e.prev=1,e.next=4,SS(r.localStore,n);case 4:return i=e.sent,n.targetChanges.forEach((function(e,t){var n=r.Ca.get(t);n&&(e_(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?n.pa=!0:e.modifiedDocuments.size>0?e_(n.pa):e.removedDocuments.size>0&&(e_(n.pa),n.pa=!1))})),e.next=8,FI(r,i,n);case 8:e.next=14;break;case 10:return e.prev=10,e.t0=e.catch(1),e.next=14,I_(e.t0);case 14:case"end":return e.stop()}}),e,null,[[1,10]])}))),_I.apply(this,arguments)}function CI(e,t,n){var r=t_(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){var i=[];r.wa.forEach((function(e,n){var r=n.view.G_(t);r.snapshot&&i.push(r.snapshot)})),function(e,t){var n=t_(e);n.onlineState=t;var r=!1;n.queries.forEach((function(e,n){var i,a=x(n.Q_);try{for(a.s();!(i=a.n()).done;){i.value.G_(t)&&(r=!0)}}catch(o){a.e(o)}finally{a.f()}})),r&&ZL(n)}(r.eventManager,t),i.length&&r.ya.u_(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}function xI(e,t,n){return EI.apply(this,arguments)}function EI(){return EI=u(o().mark((function e(t,n,r){var i,a,s,u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((i=t_(t)).sharedClientState.updateQueryState(n,"rejected",r),a=i.Ca.get(n),!(s=a&&a.key)){e.next=14;break}return u=(u=new H_(__.comparator)).insert(s,EC.newNoDocument(s,g_.min())),l=wx().add(s),c=new dE(g_.min(),new Map,new H_(v_),u,l),e.next=9,wI(i,c);case 9:i.Da=i.Da.remove(s),i.Ca.delete(n),RI(i),e.next=16;break;case 14:return e.next=16,TS(i.localStore,n,!1).then((function(){return MI(i,n,r)})).catch(I_);case 16:case"end":return e.stop()}}),e)}))),EI.apply(this,arguments)}function SI(e,t){return LI.apply(this,arguments)}function LI(){return LI=u(o().mark((function e(t,n){var r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t_(t),i=n.batch.batchId,e.prev=1,e.next=4,xS(r.localStore,n);case 4:return a=e.sent,NI(r,i,null),AI(r,i),r.sharedClientState.updateMutationState(i,"acknowledged"),e.next=10,FI(r,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,I_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),LI.apply(this,arguments)}function II(e,t,n){return TI.apply(this,arguments)}function TI(){return TI=u(o().mark((function e(t,n,r){var i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=t_(t),e.prev=1,e.next=4,function(e,t){var n=t_(e);return n.persistence.runTransaction("Reject batch","readwrite-primary",(function(e){var r;return n.mutationQueue.lookupMutationBatch(e,t).next((function(t){return e_(null!==t),r=t.keys(),n.mutationQueue.removeMutationBatch(e,t)})).next((function(){return n.mutationQueue.performConsistencyCheck(e)})).next((function(){return n.documentOverlayCache.removeOverlaysForBatchId(e,r,t)})).next((function(){return n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(e,r)})).next((function(){return n.localDocuments.getDocuments(e,r)}))}))}(i.localStore,n);case 4:return a=e.sent,NI(i,n,r),AI(i,n),i.sharedClientState.updateMutationState(n,"rejected",r),e.next=10,FI(i,a);case 10:e.next=16;break;case 12:return e.prev=12,e.t0=e.catch(1),e.next=16,I_(e.t0);case 16:case"end":return e.stop()}}),e,null,[[1,12]])}))),TI.apply(this,arguments)}function AI(e,t){(e.Ma.get(t)||[]).forEach((function(e){e.resolve()})),e.Ma.delete(t)}function NI(e,t,n){var r=t_(e),i=r.Fa[r.currentUser.toKey()];if(i){var a=i.get(t);a&&(n?a.reject(n):a.resolve(),i=i.remove(t)),r.Fa[r.currentUser.toKey()]=i}}function MI(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);var r,i=x(e.Sa.get(t));try{for(i.s();!(r=i.n()).done;){var a=r.value;e.wa.delete(a),n&&e.ya.La(a,n)}}catch(o){i.e(o)}finally{i.f()}e.Sa.delete(t),e.isPrimaryClient&&e.va.Vr(t).forEach((function(t){e.va.containsKey(t)||OI(e,t)}))}function OI(e,t){e.ba.delete(t.path.canonicalString());var n=e.Da.get(t);null!==n&&(nL(e.remoteStore,n),e.Da=e.Da.remove(t),e.Ca.delete(n),RI(e))}function PI(e,t,n){var r,i=x(n);try{for(i.s();!(r=i.n()).done;){var a=r.value;a instanceof tI?(e.va.addReference(a.key,t),DI(e,a)):a instanceof nI?(Yw("SyncEngine","Document no longer in limbo: "+a.key),e.va.removeReference(a.key,t),e.va.containsKey(a.key)||OI(e,a.key)):Zw()}}catch(o){i.e(o)}finally{i.f()}}function DI(e,t){var n=t.key,r=n.path.canonicalString();e.Da.get(n)||e.ba.has(r)||(Yw("SyncEngine","New document in limbo: "+n),e.ba.add(r),RI(e))}function RI(e){for(;e.ba.size>0&&e.Da.size<e.maxConcurrentLimboResolutions;){var t=e.ba.values().next().value;e.ba.delete(t);var n=new __(k_.fromString(t)),r=e.xa.next();e.Ca.set(r,new aI(n)),e.Da=e.Da.insert(n,r),tL(e.remoteStore,new JE(nx(ZC(n.path)),r,"TargetPurposeLimboResolution",U_._e))}}function FI(e,t,n){return jI.apply(this,arguments)}function jI(){return jI=u(o().mark((function e(t,n,r){var i,a,s,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=t_(t),a=[],s=[],l=[],e.t0=i.wa.isEmpty(),e.t0){e.next=9;break}return i.wa.forEach((function(e,t){l.push(i.Na(t,n,r).then((function(e){if((e||r)&&i.isPrimaryClient&&i.sharedClientState.updateQueryState(t.targetId,(null==e?void 0:e.fromCache)?"not-current":"current"),e){a.push(e);var n=yS.Ki(t.targetId,e);s.push(n)}})))})),e.next=6,Promise.all(l);case 6:return i.ya.u_(a),e.next=9,function(){var e=u(o().mark((function e(t,n){var r,i,a,s,u,l,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t_(t),e.prev=1,e.next=4,r.persistence.runTransaction("notifyLocalViewChanges","readwrite",(function(e){return A_.forEach(n,(function(t){return A_.forEach(t.qi,(function(n){return r.persistence.referenceDelegate.addReference(e,t.targetId,n)})).next((function(){return A_.forEach(t.Qi,(function(n){return r.persistence.referenceDelegate.removeReference(e,t.targetId,n)}))}))}))}));case 4:e.next=11;break;case 6:if(e.prev=6,e.t0=e.catch(1),D_(e.t0)){e.next=10;break}throw e.t0;case 10:Yw("LocalStore","Failed to update sequence numbers: "+e.t0);case 11:i=x(n);try{for(i.s();!(a=i.n()).done;)s=a.value,u=s.targetId,s.fromCache||(l=r.ns.get(u),c=l.snapshotVersion,f=l.withLastLimboFreeSnapshotVersion(c),r.ns=r.ns.insert(u,f))}catch(o){i.e(o)}finally{i.f()}case 13:case"end":return e.stop()}}),e,null,[[1,6]])})));return function(t,n){return e.apply(this,arguments)}}()(i.localStore,s);case 9:case"end":return e.stop()}}),e)}))),jI.apply(this,arguments)}function VI(e,t){return UI.apply(this,arguments)}function UI(){return UI=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if((r=t_(t)).currentUser.isEqual(n)){e.next=11;break}return Yw("SyncEngine","User change. New user:",n.toKey()),e.next=5,_S(r.localStore,n);case 5:return i=e.sent,r.currentUser=n,function(e,t){e.Ma.forEach((function(e){e.forEach((function(e){e.reject(new r_(n_.CANCELLED,t))}))})),e.Ma.clear()}(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(n,i.removedBatchIds,i.addedBatchIds),e.next=11,FI(r,i.us);case 11:case"end":return e.stop()}}),e)}))),UI.apply(this,arguments)}function BI(e,t){var n=t_(e),r=n.Ca.get(t);if(r&&r.pa)return wx().add(r.key);var i=wx(),a=n.Sa.get(t);if(!a)return i;var o,s=x(a);try{for(s.s();!(o=s.n()).done;){var u=o.value,l=n.wa.get(u);i=i.unionWith(l.view.Ia)}}catch(c){s.e(c)}finally{s.f()}return i}function zI(e){var t=t_(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=wI.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=BI.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=xI.bind(null,t),t.ya.u_=XL.bind(null,t.eventManager),t.ya.La=JL.bind(null,t.eventManager),t}function qI(e){var t=t_(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=SI.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=II.bind(null,t),t}var GI=function(){return y((function e(){m(this,e),this.synchronizeTabs=!1}),[{key:"initialize",value:(t=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.serializer=qS(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),e.next=5,this.persistence.start();case 5:this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore);case 8:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})},{key:"createGarbageCollectionScheduler",value:function(e,t){return null}},{key:"createIndexBackfillerScheduler",value:function(e,t){return null}},{key:"createLocalStore",value:function(e){return function(e,t,n,r){return new wS(e,t,n,r)}(this.persistence,new bS,e.initialUser,this.serializer)}},{key:"createPersistence",value:function(e){return new pS(gS.Hr,this.serializer)}},{key:"createSharedClientState",value:function(e){return new OS}},{key:"terminate",value:(e=u(o().mark((function e(){var t,n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return null===(t=this.gcScheduler)||void 0===t||t.stop(),null===(n=this.indexBackfillerScheduler)||void 0===n||n.stop(),this.sharedClientState.shutdown(),e.next=5,this.persistence.shutdown();case 5:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}(),WI=function(){return y((function e(){m(this,e)}),[{key:"initialize",value:(t=u(o().mark((function e(t,n){var r=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.localStore,e.t0){e.next=12;break}return this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=function(e){return CI(r.syncEngine,e,1)},this.remoteStore.remoteSyncer.handleCredentialChange=VI.bind(null,this.syncEngine),e.next=12,PL(this.remoteStore,this.syncEngine.isPrimaryClient);case 12:case"end":return e.stop()}}),e,this)}))),function(e,n){return t.apply(this,arguments)})},{key:"createEventManager",value:function(e){return new HL}},{key:"createDatastore",value:function(e){var t=qS(e.databaseInfo.databaseId),n=function(e){return new BS(e)}(e.databaseInfo);return function(e,t,n,r){return new QS(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}},{key:"createRemoteStore",value:function(e){var t=this;return function(e,t,n,r,i){return new $S(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(function(e){return CI(t.syncEngine,e,0)}),DS.D()?new DS:new PS)}},{key:"createSyncEngine",value:function(e,t){return function(e,t,n,r,i,a,o){var s=new oI(e,t,n,r,i,a);return o&&(s.Oa=!0),s}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}},{key:"terminate",value:(e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,function(){var e=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t_(t),Yw("RemoteStore","RemoteStore shutting down."),n.v_.add(5),e.next=5,ZS(n);case 5:n.M_.shutdown(),n.x_.set("Unknown");case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()(this.remoteStore);case 2:null===(t=this.datastore)||void 0===t||t.terminate();case 3:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})}]);var e,t}(),HI=function(){return y((function e(t){m(this,e),this.observer=t,this.muted=!1}),[{key:"next",value:function(e){this.observer.next&&this.qa(this.observer.next,e)}},{key:"error",value:function(e){this.observer.error?this.qa(this.observer.error,e):$w("Uncaught Error in snapshot listener:",e.toString())}},{key:"Qa",value:function(){this.muted=!0}},{key:"qa",value:function(e,t){var n=this;this.muted||setTimeout((function(){n.muted||e(t)}),0)}}])}(),KI=function(){return y((function e(t,n,r,i){var a=this;m(this,e),this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Ww.UNAUTHENTICATED,this.clientId=d_.newId(),this.authCredentialListener=function(){return Promise.resolve()},this.appCheckCredentialListener=function(){return Promise.resolve()},this.authCredentials.start(r,function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return Yw("FirestoreClient","Received user=",t.uid),e.next=3,a.authCredentialListener(t);case 3:a.user=t;case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),this.appCheckCredentials.start(r,(function(e){return Yw("FirestoreClient","Received new app check token=",e),a.appCheckCredentialListener(e,a.user)}))}),[{key:"configuration",get:function(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}},{key:"setCredentialChangeListener",value:function(e){this.authCredentialListener=e}},{key:"setAppCheckTokenChangeListener",value:function(e){this.appCheckCredentialListener=e}},{key:"verifyNotTerminated",value:function(){if(this.asyncQueue.isShuttingDown)throw new r_(n_.FAILED_PRECONDITION,"The client has already been terminated.")}},{key:"terminate",value:function(){var e=this;this.asyncQueue.enterRestrictedMode();var t=new i_;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(u(o().mark((function n(){var r;return o().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,n.t0=e._onlineComponents,!n.t0){n.next=5;break}return n.next=5,e._onlineComponents.terminate();case 5:if(n.t1=e._offlineComponents,!n.t1){n.next=9;break}return n.next=9,e._offlineComponents.terminate();case 9:e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve(),n.next=18;break;case 14:n.prev=14,n.t2=n.catch(0),r=VL(n.t2,"Failed to shutdown persistence"),t.reject(r);case 18:case"end":return n.stop()}}),n,null,[[0,14]])})))),t.promise}}])}();function QI(e,t){return YI.apply(this,arguments)}function YI(){return YI=u(o().mark((function e(t,n){var r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),Yw("FirestoreClient","Initializing OfflineComponentProvider"),r=t.configuration,e.next=4,n.initialize(r);case 4:i=r.initialUser,t.setCredentialChangeListener(function(){var e=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=i.isEqual(t),e.t0){e.next=5;break}return e.next=4,_S(n.localStore,t);case 4:i=t;case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),n.persistence.setDatabaseDeletedListener((function(){return t.terminate()})),t._offlineComponents=n;case 6:case"end":return e.stop()}}),e)}))),YI.apply(this,arguments)}function $I(e,t){return XI.apply(this,arguments)}function XI(){return XI=u(o().mark((function e(t,n){var r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.asyncQueue.verifyOperationInProgress(),e.next=3,ZI(t);case 3:return r=e.sent,Yw("FirestoreClient","Initializing OnlineComponentProvider"),e.next=7,n.initialize(r,t.configuration);case 7:t.setCredentialChangeListener((function(e){return ML(n.remoteStore,e)})),t.setAppCheckTokenChangeListener((function(e,t){return ML(n.remoteStore,t)})),t._onlineComponents=n;case 10:case"end":return e.stop()}}),e)}))),XI.apply(this,arguments)}function JI(e){return"FirebaseError"===e.name?e.code===n_.FAILED_PRECONDITION||e.code===n_.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}function ZI(e){return eT.apply(this,arguments)}function eT(){return(eT=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t._offlineComponents){e.next=21;break}if(!t._uninitializedComponentsProvider){e.next=18;break}return Yw("FirestoreClient","Using user provided OfflineComponentProvider"),e.prev=3,e.next=6,QI(t,t._uninitializedComponentsProvider._offline);case 6:e.next=16;break;case 8:if(e.prev=8,e.t0=e.catch(3),JI(n=e.t0)){e.next=13;break}throw n;case 13:return Xw("Error using user provided cache. Falling back to memory cache: "+n),e.next=16,QI(t,new GI);case 16:e.next=21;break;case 18:return Yw("FirestoreClient","Using default OfflineComponentProvider"),e.next=21,QI(t,new GI);case 21:return e.abrupt("return",t._offlineComponents);case 22:case"end":return e.stop()}}),e,null,[[3,8]])})))).apply(this,arguments)}function tT(e){return nT.apply(this,arguments)}function nT(){return(nT=u(o().mark((function e(t){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=t._onlineComponents,e.t0){e.next=11;break}if(!t._uninitializedComponentsProvider){e.next=8;break}return Yw("FirestoreClient","Using user provided OnlineComponentProvider"),e.next=6,$I(t,t._uninitializedComponentsProvider._online);case 6:e.next=11;break;case 8:return Yw("FirestoreClient","Using default OnlineComponentProvider"),e.next=11,$I(t,new WI);case 11:return e.abrupt("return",t._onlineComponents);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function rT(e){return tT(e).then((function(e){return e.syncEngine}))}function iT(e){return aT.apply(this,arguments)}function aT(){return aT=u(o().mark((function e(t){var n,r;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,tT(t);case 2:return n=e.sent,r=n.eventManager,e.abrupt("return",(r.onListen=sI.bind(null,n.syncEngine),r.onUnlisten=pI.bind(null,n.syncEngine),r.onFirstRemoteStoreListen=lI.bind(null,n.syncEngine),r.onLastRemoteStoreUnlisten=gI.bind(null,n.syncEngine),r));case 5:case"end":return e.stop()}}),e)}))),aT.apply(this,arguments)}
/**
             * @license
             * Copyright 2023 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
function oT(e){var t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */}var sT=new Map;
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function uT(e,t,n){if(!n)throw new r_(n_.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function lT(e){if(!__.isDocumentKey(e))throw new r_(n_.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function cT(e){if(__.isDocumentKey(e))throw new r_(n_.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but ".concat(e," has ").concat(e.length,"."))}function fT(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==C(e)){if(e instanceof Array)return"an array";var t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}return"function"==typeof e?"a function":Zw()}function hT(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new r_(n_.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");var n=fT(e);throw new r_(n_.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}return e}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var dT=function(){return y((function e(t){var n,r;if(m(this,e),void 0===t.host){if(void 0!==t.ssl)throw new r_(n_.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=null===(n=t.ssl)||void 0===n||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.localCache=t.localCache,void 0===t.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new r_(n_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new r_(n_.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===t.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=oT(null!==(r=t.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new r_(n_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new r_(n_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new r_(n_.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}),[{key:"isEqual",value:function(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}])}(),vT=function(){return y((function e(t,n,r,i){m(this,e),this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new dT({}),this._settingsFrozen=!1}),[{key:"app",get:function(){if(!this._app)throw new r_(n_.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}},{key:"_initialized",get:function(){return this._settingsFrozen}},{key:"_terminated",get:function(){return void 0!==this._terminateTask}},{key:"_setSettings",value:function(e){if(this._settingsFrozen)throw new r_(n_.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new dT(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new o_;switch(e.type){case"firstParty":return new l_(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new r_(n_.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}},{key:"_getSettings",value:function(){return this._settings}},{key:"_freezeSettings",value:function(){return this._settingsFrozen=!0,this._settings}},{key:"_delete",value:function(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}},{key:"toJSON",value:function(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}},{key:"_terminate",value:function(){return function(e){var t=sT.get(e);t&&(Yw("ComponentProvider","Removing Datastore"),sT.delete(e),t.terminate())}(this),Promise.resolve()}}])}(),pT=function(){function e(t,n,r){m(this,e),this.converter=n,this._query=r,this.type="query",this.firestore=t}return y(e,[{key:"withConverter",value:function(t){return new e(this.firestore,t,this._query)}}])}(),mT=function(){function e(t,n,r){m(this,e),this.converter=n,this._key=r,this.type="document",this.firestore=t}return y(e,[{key:"_path",get:function(){return this._key.path}},{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"path",get:function(){return this._key.path.canonicalString()}},{key:"parent",get:function(){return new gT(this.firestore,this.converter,this._key.path.popLast())}},{key:"withConverter",value:function(t){return new e(this.firestore,t,this._key)}}])}(),gT=function(e){function t(e,n,r){var i;return m(this,t),(i=f(this,t,[e,n,ZC(r)]))._path=r,i.type="collection",i}return v(t,e),y(t,[{key:"id",get:function(){return this._query.path.lastSegment()}},{key:"path",get:function(){return this._query.path.canonicalString()}},{key:"parent",get:function(){var e=this._path.popLast();return e.isEmpty()?null:new mT(this.firestore,null,new __(e))}},{key:"withConverter",value:function(e){return new t(this.firestore,e,this._path)}}])}(pT);function yT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bm(e),uT("collection","path",t),e instanceof vT){var a=k_.fromString.apply(k_,[t].concat(r));return cT(a),new gT(e,null,a)}if(!(e instanceof mT||e instanceof gT))throw new r_(n_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(k_.fromString.apply(k_,[t].concat(r)));return cT(o),new gT(e.firestore,null,o)}function kT(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=bm(e),1===arguments.length&&(t=d_.newId()),uT("doc","path",t),e instanceof vT){var a=k_.fromString.apply(k_,[t].concat(r));return lT(a),new mT(e,null,new __(a))}if(!(e instanceof mT||e instanceof gT))throw new r_(n_.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");var o=e._path.child(k_.fromString.apply(k_,[t].concat(r)));return lT(o),new mT(e.firestore,e instanceof gT?e.converter:null,new __(o))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var bT=function(){return y((function e(){var t=this;m(this,e),this.nu=Promise.resolve(),this.ru=[],this.iu=!1,this.su=[],this.ou=null,this._u=!1,this.au=!1,this.uu=[],this.jo=new GS(this,"async_queue_retry"),this.cu=function(){var e=zS();e&&Yw("AsyncQueue","Visibility state changed to "+e.visibilityState),t.jo.Ko()};var n=zS();n&&"function"==typeof n.addEventListener&&n.addEventListener("visibilitychange",this.cu)}),[{key:"isShuttingDown",get:function(){return this.iu}},{key:"enqueueAndForget",value:function(e){this.enqueue(e)}},{key:"enqueueAndForgetEvenWhileRestricted",value:function(e){this.lu(),this.hu(e)}},{key:"enterRestrictedMode",value:function(e){if(!this.iu){this.iu=!0,this.au=e||!1;var t=zS();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.cu)}}},{key:"enqueue",value:function(e){var t=this;if(this.lu(),this.iu)return new Promise((function(){}));var n=new i_;return this.hu((function(){return t.iu&&t.au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)})).then((function(){return n.promise}))}},{key:"enqueueRetryable",value:function(e){var t=this;this.enqueueAndForget((function(){return t.ru.push(e),t.Pu()}))}},{key:"Pu",value:(t=u(o().mark((function e(){var t=this;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0===this.ru.length){e.next=14;break}return e.prev=1,e.next=4,this.ru[0]();case 4:this.ru.shift(),this.jo.reset(),e.next=13;break;case 8:if(e.prev=8,e.t0=e.catch(1),D_(e.t0)){e.next=12;break}throw e.t0;case 12:Yw("AsyncQueue","Operation failed with retryable error: "+e.t0);case 13:this.ru.length>0&&this.jo.qo((function(){return t.Pu()}));case 14:case"end":return e.stop()}}),e,this,[[1,8]])}))),function(){return t.apply(this,arguments)})},{key:"hu",value:function(e){var t=this,n=this.nu.then((function(){return t._u=!0,e().catch((function(e){t.ou=e,t._u=!1;var n=function(e){var t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}
/**
             * @license
             * Copyright 2017 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e);throw $w("INTERNAL UNHANDLED ERROR: ",n),e})).then((function(e){return t._u=!1,e}))}));return this.nu=n,n}},{key:"enqueueAfterDelay",value:function(e,t,n){var r=this;this.lu(),this.uu.indexOf(e)>-1&&(t=0);var i=jL.createAndSchedule(this,e,t,n,(function(e){return r.Iu(e)}));return this.su.push(i),i}},{key:"lu",value:function(){this.ou&&Zw()}},{key:"verifyOperationInProgress",value:function(){}},{key:"Tu",value:(e=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.nu,e.next=3,t;case 3:if(t!==this.nu){e.next=0;break}case 4:case"end":return e.stop()}}),e,this)}))),function(){return e.apply(this,arguments)})},{key:"Eu",value:function(e){var t,n=x(this.su);try{for(n.s();!(t=n.n()).done;){if(t.value.timerId===e)return!0}}catch(r){n.e(r)}finally{n.f()}return!1}},{key:"du",value:function(e){var t=this;return this.Tu().then((function(){t.su.sort((function(e,t){return e.targetTimeMs-t.targetTimeMs}));var n,r=x(t.su);try{for(r.s();!(n=r.n()).done;){var i=n.value;if(i.skipDelay(),"all"!==e&&i.timerId===e)break}}catch(a){r.e(a)}finally{r.f()}return t.Tu()}))}},{key:"Au",value:function(e){this.uu.push(e)}},{key:"Iu",value:function(e){var t=this.su.indexOf(e);this.su.splice(t,1)}}]);var e,t}();function wT(e){return function(e,t){if("object"!=C(e)||null===e)return!1;var n,r=e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=n.value;if(a in r&&"function"==typeof r[a])return!0}}catch(o){i.e(o)}finally{i.f()}return!1}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */(e,["next","error","complete"])}var _T=function(e){function t(e,n,r,i){var a;return m(this,t),(a=f(this,t,[e,n,r,i])).type="firestore",a._queue=new bT,a._persistenceKey=(null==i?void 0:i.name)||"[DEFAULT]",a}return v(t,e),y(t,[{key:"_terminate",value:function(){return this._firestoreClient||xT(this),this._firestoreClient.terminate()}}])}(vT);function CT(e){return e._firestoreClient||xT(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function xT(e){var t,n,r,i=e._freezeSettings(),a=function(e,t,n,r){return new sC(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,oT(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new KI(e._authCredentials,e._appCheckCredentials,e._queue,a),(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var ET=function(){function e(t){m(this,e),this._byteString=t}return y(e,[{key:"toBase64",value:function(){return this._byteString.toBase64()}},{key:"toUint8Array",value:function(){return this._byteString.toUint8Array()}},{key:"toString",value:function(){return"Bytes(base64: "+this.toBase64()+")"}},{key:"isEqual",value:function(e){return this._byteString.isEqual(e._byteString)}}],[{key:"fromBase64String",value:function(t){try{return new e(Z_.fromBase64String(t))}catch(t){throw new r_(n_.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}},{key:"fromUint8Array",value:function(t){return new e(Z_.fromUint8Array(t))}}])}(),ST=function(){return y((function e(){m(this,e);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(var i=0;i<n.length;++i)if(0===n[i].length)throw new r_(n_.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new w_(n)}),[{key:"isEqual",value:function(e){return this._internalPath.isEqual(e._internalPath)}}])}(),LT=y((function e(t){m(this,e),this._methodName=t})),IT=function(){return y((function e(t,n){if(m(this,e),!isFinite(t)||t<-90||t>90)throw new r_(n_.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new r_(n_.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}),[{key:"latitude",get:function(){return this._lat}},{key:"longitude",get:function(){return this._long}},{key:"isEqual",value:function(e){return this._lat===e._lat&&this._long===e._long}},{key:"toJSON",value:function(){return{latitude:this._lat,longitude:this._long}}},{key:"_compareTo",value:function(e){return v_(this._lat,e._lat)||v_(this._long,e._long)}}])}(),TT=/^__.*__$/,AT=function(){return y((function e(t,n,r){m(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}),[{key:"toMutation",value:function(e,t){return null!==this.fieldMask?new Qx(e,this.data,this.fieldMask,t,this.fieldTransforms):new Kx(e,this.data,t,this.fieldTransforms)}}])}(),NT=function(){return y((function e(t,n,r){m(this,e),this.data=t,this.fieldMask=n,this.fieldTransforms=r}),[{key:"toMutation",value:function(e,t){return new Qx(e,this.data,this.fieldMask,t,this.fieldTransforms)}}])}();
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function MT(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Zw()}}var OT=function(){function e(t,n,r,i,a,o){m(this,e),this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===a&&this.Ru(),this.fieldTransforms=a||[],this.fieldMask=o||[]}return y(e,[{key:"path",get:function(){return this.settings.path}},{key:"Vu",get:function(){return this.settings.Vu}},{key:"mu",value:function(t){return new e(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}},{key:"fu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.pu(e),r}},{key:"yu",value:function(e){var t,n=null===(t=this.path)||void 0===t?void 0:t.child(e),r=this.mu({path:n,gu:!1});return r.Ru(),r}},{key:"wu",value:function(e){return this.mu({path:void 0,gu:!0})}},{key:"Su",value:function(e){return WT(e,this.settings.methodName,this.settings.bu||!1,this.path,this.settings.Du)}},{key:"contains",value:function(e){return void 0!==this.fieldMask.find((function(t){return e.isPrefixOf(t)}))||void 0!==this.fieldTransforms.find((function(t){return e.isPrefixOf(t.field)}))}},{key:"Ru",value:function(){if(this.path)for(var e=0;e<this.path.length;e++)this.pu(this.path.get(e))}},{key:"pu",value:function(e){if(0===e.length)throw this.Su("Document fields must not be empty");if(MT(this.Vu)&&TT.test(e))throw this.Su('Document fields cannot begin and end with "__"')}}])}(),PT=function(){return y((function e(t,n,r){m(this,e),this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||qS(t)}),[{key:"Cu",value:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return new OT({Vu:e,methodName:t,Du:n,path:w_.emptyPath(),gu:!1,bu:r},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}])}();function DT(e){var t=e._freezeSettings(),n=qS(e._databaseId);return new PT(e._databaseId,!!t.ignoreUndefinedProperties,n)}function RT(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:{},o=e.Cu(a.merge||a.mergeFields?2:0,t,n,i);BT("Data must be an object, but it was:",o,r);var s,u,l=VT(r,o);if(a.merge)s=new X_(o.fieldMask),u=o.fieldTransforms;else if(a.mergeFields){var c,f=[],h=x(a.mergeFields);try{for(h.s();!(c=h.n()).done;){var d=zT(t,c.value,n);if(!o.contains(d))throw new r_(n_.INVALID_ARGUMENT,"Field '".concat(d,"' is specified in your field mask but missing from your input data."));HT(f,d)||f.push(d)}}catch(v){h.e(v)}finally{h.f()}s=new X_(f),u=o.fieldTransforms.filter((function(e){return s.covers(e.field)}))}else s=null,u=o.fieldTransforms;return new AT(new CC(l),s,u)}var FT=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t,[{key:"_toFieldTransform",value:function(e){if(2!==e.Vu)throw 1===e.Vu?e.Su("".concat(this._methodName,"() can only appear at the top level of your update data")):e.Su("".concat(this._methodName,"() cannot be used with set() unless you pass {merge:true}"));return e.fieldMask.push(e.path),null}},{key:"isEqual",value:function(e){return e instanceof t}}])}(LT);function jT(e,t){if(UT(e=bm(e)))return BT("Unsupported field value:",t,e),VT(e,t);if(e instanceof LT)return function(e,t){if(!MT(t.Vu))throw t.Su("".concat(e._methodName,"() can only be used with update() and set()"));if(!t.path)throw t.Su("".concat(e._methodName,"() is not currently supported inside arrays"));var n=e._toFieldTransform(t);n&&t.fieldTransforms.push(n)}(e,t),null;if(void 0===e&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.gu&&4!==t.Vu)throw t.Su("Nested arrays are not supported");return function(e,t){var n,r=[],i=0,a=x(e);try{for(a.s();!(n=a.n()).done;){var o=jT(n.value,t.wu(i));null==o&&(o={nullValue:"NULL_VALUE"}),r.push(o),i++}}catch(s){a.e(s)}finally{a.f()}return{arrayValue:{values:r}}}(e,t)}return function(e,t){if(null===(e=bm(e)))return{nullValue:"NULL_VALUE"};if("number"==typeof e)return Ex(t.serializer,e);if("boolean"==typeof e)return{booleanValue:e};if("string"==typeof e)return{stringValue:e};if(e instanceof Date){var n=m_.fromDate(e);return{timestampValue:LE(t.serializer,n)}}if(e instanceof m_){var r=new m_(e.seconds,1e3*Math.floor(e.nanoseconds/1e3));return{timestampValue:LE(t.serializer,r)}}if(e instanceof IT)return{geoPointValue:{latitude:e.latitude,longitude:e.longitude}};if(e instanceof ET)return{bytesValue:IE(t.serializer,e._byteString)};if(e instanceof mT){var i=t.databaseId,a=e.firestore._databaseId;if(!a.isEqual(i))throw t.Su("Document reference is for database ".concat(a.projectId,"/").concat(a.database," but should be for database ").concat(i.projectId,"/").concat(i.database));return{referenceValue:NE(e.firestore._databaseId||t.databaseId,e._key.path)}}throw t.Su("Unsupported field value: ".concat(fT(e)))}(e,t)}function VT(e,t){var n={};return W_(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):G_(e,(function(e,r){var i=jT(r,t.fu(e));null!=i&&(n[e]=i)})),{mapValue:{fields:n}}}function UT(e){return!("object"!=C(e)||null===e||e instanceof Array||e instanceof Date||e instanceof m_||e instanceof IT||e instanceof ET||e instanceof mT||e instanceof LT)}function BT(e,t,n){if(!UT(n)||!function(e){return"object"==C(e)&&null!==e&&(Object.getPrototypeOf(e)===Object.prototype||null===Object.getPrototypeOf(e))}(n)){var r=fT(n);throw"an object"===r?t.Su(e+" a custom object"):t.Su(e+" "+r)}}function zT(e,t,n){if((t=bm(t))instanceof ST)return t._internalPath;if("string"==typeof t)return GT(e,t);throw WT("Field path arguments must be of type string or ",e,!1,void 0,n)}var qT=new RegExp("[~\\*/\\[\\]]");function GT(e,t,n){if(t.search(qT)>=0)throw WT("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return a(ST,_(t.split(".")))._internalPath}catch(Fg){throw WT("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function WT(e,t,n,r,i){var a=r&&!r.isEmpty(),o=void 0!==i,s="Function ".concat(t,"() called with invalid data");n&&(s+=" (via `toFirestore()`)"),s+=". ";var u="";return(a||o)&&(u+=" (found",a&&(u+=" in field ".concat(r)),o&&(u+=" in document ".concat(i)),u+=")"),new r_(n_.INVALID_ARGUMENT,s+e+u)}function HT(e,t){return e.some((function(e){return e.isEqual(t)}))}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var KT=function(){return y((function e(t,n,r,i,a){m(this,e),this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}),[{key:"id",get:function(){return this._key.path.lastSegment()}},{key:"ref",get:function(){return new mT(this._firestore,this._converter,this._key)}},{key:"exists",value:function(){return null!==this._document}},{key:"data",value:function(){if(this._document){if(this._converter){var e=new QT(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}},{key:"get",value:function(e){if(this._document){var t=this._document.data.field(YT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}])}(),QT=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t,[{key:"data",value:function(){return r(d(t.prototype),"data",this).call(this)}}])}(KT);function YT(e,t){return"string"==typeof t?GT(e,t):t instanceof ST?t._internalPath:t._delegate._internalPath}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */var $T=function(){return y((function e(){m(this,e)}),[{key:"convertValue",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(cC(e)){case 0:return null;case 1:return e.booleanValue;case 2:return nC(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(rC(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw Zw()}}},{key:"convertObject",value:function(e,t){return this.convertObjectMap(e.fields,t)}},{key:"convertObjectMap",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none",r={};return G_(e,(function(e,i){r[e]=t.convertValue(i,n)})),r}},{key:"convertGeoPoint",value:function(e){return new IT(nC(e.latitude),nC(e.longitude))}},{key:"convertArray",value:function(e,t){var n=this;return(e.values||[]).map((function(e){return n.convertValue(e,t)}))}},{key:"convertServerTimestamp",value:function(e,t){switch(t){case"previous":var n=aC(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(oC(e));default:return null}}},{key:"convertTimestamp",value:function(e){var t=tC(e);return new m_(t.seconds,t.nanos)}},{key:"convertDocumentKey",value:function(e,t){var n=k_.fromString(e);e_(XE(n));var r=new uC(n.get(1),n.get(3)),i=new __(n.popFirst(5));return r.isEqual(t)||$w("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}])}();
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
var XT=function(){return y((function e(t,n){m(this,e),this.hasPendingWrites=t,this.fromCache=n}),[{key:"isEqual",value:function(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}])}(),JT=function(e){function t(e,n,r,i,a,o){var s;return m(this,t),(s=f(this,t,[e,n,r,i,o]))._firestore=e,s._firestoreImpl=e,s.metadata=a,s}return v(t,e),y(t,[{key:"exists",value:function(){return r(d(t.prototype),"exists",this).call(this)}},{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){var t=new ZT(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}},{key:"get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){var n=this._document.data.field(YT("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}])}(KT),ZT=function(e){function t(){return m(this,t),f(this,t,arguments)}return v(t,e),y(t,[{key:"data",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return r(d(t.prototype),"data",this).call(this,e)}}])}(JT),eA=function(){return y((function e(t,n,r,i){m(this,e),this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new XT(i.hasPendingWrites,i.fromCache),this.query=r}),[{key:"docs",get:function(){var e=[];return this.forEach((function(t){return e.push(t)})),e}},{key:"size",get:function(){return this._snapshot.docs.size}},{key:"empty",get:function(){return 0===this.size}},{key:"forEach",value:function(e,t){var n=this;this._snapshot.docs.forEach((function(r){e.call(t,new ZT(n._firestore,n._userDataWriter,r.key,r,new XT(n._snapshot.mutatedKeys.has(r.key),n._snapshot.fromCache),n.query.converter))}))}},{key:"docChanges",value:function(){var e=!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).includeMetadataChanges;if(e&&this._snapshot.excludesMetadataChanges)throw new r_(n_.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=function(e,t){if(e._snapshot.oldDocs.isEmpty()){var n=0;return e._snapshot.docChanges.map((function(t){var r=new ZT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter);return t.doc,{type:"added",doc:r,oldIndex:-1,newIndex:n++}}))}var r=e._snapshot.oldDocs;return e._snapshot.docChanges.filter((function(e){return t||3!==e.type})).map((function(t){var n=new ZT(e._firestore,e._userDataWriter,t.doc.key,t.doc,new XT(e._snapshot.mutatedKeys.has(t.doc.key),e._snapshot.fromCache),e.query.converter),i=-1,a=-1;return 0!==t.type&&(i=r.indexOf(t.doc.key),r=r.delete(t.doc.key)),1!==t.type&&(a=(r=r.add(t.doc)).indexOf(t.doc.key)),{type:tA(t.type),doc:n,oldIndex:i,newIndex:a}}))}(this,e),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges}}])}();function tA(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Zw()}}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */function nA(e){e=hT(e,mT);var t=hT(e.firestore,_T);return function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new i_;return e.asyncQueue.enqueueAndForget(u(o().mark((function i(){return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:return i.t0=function(e,t,n,r,i){var a=new HI({next:function(a){t.enqueueAndForget((function(){return YL(e,o)}));var s=a.docs.has(n);!s&&a.fromCache?i.reject(new r_(n_.UNAVAILABLE,"Failed to get document because the client is offline.")):s&&a.fromCache&&r&&"server"===r.source?i.reject(new r_(n_.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(a)},error:function(e){return i.reject(e)}}),o=new eI(ZC(n.path),a,{includeMetadataChanges:!0,ta:!0});return KL(e,o)},i.next=3,iT(e);case 3:return i.t1=i.sent,i.t2=e.asyncQueue,i.t3=t,i.t4=n,i.t5=r,i.abrupt("return",(0,i.t0)(i.t1,i.t2,i.t3,i.t4,i.t5));case 9:case"end":return i.stop()}}),i)})))),r.promise}(CT(t),e._key).then((function(n){return uA(t,e,n)}))}var rA=function(e){function t(e){var n;return m(this,t),(n=f(this,t)).firestore=e,n}return v(t,e),y(t,[{key:"convertBytes",value:function(e){return new ET(e)}},{key:"convertReference",value:function(e){var t=this.convertDocumentKey(e,this.firestore._databaseId);return new mT(this.firestore,null,t)}}])}($T);function iA(e,t,n){e=hT(e,mT);for(var r,i=hT(e.firestore,_T),a=DT(i),o=arguments.length,s=new Array(o>3?o-3:0),u=3;u<o;u++)s[u-3]=arguments[u];return r="string"==typeof(t=bm(t))||t instanceof ST?function(e,t,n,r,i,a){var o=e.Cu(1,t,n),s=[zT(t,r,n)],u=[i];if(a.length%2!=0)throw new r_(n_.INVALID_ARGUMENT,"Function ".concat(t,"() needs to be called with an even number of arguments that alternate between field names and values."));for(var l=0;l<a.length;l+=2)s.push(zT(t,a[l])),u.push(a[l+1]);for(var c=[],f=CC.empty(),h=s.length-1;h>=0;--h)if(!HT(c,s[h])){var d=s[h],v=u[h];v=bm(v);var p=o.yu(d);if(v instanceof FT)c.push(d);else{var m=jT(v,p);null!=m&&(c.push(d),f.set(d,m))}}var g=new X_(c);return new NT(f,g,o.fieldTransforms)}(a,"updateDoc",e._key,t,n,s):function(e,t,n,r){var i=e.Cu(1,t,n);BT("Data must be an object, but it was:",i,r);var a=[],o=CC.empty();G_(r,(function(e,r){var s=GT(t,e,n);r=bm(r);var u=i.yu(s);if(r instanceof FT)a.push(s);else{var l=jT(r,u);null!=l&&(a.push(s),o.set(s,l))}}));var s=new X_(a);return new NT(o,s,i.fieldTransforms)}(a,"updateDoc",e._key,t),sA(i,[r.toMutation(e._key,Vx.exists(!0))])}function aA(e,t){var n=hT(e.firestore,_T),r=kT(e),i=function(e,t,n){return e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t}(e.converter,t);return sA(n,[RT(DT(e.firestore),"addDoc",r._key,i,null!==e.converter,{}).toMutation(r._key,Vx.exists(!1))]).then((function(){return r}))}function oA(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];var i,a,s;e=bm(e);var l={includeMetadataChanges:!1,source:"default"},c=0;"object"!=C(n[c])||wT(n[c])||(l=n[c],c++);var f,h,d,v={includeMetadataChanges:l.includeMetadataChanges,source:l.source};if(wT(n[c])){var p=n[c];n[c]=null===(i=p.next)||void 0===i?void 0:i.bind(p),n[c+1]=null===(a=p.error)||void 0===a?void 0:a.bind(p),n[c+2]=null===(s=p.complete)||void 0===s?void 0:s.bind(p)}if(e instanceof mT)h=hT(e.firestore,_T),d=ZC(e._key.path),f={next:function(t){n[c]&&n[c](uA(h,e,t))},error:n[c+1],complete:n[c+2]};else{var m=hT(e,pT);h=hT(m.firestore,_T),d=m._query;var g=new rA(h);f={next:function(e){n[c]&&n[c](new eA(h,g,m,e))},error:n[c+1],complete:n[c+2]},function(e){if("L"===e.limitType&&0===e.explicitOrderBy.length)throw new r_(n_.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(e._query)}return function(e,t,n,r){var i=new HI(r),a=new eI(t,i,n);return e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=KL,t.next=3,iT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)})))),function(){i.Qa(),e.asyncQueue.enqueueAndForget(u(o().mark((function t(){return o().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.t0=YL,t.next=3,iT(e);case 3:return t.t1=t.sent,t.t2=a,t.abrupt("return",(0,t.t0)(t.t1,t.t2));case 6:case"end":return t.stop()}}),t)}))))}}(CT(h),d,v,f)}function sA(e,t){return function(e,t){var n=new i_;return e.asyncQueue.enqueueAndForget(u(o().mark((function r(){return o().wrap((function(r){for(;;)switch(r.prev=r.next){case 0:return r.t0=kI,r.next=3,rT(e);case 3:return r.t1=r.sent,r.t2=t,r.t3=n,r.abrupt("return",(0,r.t0)(r.t1,r.t2,r.t3));case 7:case"end":return r.stop()}}),r)})))),n.promise}(CT(e),t)}function uA(e,t,n){var r=n.docs.get(t._key),i=new rA(e);return new JT(e,i,t._key,r,new XT(n.hasPendingWrites,n.fromCache),t.converter)}
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */!function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){Hw=e}("10.11.0"),ig(new wm("firestore",(function(e,n){var r=n.instanceIdentifier,i=n.options,a=e.getProvider("app").getImmediate(),o=new _T(new s_(e.getProvider("auth-internal")),new f_(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new r_(n_.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new uC(e.options.projectId,t)}(a,r),a);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o}),"PUBLIC").setMultipleInstances(!0)),ug(Gw,"4.6.0",e),ug(Gw,"4.6.0","esm2017")}();
/**
             * @license
             * Copyright 2020 Google LLC
             *
             * Licensed under the Apache License, Version 2.0 (the "License");
             * you may not use this file except in compliance with the License.
             * You may obtain a copy of the License at
             *
             *   http://www.apache.org/licenses/LICENSE-2.0
             *
             * Unless required by applicable law or agreed to in writing, software
             * distributed under the License is distributed on an "AS IS" BASIS,
             * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
             * See the License for the specific language governing permissions and
             * limitations under the License.
             */
ug("firebase","10.11.0","app");var lA=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;"object"!==C(t)&&(t={name:t});var r,i=Object.assign({name:"[DEFAULT]",automaticDataCollectionEnabled:!1},t),a=i.name;if("string"!=typeof a||!a)throw og.create("bad-app-name",{appName:String(a)});if(n||(n=null===(r=cm())||void 0===r?void 0:r.config),!n)throw og.create("no-options");var o=eg.get(a);if(o){if(ym(n,o.options)&&ym(i,o.config))return o;throw og.create("duplicate-app",{appName:a})}var s,u=new Em(a),l=x(ng.values());try{for(l.s();!(s=l.n()).done;){var c=s.value;u.addComponent(c)}}catch(h){l.e(h)}finally{l.f()}var f=new sg(n,i,u);return eg.set(a,f),f}({apiKey:"AIzaSyDJsIcF_jVDnNf7VGwGtLX2Fs5UiK3u8G8",authDomain:"peer-chess-20535.firebaseapp.com",projectId:"peer-chess-20535",storageBucket:"peer-chess-20535.appspot.com",messagingSenderId:"249834096947",appId:"1:249834096947:web:9116716c18a90b0493d646"}),cA=function(e,t,n){n||(n="(default)");var r=function(e,t){var n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}(e,"firestore");if(r.isInitialized(n)){var i=r.getImmediate({identifier:n});if(ym(r.getOptions(n),t))return i;throw new r_(n_.FAILED_PRECONDITION,"initializeFirestore() has already been called with different options. To avoid this error, call initializeFirestore() with the same options as when it was originally called, or call getFirestore() to return the already initialized instance.")}if(void 0!==t.cacheSizeBytes&&void 0!==t.localCache)throw new r_(n_.INVALID_ARGUMENT,"cache and cacheSizeBytes cannot be specified at the same time as cacheSizeBytes willbe deprecated. Instead, specify the cache size in the cache object");if(void 0!==t.cacheSizeBytes&&-1!==t.cacheSizeBytes&&t.cacheSizeBytes<1048576)throw new r_(n_.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");return r.initialize({options:t,instanceIdentifier:n})}(lA,{ignoreUndefinedProperties:!0});function fA(e){return!!Le()&&(Ie(e),!0)}function hA(e){return"function"==typeof e?e():Jt(e)}var dA="undefined"!=typeof window&&"undefined"!=typeof document;"undefined"!=typeof WorkerGlobalScope&&(globalThis,WorkerGlobalScope);var vA=Object.prototype.toString,pA=function(e){return"[object Object]"===vA.call(e)},mA=function(){};var gA=function(e){return e()};function yA(t,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.eventFilter,o=void 0===a?gA:a,s=n(i,e);return Kn(t,function(e,t){return function(){for(var n=this,r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return new Promise((function(r,a){Promise.resolve(e((function(){return t.apply(n,i)}),{fn:t,thisArg:n,args:i})).then(r).catch(a)}))}}(o,r),s)}function kA(e,r){var i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=i.eventFilter,o=n(i,t),s=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gA,t=Qt(!0);return{isActive:Pt(t),pause:function(){t.value=!1},resume:function(){t.value=!0},eventFilter:function(){t.value&&e.apply(void 0,arguments)}}}(a),u=s.eventFilter,l=s.pause,f=s.resume,h=s.isActive;return{stop:yA(e,r,c(c({},o),{},{eventFilter:u})),pause:l,resume:f,isActive:h}}function bA(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=arguments.length>2?arguments[2]:void 0,r=function(e){return e||ta()}();r?_r(e,n):t?e():yn(e)}function wA(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1e3,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.immediate,i=void 0===r||r,a=n.immediateCallback,o=void 0!==a&&a,s=null,u=Qt(!1);function l(){s&&(clearInterval(s),s=null)}function c(){u.value=!1,l()}function f(){var n=hA(t);n<=0||(u.value=!0,o&&e(),l(),s=setInterval(e,n))}(i&&dA&&f(),Kt(t)||"function"==typeof t)&&fA(Kn(t,(function(){u.value&&dA&&f()})));return fA(c),{isActive:u,pause:c,resume:f}}var _A=dA?window:void 0;function CA(){for(var e,t,n,r,i=arguments.length,a=new Array(i),o=0;o<i;o++)a[o]=arguments[o];if("string"==typeof a[0]||Array.isArray(a[0])?(t=a[0],n=a[1],r=a[2],e=_A):(e=a[0],t=a[1],n=a[2],r=a[3]),!e)return mA;Array.isArray(t)||(t=[t]),Array.isArray(n)||(n=[n]);var s=[],u=function(){s.forEach((function(e){return e()})),s.length=0},l=Kn((function(){return[(t=e,i=hA(t),null!=(n=null==i?void 0:i.$el)?n:i),hA(r)];var t,n,i}),(function(e){var r=w(e,2),i=r[0],a=r[1];if(u(),i){var o=pA(a)?c({},a):a;s.push.apply(s,_(t.flatMap((function(e){return n.map((function(t){return function(e,t,n,r){return e.addEventListener(t,n,r),function(){return e.removeEventListener(t,n,r)}}(i,e,t,o)}))}))))}}),{immediate:!0,flush:"post"}),f=function(){l(),u()};return fA(f),f}var xA="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},EA="__vueuse_ssr_handlers__",SA=LA();function LA(){return EA in xA||(xA[EA]=xA[EA]||{}),xA[EA]}var IA={boolean:{read:function(e){return"true"===e},write:function(e){return String(e)}},object:{read:function(e){return JSON.parse(e)},write:function(e){return JSON.stringify(e)}},number:{read:function(e){return Number.parseFloat(e)},write:function(e){return String(e)}},any:{read:function(e){return e},write:function(e){return String(e)}},string:{read:function(e){return e},write:function(e){return String(e)}},map:{read:function(e){return new Map(JSON.parse(e))},write:function(e){return JSON.stringify(Array.from(e.entries()))}},set:{read:function(e){return new Set(JSON.parse(e))},write:function(e){return JSON.stringify(Array.from(e))}},date:{read:function(e){return new Date(e)},write:function(e){return e.toISOString()}}},TA="vueuse-storage";function AA(e,t,n){var r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},a=i.flush,o=void 0===a?"pre":a,s=i.deep,u=void 0===s||s,l=i.listenToStorageChanges,f=void 0===l||l,h=i.writeDefaults,d=void 0===h||h,v=i.mergeDefaults,p=void 0!==v&&v,m=i.shallow,g=i.window,y=void 0===g?_A:g,k=i.eventFilter,b=i.onError,w=void 0===b?function(e){console.error(e)}:b,_=i.initOnMounted,x=(m?Yt:Qt)("function"==typeof t?t():t);if(!n)try{n=function(e,t){return SA[e]||t}("getDefaultStorage",(function(){var e;return null==(e=_A)?void 0:e.localStorage}))()}catch(P){w(P)}if(!n)return x;var E=hA(t),S=function(e){return null==e?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":"boolean"==typeof e?"boolean":"string"==typeof e?"string":"object"===C(e)?"object":Number.isNaN(e)?"any":"number"}(E),L=null!=(r=i.serializer)?r:IA[S],I=kA(x,(function(){return function(t){try{var r=n.getItem(e);if(null==t)N(r,null),n.removeItem(e);else{var i=L.write(t);r!==i&&(n.setItem(e,i),N(r,i))}}catch(P){w(P)}}(x.value)}),{flush:o,deep:u,eventFilter:k}),T=I.pause,A=I.resume;function N(t,r){y&&y.dispatchEvent(new CustomEvent(TA,{detail:{key:e,oldValue:t,newValue:r,storageArea:n}}))}function M(t){if(!t||t.storageArea===n)if(t&&null==t.key)x.value=E;else if(!t||t.key===e){T();try{(null==t?void 0:t.newValue)!==L.write(x.value)&&(x.value=function(t){var r=t?t.newValue:n.getItem(e);if(null==r)return d&&null!=E&&n.setItem(e,L.write(E)),E;if(!t&&p){var i=L.read(r);return"function"==typeof p?p(i,E):"object"!==S||Array.isArray(i)?i:c(c({},E),i)}return"string"!=typeof r?r:L.read(r)}(t))}catch(P){w(P)}finally{t?yn(A):A()}}}function O(e){M(e.detail)}return y&&f&&bA((function(){CA(y,"storage",M),CA(y,TA,O),_&&M()})),_||M(),x}function NA(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.window,i=void 0===r?_A:r;return AA(e,t,null==i?void 0:i.sessionStorage,n)}var MA=jf("RoomStore",{state:function(){return{roomId:NA("RoomStore$roomId",""),roomOwner:NA("RoomStore$roomOwner",!1),gameStarted:NA("RoomStore$gameStarted",!1),atLeastAGameStarted:NA("RoomStore$atLeastAGameStarted",!1)}},actions:{setRoomId:function(e){this.roomId||(this.roomId=e)},setRoomOwner:function(e){this.roomOwner||(this.roomOwner=e)},setGameStartedStatus:function(e){this.gameStarted=e},setAtLeastAGameStartedStatus:function(e){this.atLeastAGameStarted=e}},persist:sessionStorage});function OA(e){return oA(yT(cA,"rooms"),(function(t){t.forEach(e)}))}function PA(e,t){return oA(kT(cA,"rooms",e),(function(e){t(e)}))}function DA(e){return RA.apply(this,arguments)}function RA(){return(RA=u(o().mark((function e(t){var n,r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.nickname,r=0===n.length,i=n.length<4,!r){e.next=5;break}return e.abrupt("return",{error:"pages.createRoom.errors.emptyNickname"});case 5:if(!i){e.next=7;break}return e.abrupt("return",{error:"pages.createRoom.errors.tooShortNickname"});case 7:return e.prev=7,a=yT(cA,"rooms"),e.next=11,aA(a,{origin:nm,hostUser:n});case 11:return s=e.sent,e.abrupt("return",{result:s});case 15:return e.prev=15,e.t0=e.catch(7),console.error(e.t0),e.abrupt("return",{error:"pages.createRoom.errors.failedCreatingRoom",isFatalError:!0});case 19:case"end":return e.stop()}}),e,null,[[7,15]])})))).apply(this,arguments)}function FA(e){return jA.apply(this,arguments)}function jA(){return(jA=u(o().mark((function e(t){var n,r,i,a,s,u,l,c,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.nickname,r=t.roomId,i=0===n.length,a=n.length<4,s=0===r.length,!i){e.next=6;break}return e.abrupt("return",{error:"pages.joinRoom.errors.emptyNickname"});case 6:if(!a){e.next=8;break}return e.abrupt("return",{error:"pages.joinRoom.errors.tooShortNickname"});case 8:if(!s){e.next=10;break}return e.abrupt("return",{error:"pages.joinRoom.errors.emptyRoomId"});case 10:return e.prev=10,u=kT(cA,"rooms",r),e.next=14,nA(u);case 14:if(l=e.sent,!!l.exists()){e.next=18;break}return e.abrupt("return",{error:"pages.joinRoom.errors.noMatchingRoom"});case 18:if(c=l.data(),!c.guestUser){e.next=22;break}return e.abrupt("return",{error:"pages.joinRoom.errors.alreadyFilledRoom"});case 22:return f={guestUser:n},e.next=25,iA(u,f);case 25:return MA().setRoomId(r),e.abrupt("return",{isOk:!0});case 30:return e.prev=30,e.t0=e.catch(10),console.error(e.t0),e.abrupt("return",{error:"pages.joinRoom.errors.failedJoiningRoom",isFatalError:!0});case 34:case"end":return e.stop()}}),e,null,[[10,30]])})))).apply(this,arguments)}function VA(e){return UA.apply(this,arguments)}function UA(){return(UA=u(o().mark((function e(t){var n,r,i,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.newValues,r=t.roomId,e.prev=1,i=kT(cA,"rooms",r),e.next=5,nA(i);case 5:if(a=e.sent,!!a.exists()){e.next=10;break}return console.error("No matching room when trying to update!"),e.abrupt("return",{error:"page.generic.errors.failedUpdatingRoom",isFatalError:!0});case 10:return e.next=12,iA(i,n);case 12:return e.abrupt("return",{isOk:!0});case 15:return e.prev=15,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{error:"pages.generic.errors.failedUpdatingRoom",isFatalError:!0});case 19:case"end":return e.stop()}}),e,null,[[1,15]])})))).apply(this,arguments)}function BA(e){return zA.apply(this,arguments)}function zA(){return(zA=u(o().mark((function e(t){var n,r,i;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,e.prev=1,r=kT(cA,"rooms",n),e.next=5,nA(r);case 5:if(i=e.sent,!!i.exists()){e.next=10;break}return console.error("No matching room when trying to update!"),e.abrupt("return",{error:"page.generic.errors.failedUpdatingRoom",isFatalError:!0});case 10:return e.abrupt("return",{isOk:!0,matchingDocument:i.data()});case 13:return e.prev=13,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{error:"pages.generic.errors.failedReadingRoom",isFatalError:!0});case 17:case"end":return e.stop()}}),e,null,[[1,13]])})))).apply(this,arguments)}function qA(e){return GA.apply(this,arguments)}function GA(){return(GA=u(o().mark((function e(t){var n,r,i,a,s,u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.roomId,r=t.fieldsNames,e.prev=1,i=kT(cA,"rooms",n),e.next=5,nA(i);case 5:if(a=e.sent,!!a.exists()){e.next=10;break}return console.error("No matching room when trying to update!"),e.abrupt("return",{error:"page.generic.errors.failedDeletingFieldsFromRoom",isFatalError:!0});case 10:s={},u=x(r);try{for(u.s();!(l=u.n()).done;)c=l.value,s[c]=new FT("deleteField")}catch(o){u.e(o)}finally{u.f()}return e.next=15,iA(i,s);case 15:return e.abrupt("return",{isOk:!0});case 18:return e.prev=18,e.t0=e.catch(1),console.error(e.t0),e.abrupt("return",{error:"pages.generic.errors.failedDeletingFieldsFromRoom",isFatalError:!0});case 22:case"end":return e.stop()}}),e,null,[[1,18]])})))).apply(this,arguments)}var WA=function(e,t){var n,r=e.__vccOpts||e,i=x(t);try{for(i.s();!(n=i.n()).done;){var a=w(n.value,2),o=a[0],s=a[1];r[o]=s}}catch(u){i.e(u)}finally{i.f()}return r},HA={id:"root"},KA={key:0},QA=["src"],YA={__name:"HomePage",setup:function(e){var t=gf().t,n=au(),r=MA();function i(){n.push({path:"/create-room",replace:!0})}function a(){n.push({path:"/join-room",replace:!0})}function s(){return l.apply(this,arguments)}function l(){return(l=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.writeText(r.roomId);case 2:ah({text:t("pages.home.roomIdCopied")});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var c=Qt();function f(e){var t=e.data(),i=r.roomId===e.id,a=![null,void 0].includes(t.guestUser),o=r.roomOwner;i&&a&&o&&n.push({path:"/game",replace:!0})}function h(){return(h=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:c.value=OA(f);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}return _r((function(){return h.apply(this,arguments)})),Er((function(){c.value&&c.value()})),function(e,n){return Li(),Ni("div",HA,[ji("h2",null,_e(Jt(t)("pages.home.title")),1),Jt(r).roomId&&Jt(r).roomOwner?(Li(),Ni("div",KA,[zi(_e(Jt(t)("pages.home.yourRoom"))+" : #"+_e(Jt(r).roomId)+" ",1),ji("button",{onClick:s,class:"copyButton"},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M15.24%202H11.3458C9.58159%201.99999%208.18418%201.99997%207.09054%202.1476C5.96501%202.29953%205.05402%202.61964%204.33559%203.34096C3.61717%204.06227%203.29833%204.97692%203.14701%206.10697C2.99997%207.205%202.99999%208.60802%203%2010.3793V16.2169C3%2017.725%203.91995%2019.0174%205.22717%2019.5592C5.15989%2018.6498%205.15994%2017.3737%205.16%2016.312L5.16%2011.3976L5.16%2011.3024C5.15993%2010.0207%205.15986%208.91644%205.27828%208.03211C5.40519%207.08438%205.69139%206.17592%206.4253%205.43906C7.15921%204.70219%208.06404%204.41485%209.00798%204.28743C9.88877%204.16854%2010.9887%204.1686%2012.2652%204.16867L12.36%204.16868H15.24L15.3348%204.16867C16.6113%204.1686%2017.7088%204.16854%2018.5896%204.28743C18.0627%202.94779%2016.7616%202%2015.24%202Z'%20fill='%231C274C'/%3e%3cpath%20d='M6.6001%2011.3974C6.6001%208.67119%206.6001%207.3081%207.44363%206.46118C8.28716%205.61426%209.64481%205.61426%2012.3601%205.61426H15.2401C17.9554%205.61426%2019.313%205.61426%2020.1566%206.46118C21.0001%207.3081%2021.0001%208.6712%2021.0001%2011.3974V16.2167C21.0001%2018.9429%2021.0001%2020.306%2020.1566%2021.1529C19.313%2021.9998%2017.9554%2021.9998%2015.2401%2021.9998H12.3601C9.64481%2021.9998%208.28716%2021.9998%207.44363%2021.1529C6.6001%2020.306%206.6001%2018.9429%206.6001%2016.2167V11.3974Z'%20fill='%231C274C'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,QA)])])):Gi("",!0),Jt(r).roomId?Gi("",!0):(Li(),Ni("button",{key:1,onClick:i},_e(Jt(t)("pages.home.createRoom")),1)),Jt(r).roomId?Gi("",!0):(Li(),Ni("button",{key:2,onClick:a},_e(Jt(t)("pages.home.joinRoom")),1))])}}},$A=WA(YA,[["__scopeId","data-v-a6ae8f26"]]),XA={id:"root"},JA=["placeholder"],ZA={key:0,id:"button"},eN={__name:"CreateRoomPage",setup:function(e){var t=gf().t,n=au(),r=MA(),i=Qt(!0),a=Qt(),s=Qt(t("pages.createRoom.placeholders.nickname")),l=function(){var e=u(o().mark((function e(){var s,u,l;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return s=a.value.value,e.next=3,DA({nickname:s});case 3:u=e.sent,u.hasOwnProperty("error")?(alert(t(u.error)),u.isFatalError&&n.push({path:"/",replace:!0})):(i.value=!1,l=u.result.id,r.setRoomId(l),r.setRoomOwner(!0),n.push({path:"/",replace:!0}));case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();function c(){n.push({path:"/",replace:!0})}return function(e,n){return Li(),Ni("div",XA,[ji("header",null,[ji("h2",null,_e(Jt(t)("pages.createRoom.title")),1)]),ji("section",null,[ji("table",null,[ji("tr",null,[ji("td",null,_e(Jt(t)("pages.createRoom.labels.nickname")),1),ji("td",null,[ji("input",{type:"text",placeholder:s.value,ref_key:"nicknameField",ref:a},null,8,JA)])])]),i.value?(Li(),Ni("div",ZA,[ji("button",{class:"ok",onClick:l},_e(Jt(t)("pages.createRoom.submit")),1),ji("button",{class:"cancel",onClick:c},_e(Jt(t)("pages.createRoom.cancel")),1)])):Gi("",!0)])])}}},tN=WA(eN,[["__scopeId","data-v-a9e5fa03"]]),nN={id:"root"},rN=["placeholder"],iN=["placeholder"],aN=["src"],oN={key:0,id:"button"},sN={__name:"JoinRoomPage",setup:function(e){var t=gf().t,n=au(),r=MA(),i=Qt(!0),a=Qt(),s=Qt(),l=Qt(t("pages.joinRoom.placeholders.nickname")),c=Qt(t("pages.joinRoom.placeholders.roomId"));function f(){return h.apply(this,arguments)}function h(){return(h=u(o().mark((function e(){var u,l,c;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return u=a.value.value,l=s.value.value,e.next=4,FA({nickname:u,roomId:l});case 4:c=e.sent,c.hasOwnProperty("error")?(alert(t(c.error)),c.isFatalError&&n.push({path:"/",replace:!0})):(i.value=!1,r.setRoomId(l),r.setRoomOwner(!1),n.push({path:"/game",replace:!0}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function d(){return v.apply(this,arguments)}function v(){return(v=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:t=e.sent;try{s.value.value=t}catch(n){console.error(n)}case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){n.push({path:"/",replace:!0})}return function(e,n){return Li(),Ni("div",nN,[ji("header",null,[ji("h2",null,_e(Jt(t)("pages.joinRoom.title")),1)]),ji("section",null,[ji("table",null,[ji("tr",null,[ji("td",null,_e(Jt(t)("pages.joinRoom.labels.nickname")),1),ji("td",null,[ji("input",{type:"text",placeholder:l.value,ref_key:"nicknameField",ref:a},null,8,rN)])]),ji("tr",null,[ji("td",null,_e(Jt(t)("pages.joinRoom.labels.roomId")),1),ji("td",null,[ji("input",{type:"text",placeholder:c.value,ref_key:"roomIdField",ref:s},null,8,iN),ji("button",{onClick:d},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20fill='none'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M9.5%202C8.67157%202%208%202.67157%208%203.5V4.5C8%205.32843%208.67157%206%209.5%206H14.5C15.3284%206%2016%205.32843%2016%204.5V3.5C16%202.67157%2015.3284%202%2014.5%202H9.5Z'%20fill='%231C274C'/%3e%3cpath%20fill-rule='evenodd'%20clip-rule='evenodd'%20d='M6.5%204.03662C5.24209%204.10719%204.44798%204.30764%203.87868%204.87694C3%205.75562%203%207.16983%203%209.99826V15.9983C3%2018.8267%203%2020.2409%203.87868%2021.1196C4.75736%2021.9983%206.17157%2021.9983%209%2021.9983H15C17.8284%2021.9983%2019.2426%2021.9983%2020.1213%2021.1196C21%2020.2409%2021%2018.8267%2021%2015.9983V9.99826C21%207.16983%2021%205.75562%2020.1213%204.87694C19.552%204.30764%2018.7579%204.10719%2017.5%204.03662V4.5C17.5%206.15685%2016.1569%207.5%2014.5%207.5H9.5C7.84315%207.5%206.5%206.15685%206.5%204.5V4.03662ZM7%2013.75C6.58579%2013.75%206.25%2014.0858%206.25%2014.5C6.25%2014.9142%206.58579%2015.25%207%2015.25H15C15.4142%2015.25%2015.75%2014.9142%2015.75%2014.5C15.75%2014.0858%2015.4142%2013.75%2015%2013.75H7ZM7%2017.25C6.58579%2017.25%206.25%2017.5858%206.25%2018C6.25%2018.4142%206.58579%2018.75%207%2018.75H12.5C12.9142%2018.75%2013.25%2018.4142%2013.25%2018C13.25%2017.5858%2012.9142%2017.25%2012.5%2017.25H7Z'%20fill='%231C274C'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,aN)])])])]),i.value?(Li(),Ni("div",oN,[ji("button",{class:"ok",onClick:f},_e(Jt(t)("pages.joinRoom.submit")),1),ji("button",{class:"cancel",onClick:p},_e(Jt(t)("pages.joinRoom.cancel")),1)])):Gi("",!0)])])}}},uN=WA(sN,[["__scopeId","data-v-ad4314f9"]]);function lN(e){return new Promise((function(t){return setTimeout(t,e)}))}
/**
             * @license
             * Copyright (c) 2023, Jeff Hlywa (jhlywa@gmail.com)
             * All rights reserved.
             *
             * Redistribution and use in source and binary forms, with or without
             * modification, are permitted provided that the following conditions are met:
             *
             * 1. Redistributions of source code must retain the above copyright notice,
             *    this list of conditions and the following disclaimer.
             * 2. Redistributions in binary form must reproduce the above copyright notice,
             *    this list of conditions and the following disclaimer in the documentation
             *    and/or other materials provided with the distribution.
             *
             * THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS"
             * AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE
             * IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE
             * ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR CONTRIBUTORS BE
             * LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR
             * CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF
             * SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS
             * INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN
             * CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE)
             * ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE
             * POSSIBILITY OF SUCH DAMAGE.
             */var cN="w",fN="b",hN="p",dN="b",vN="r",pN="q",mN="k",gN="rnbqkbnr/pppppppp/8/8/8/8/PPPPPPPP/RNBQKBNR w KQkq - 0 1",yN=-1,kN={NORMAL:"n",CAPTURE:"c",BIG_PAWN:"b",EP_CAPTURE:"e",PROMOTION:"p",KSIDE_CASTLE:"k",QSIDE_CASTLE:"q"},bN={NORMAL:1,CAPTURE:2,BIG_PAWN:4,EP_CAPTURE:8,PROMOTION:16,KSIDE_CASTLE:32,QSIDE_CASTLE:64},wN={a8:0,b8:1,c8:2,d8:3,e8:4,f8:5,g8:6,h8:7,a7:16,b7:17,c7:18,d7:19,e7:20,f7:21,g7:22,h7:23,a6:32,b6:33,c6:34,d6:35,e6:36,f6:37,g6:38,h6:39,a5:48,b5:49,c5:50,d5:51,e5:52,f5:53,g5:54,h5:55,a4:64,b4:65,c4:66,d4:67,e4:68,f4:69,g4:70,h4:71,a3:80,b3:81,c3:82,d3:83,e3:84,f3:85,g3:86,h3:87,a2:96,b2:97,c2:98,d2:99,e2:100,f2:101,g2:102,h2:103,a1:112,b1:113,c1:114,d1:115,e1:116,f1:117,g1:118,h1:119},_N={b:[16,32,17,15],w:[-16,-32,-17,-15]},CN={n:[-18,-33,-31,-14,18,33,31,14],b:[-17,-15,17,15],r:[-16,1,16,-1],q:[-17,-16,-15,1,17,16,15,-1],k:[-17,-16,-15,1,17,16,15,-1]},xN=[20,0,0,0,0,0,0,24,0,0,0,0,0,0,20,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,24,24,24,24,24,24,56,0,56,24,24,24,24,24,24,0,0,0,0,0,0,2,53,56,53,2,0,0,0,0,0,0,0,0,0,0,0,20,2,24,2,20,0,0,0,0,0,0,0,0,0,0,20,0,0,24,0,0,20,0,0,0,0,0,0,0,0,20,0,0,0,24,0,0,0,20,0,0,0,0,0,0,20,0,0,0,0,24,0,0,0,0,20,0,0,0,0,20,0,0,0,0,0,24,0,0,0,0,0,20,0,0,20,0,0,0,0,0,0,24,0,0,0,0,0,0,20],EN=[17,0,0,0,0,0,0,16,0,0,0,0,0,0,15,0,0,17,0,0,0,0,0,16,0,0,0,0,0,15,0,0,0,0,17,0,0,0,0,16,0,0,0,0,15,0,0,0,0,0,0,17,0,0,0,16,0,0,0,15,0,0,0,0,0,0,0,0,17,0,0,16,0,0,15,0,0,0,0,0,0,0,0,0,0,17,0,16,0,15,0,0,0,0,0,0,0,0,0,0,0,0,17,16,15,0,0,0,0,0,0,0,1,1,1,1,1,1,1,0,-1,-1,-1,-1,-1,-1,-1,0,0,0,0,0,0,0,-15,-16,-17,0,0,0,0,0,0,0,0,0,0,0,0,-15,0,-16,0,-17,0,0,0,0,0,0,0,0,0,0,-15,0,0,-16,0,0,-17,0,0,0,0,0,0,0,0,-15,0,0,0,-16,0,0,0,-17,0,0,0,0,0,0,-15,0,0,0,0,-16,0,0,0,0,-17,0,0,0,0,-15,0,0,0,0,0,-16,0,0,0,0,0,-17,0,0,-15,0,0,0,0,0,0,-16,0,0,0,0,0,0,-17],SN={p:1,n:2,b:4,r:8,q:16,k:32},LN=["n",dN,vN,pN],IN=k(k({},mN,bN.KSIDE_CASTLE),pN,bN.QSIDE_CASTLE),TN={w:[{square:wN.a1,flag:bN.QSIDE_CASTLE},{square:wN.h1,flag:bN.KSIDE_CASTLE}],b:[{square:wN.a8,flag:bN.QSIDE_CASTLE},{square:wN.h8,flag:bN.KSIDE_CASTLE}]},AN={b:1,w:6},NN=["1-0","0-1","1/2-1/2","*"];function MN(e){return e>>4}function ON(e){return 15&e}function PN(e){return-1!=="0123456789".indexOf(e)}function DN(e){var t=ON(e),n=MN(e);return"abcdefgh".substring(t,t+1)+"87654321".substring(n,n+1)}function RN(e){return e===cN?fN:cN}function FN(e,t,n,r,i){var a=arguments.length>5&&void 0!==arguments[5]?arguments[5]:void 0,o=arguments.length>6&&void 0!==arguments[6]?arguments[6]:bN.NORMAL,s=MN(r);if(i!==hN||7!==s&&0!==s)e.push({color:t,from:n,to:r,piece:i,captured:a,flags:o});else for(var u=0;u<LN.length;u++){var l=LN[u];e.push({color:t,from:n,to:r,piece:i,captured:a,promotion:l,flags:o|bN.PROMOTION})}}function jN(e){var t=e.charAt(0);if(t>="a"&&t<="h"){if(e.match(/[a-h]\d.*[a-h]\d/))return;return hN}return"o"===(t=t.toLowerCase())?mN:t}function VN(e){return e.replace(/=/,"").replace(/[+#]?[?!]*$/,"")}function UN(e){return e.split(" ").slice(0,4).join(" ")}var BN=function(){return y((function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:gN;m(this,e),k(this,"_board",new Array(128)),k(this,"_turn",cN),k(this,"_header",{}),k(this,"_kings",{w:yN,b:yN}),k(this,"_epSquare",-1),k(this,"_halfMoves",0),k(this,"_moveNumber",0),k(this,"_history",[]),k(this,"_comments",{}),k(this,"_castling",{w:0,b:0}),k(this,"_positionCount",{}),this.load(t)}),[{key:"clear",value:function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).preserveHeaders,t=void 0!==e&&e;this._board=new Array(128),this._kings={w:yN,b:yN},this._turn=cN,this._castling={w:0,b:0},this._epSquare=yN,this._halfMoves=0,this._moveNumber=1,this._history=[],this._comments={},this._header=t?this._header:{},this._positionCount={},delete this._header.SetUp,delete this._header.FEN}},{key:"removeHeader",value:function(e){e in this._header&&delete this._header[e]}},{key:"load",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.skipValidation,r=void 0!==n&&n,i=t.preserveHeaders,a=void 0!==i&&i,o=e.split(/\s+/);if(o.length>=2&&o.length<6){e=o.concat(["-","-","0","1"].slice(-(6-o.length))).join(" ")}if(o=e.split(/\s+/),!r){var s=function(e){var t=e.split(/\s+/);if(6!==t.length)return{ok:!1,error:"Invalid FEN: must contain six space-delimited fields"};var n=parseInt(t[5],10);if(isNaN(n)||n<=0)return{ok:!1,error:"Invalid FEN: move number must be a positive integer"};var r=parseInt(t[4],10);if(isNaN(r)||r<0)return{ok:!1,error:"Invalid FEN: half move counter number must be a non-negative integer"};if(!/^(-|[abcdefgh][36])$/.test(t[3]))return{ok:!1,error:"Invalid FEN: en-passant square is invalid"};if(/[^kKqQ-]/.test(t[2]))return{ok:!1,error:"Invalid FEN: castling availability is invalid"};if(!/^(w|b)$/.test(t[1]))return{ok:!1,error:"Invalid FEN: side-to-move is invalid"};var i=t[0].split("/");if(8!==i.length)return{ok:!1,error:"Invalid FEN: piece data does not contain 8 '/'-delimited rows"};for(var a=0;a<i.length;a++){for(var o=0,s=!1,u=0;u<i[a].length;u++)if(PN(i[a][u])){if(s)return{ok:!1,error:"Invalid FEN: piece data is invalid (consecutive number)"};o+=parseInt(i[a][u],10),s=!0}else{if(!/^[prnbqkPRNBQK]$/.test(i[a][u]))return{ok:!1,error:"Invalid FEN: piece data is invalid (invalid piece)"};o+=1,s=!1}if(8!==o)return{ok:!1,error:"Invalid FEN: piece data is invalid (too many squares in rank)"}}if("3"==t[3][1]&&"w"==t[1]||"6"==t[3][1]&&"b"==t[1])return{ok:!1,error:"Invalid FEN: illegal en-passant square"};for(var l=0,c=[{color:"white",regex:/K/g},{color:"black",regex:/k/g}];l<c.length;l++){var f=c[l],h=f.color,d=f.regex;if(!d.test(t[0]))return{ok:!1,error:"Invalid FEN: missing ".concat(h," king")};if((t[0].match(d)||[]).length>1)return{ok:!1,error:"Invalid FEN: too many ".concat(h," kings")}}return Array.from(i[0]+i[7]).some((function(e){return"P"===e.toUpperCase()}))?{ok:!1,error:"Invalid FEN: some pawns are on the edge rows"}:{ok:!0}}(e),u=s.ok,l=s.error;if(!u)throw new Error(l)}var c=o[0],f=0;this.clear({preserveHeaders:a});for(var h=0;h<c.length;h++){var d=c.charAt(h);if("/"===d)f+=8;else if(PN(d))f+=parseInt(d,10);else{var v=d<"a"?cN:fN;this._put({type:d.toLowerCase(),color:v},DN(f)),f++}}this._turn=o[1],o[2].indexOf("K")>-1&&(this._castling.w|=bN.KSIDE_CASTLE),o[2].indexOf("Q")>-1&&(this._castling.w|=bN.QSIDE_CASTLE),o[2].indexOf("k")>-1&&(this._castling.b|=bN.KSIDE_CASTLE),o[2].indexOf("q")>-1&&(this._castling.b|=bN.QSIDE_CASTLE),this._epSquare="-"===o[3]?yN:wN[o[3]],this._halfMoves=parseInt(o[4],10),this._moveNumber=parseInt(o[5],10),this._updateSetup(e),this._incPositionCount(e)}},{key:"fen",value:function(){for(var e=0,t="",n=wN.a8;n<=wN.h1;n++){if(this._board[n]){e>0&&(t+=e,e=0);var r=this._board[n],i=r.color,a=r.type;t+=i===cN?a.toUpperCase():a.toLowerCase()}else e++;n+1&136&&(e>0&&(t+=e),n!==wN.h1&&(t+="/"),e=0,n+=8)}var o="";this._castling[cN]&bN.KSIDE_CASTLE&&(o+="K"),this._castling[cN]&bN.QSIDE_CASTLE&&(o+="Q"),this._castling[fN]&bN.KSIDE_CASTLE&&(o+="k"),this._castling[fN]&bN.QSIDE_CASTLE&&(o+="q"),o=o||"-";var s="-";if(this._epSquare!==yN)for(var u=this._epSquare+(this._turn===cN?16:-16),l=0,c=[u+1,u-1];l<c.length;l++){var f,h,d=c[l];if(!(136&d)){var v=this._turn;if((null===(f=this._board[d])||void 0===f?void 0:f.color)===v&&(null===(h=this._board[d])||void 0===h?void 0:h.type)===hN){this._makeMove({color:v,from:d,to:this._epSquare,piece:hN,captured:hN,flags:bN.EP_CAPTURE});var p=!this._isKingAttacked(v);if(this._undoMove(),p){s=DN(this._epSquare);break}}}}return[t,this._turn,o,s,this._halfMoves,this._moveNumber].join(" ")}},{key:"_updateSetup",value:function(e){this._history.length>0||(e!==gN?(this._header.SetUp="1",this._header.FEN=e):(delete this._header.SetUp,delete this._header.FEN))}},{key:"reset",value:function(){this.load(gN)}},{key:"get",value:function(e){return this._board[wN[e]]||!1}},{key:"put",value:function(e,t){var n=e.type,r=e.color;return!!this._put({type:n,color:r},t)&&(this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),!0)}},{key:"_put",value:function(e,t){var n=e.type,r=e.color;if(-1==="pnbrqkPNBRQK".indexOf(n.toLowerCase()))return!1;if(!(t in wN))return!1;var i=wN[t];if(n==mN&&this._kings[r]!=yN&&this._kings[r]!=i)return!1;var a=this._board[i];return a&&a.type===mN&&(this._kings[a.color]=yN),this._board[i]={type:n,color:r},n===mN&&(this._kings[r]=i),!0}},{key:"remove",value:function(e){var t=this.get(e);return delete this._board[wN[e]],t&&t.type===mN&&(this._kings[t.color]=yN),this._updateCastlingRights(),this._updateEnPassantSquare(),this._updateSetup(this.fen()),t}},{key:"_updateCastlingRights",value:function(){var e,t,n,r,i,a,o,s,u,l,c,f,h=(null===(e=this._board[wN.e1])||void 0===e?void 0:e.type)===mN&&(null===(t=this._board[wN.e1])||void 0===t?void 0:t.color)===cN,d=(null===(n=this._board[wN.e8])||void 0===n?void 0:n.type)===mN&&(null===(r=this._board[wN.e8])||void 0===r?void 0:r.color)===fN;h&&(null===(i=this._board[wN.a1])||void 0===i?void 0:i.type)===vN&&(null===(a=this._board[wN.a1])||void 0===a?void 0:a.color)===cN||(this._castling.w&=~bN.QSIDE_CASTLE),h&&(null===(o=this._board[wN.h1])||void 0===o?void 0:o.type)===vN&&(null===(s=this._board[wN.h1])||void 0===s?void 0:s.color)===cN||(this._castling.w&=~bN.KSIDE_CASTLE),d&&(null===(u=this._board[wN.a8])||void 0===u?void 0:u.type)===vN&&(null===(l=this._board[wN.a8])||void 0===l?void 0:l.color)===fN||(this._castling.b&=~bN.QSIDE_CASTLE),d&&(null===(c=this._board[wN.h8])||void 0===c?void 0:c.type)===vN&&(null===(f=this._board[wN.h8])||void 0===f?void 0:f.color)===fN||(this._castling.b&=~bN.KSIDE_CASTLE)}},{key:"_updateEnPassantSquare",value:function(){var e,t,n=this;if(this._epSquare!==yN){var r=this._epSquare+(this._turn===cN?-16:16),i=this._epSquare+(this._turn===cN?16:-16),a=[i+1,i-1];if(null===this._board[r]&&null===this._board[this._epSquare]&&(null===(e=this._board[i])||void 0===e?void 0:e.color)===RN(this._turn)&&(null===(t=this._board[i])||void 0===t?void 0:t.type)===hN){a.some((function(e){var t,r;return!(136&e)&&(null===(t=n._board[e])||void 0===t?void 0:t.color)===n._turn&&(null===(r=n._board[e])||void 0===r?void 0:r.type)===hN}))||(this._epSquare=yN)}else this._epSquare=yN}}},{key:"_attacked",value:function(e,t){for(var n=wN.a8;n<=wN.h1;n++)if(136&n)n+=7;else if(void 0!==this._board[n]&&this._board[n].color===e){var r=this._board[n],i=n-t;if(0!==i){var a=i+119;if(xN[a]&SN[r.type]){if(r.type===hN){if(i>0){if(r.color===cN)return!0}else if(r.color===fN)return!0;continue}if("n"===r.type||"k"===r.type)return!0;for(var o=EN[a],s=n+o,u=!1;s!==t;){if(null!=this._board[s]){u=!0;break}s+=o}if(!u)return!0}}}return!1}},{key:"_isKingAttacked",value:function(e){var t=this._kings[e];return-1!==t&&this._attacked(RN(e),t)}},{key:"isAttacked",value:function(e,t){return this._attacked(t,wN[e])}},{key:"isCheck",value:function(){return this._isKingAttacked(this._turn)}},{key:"inCheck",value:function(){return this.isCheck()}},{key:"isCheckmate",value:function(){return this.isCheck()&&0===this._moves().length}},{key:"isStalemate",value:function(){return!this.isCheck()&&0===this._moves().length}},{key:"isInsufficientMaterial",value:function(){for(var e={b:0,n:0,r:0,q:0,k:0,p:0},t=[],n=0,r=0,i=wN.a8;i<=wN.h1;i++)if(r=(r+1)%2,136&i)i+=7;else{var a=this._board[i];a&&(e[a.type]=a.type in e?e[a.type]+1:1,a.type===dN&&t.push(r),n++)}if(2===n)return!0;if(3===n&&(1===e[dN]||1===e.n))return!0;if(n===e[dN]+2){for(var o=0,s=t.length,u=0;u<s;u++)o+=t[u];if(0===o||o===s)return!0}return!1}},{key:"isThreefoldRepetition",value:function(){return this._getPositionCount(this.fen())>=3}},{key:"isDraw",value:function(){return this._halfMoves>=100||this.isStalemate()||this.isInsufficientMaterial()||this.isThreefoldRepetition()}},{key:"isGameOver",value:function(){return this.isCheckmate()||this.isStalemate()||this.isDraw()}},{key:"moves",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.verbose,r=void 0!==n&&n,i=t.square,a=void 0===i?void 0:i,o=t.piece,s=void 0===o?void 0:o,u=this._moves({square:a,piece:s});return r?u.map((function(t){return e._makePretty(t)})):u.map((function(t){return e._moveToSan(t,u)}))}},{key:"_moves",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.legal,n=void 0===t||t,r=e.piece,i=void 0===r?void 0:r,a=e.square,o=void 0===a?void 0:a,s=o?o.toLowerCase():void 0,u=null==i?void 0:i.toLowerCase(),l=[],c=this._turn,f=RN(c),h=wN.a8,d=wN.h1,v=!1;if(s){if(!(s in wN))return[];h=d=wN[s],v=!0}for(var p=h;p<=d;p++)if(136&p)p+=7;else if(this._board[p]&&this._board[p].color!==f){var m=this._board[p].type,g=void 0;if(m===hN){if(u&&u!==m)continue;g=p+_N[c][0],this._board[g]||(FN(l,c,p,g,hN),g=p+_N[c][1],AN[c]!==MN(p)||this._board[g]||FN(l,c,p,g,hN,void 0,bN.BIG_PAWN));for(var y=2;y<4;y++){var k;136&(g=p+_N[c][y])||((null===(k=this._board[g])||void 0===k?void 0:k.color)===f?FN(l,c,p,g,hN,this._board[g].type,bN.CAPTURE):g===this._epSquare&&FN(l,c,p,g,hN,hN,bN.EP_CAPTURE))}}else{if(u&&u!==m)continue;for(var b=0,w=CN[m].length;b<w;b++){var _=CN[m][b];for(g=p;!(136&(g+=_));){if(this._board[g]){if(this._board[g].color===c)break;FN(l,c,p,g,m,this._board[g].type,bN.CAPTURE);break}if(FN(l,c,p,g,m),"n"===m||m===mN)break}}}}if(!(void 0!==u&&u!==mN||v&&d!==this._kings[c])){if(this._castling[c]&bN.KSIDE_CASTLE){var C=this._kings[c],x=C+2;this._board[C+1]||this._board[x]||this._attacked(f,this._kings[c])||this._attacked(f,C+1)||this._attacked(f,x)||FN(l,c,this._kings[c],x,mN,void 0,bN.KSIDE_CASTLE)}if(this._castling[c]&bN.QSIDE_CASTLE){var E=this._kings[c],S=E-2;this._board[E-1]||this._board[E-2]||this._board[E-3]||this._attacked(f,this._kings[c])||this._attacked(f,E-1)||this._attacked(f,S)||FN(l,c,this._kings[c],S,mN,void 0,bN.QSIDE_CASTLE)}}if(!n||-1===this._kings[c])return l;for(var L=[],I=0,T=l.length;I<T;I++)this._makeMove(l[I]),this._isKingAttacked(c)||L.push(l[I]),this._undoMove();return L}},{key:"move",value:function(e){var t=(arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}).strict,n=void 0!==t&&t,r=null;if("string"==typeof e)r=this._moveFromSan(e,n);else if("object"===C(e))for(var i=this._moves(),a=0,o=i.length;a<o;a++)if(e.from===DN(i[a].from)&&e.to===DN(i[a].to)&&(!("promotion"in i[a])||e.promotion===i[a].promotion)){r=i[a];break}if(!r)throw"string"==typeof e?new Error("Invalid move: ".concat(e)):new Error("Invalid move: ".concat(JSON.stringify(e)));var s=this._makePretty(r);return this._makeMove(r),this._incPositionCount(s.after),s}},{key:"_push",value:function(e){this._history.push({move:e,kings:{b:this._kings.b,w:this._kings.w},turn:this._turn,castling:{b:this._castling.b,w:this._castling.w},epSquare:this._epSquare,halfMoves:this._halfMoves,moveNumber:this._moveNumber})}},{key:"_makeMove",value:function(e){var t=this._turn,n=RN(t);if(this._push(e),this._board[e.to]=this._board[e.from],delete this._board[e.from],e.flags&bN.EP_CAPTURE&&(this._turn===fN?delete this._board[e.to-16]:delete this._board[e.to+16]),e.promotion&&(this._board[e.to]={type:e.promotion,color:t}),this._board[e.to].type===mN){if(this._kings[t]=e.to,e.flags&bN.KSIDE_CASTLE){var r=e.to-1,i=e.to+1;this._board[r]=this._board[i],delete this._board[i]}else if(e.flags&bN.QSIDE_CASTLE){var a=e.to+1,o=e.to-2;this._board[a]=this._board[o],delete this._board[o]}this._castling[t]=0}if(this._castling[t])for(var s=0,u=TN[t].length;s<u;s++)if(e.from===TN[t][s].square&&this._castling[t]&TN[t][s].flag){this._castling[t]^=TN[t][s].flag;break}if(this._castling[n])for(var l=0,c=TN[n].length;l<c;l++)if(e.to===TN[n][l].square&&this._castling[n]&TN[n][l].flag){this._castling[n]^=TN[n][l].flag;break}e.flags&bN.BIG_PAWN?this._epSquare=t===fN?e.to-16:e.to+16:this._epSquare=yN,e.piece===hN||e.flags&(bN.CAPTURE|bN.EP_CAPTURE)?this._halfMoves=0:this._halfMoves++,t===fN&&this._moveNumber++,this._turn=n}},{key:"undo",value:function(){var e=this._undoMove();if(e){var t=this._makePretty(e);return this._decPositionCount(t.after),t}return null}},{key:"_undoMove",value:function(){var e=this._history.pop();if(void 0===e)return null;var t=e.move;this._kings=e.kings,this._turn=e.turn,this._castling=e.castling,this._epSquare=e.epSquare,this._halfMoves=e.halfMoves,this._moveNumber=e.moveNumber;var n,r,i,a=this._turn,o=RN(a);(this._board[t.from]=this._board[t.to],this._board[t.from].type=t.piece,delete this._board[t.to],t.captured)&&(t.flags&bN.EP_CAPTURE?(n=a===fN?t.to-16:t.to+16,this._board[n]={type:hN,color:o}):this._board[t.to]={type:t.captured,color:o});t.flags&(bN.KSIDE_CASTLE|bN.QSIDE_CASTLE)&&(t.flags&bN.KSIDE_CASTLE?(r=t.to+1,i=t.to-1):(r=t.to-2,i=t.to+1),this._board[r]=this._board[i],delete this._board[i]);return t}},{key:"pgn",value:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.newline,r=void 0===n?"\n":n,i=t.maxWidth,a=void 0===i?0:i,o=[],s=!1;for(var u in this._header)o.push("["+u+' "'+this._header[u]+'"]'+r),s=!0;s&&this._history.length&&o.push(r);for(var l=function(t){var n=e._comments[e.fen()];if(void 0!==n){var r=t.length>0?" ":"";t="".concat(t).concat(r,"{").concat(n,"}")}return t},c=[];this._history.length>0;)c.push(this._undoMove());var f=[],h="";for(0===c.length&&f.push(l(""));c.length>0;){h=l(h);var d=c.pop();if(!d)break;if(this._history.length||"b"!==d.color)"w"===d.color&&(h.length&&f.push(h),h=this._moveNumber+".");else{var v="".concat(this._moveNumber,". ...");h=h?"".concat(h," ").concat(v):v}h=h+" "+this._moveToSan(d,this._moves({legal:!0})),this._makeMove(d)}if(h.length&&f.push(l(h)),void 0!==this._header.Result&&f.push(this._header.Result),0===a)return o.join("")+f.join(" ");for(var p=function(){return o.length>0&&" "===o[o.length-1]&&(o.pop(),!0)},m=function(e,t){var n,i=x(t.split(" "));try{for(i.s();!(n=i.n()).done;){var s=n.value;if(s){if(e+s.length>a){for(;p();)e--;o.push(r),e=0}o.push(s),e+=s.length,o.push(" "),e++}}}catch(u){i.e(u)}finally{i.f()}return p()&&e--,e},g=0,y=0;y<f.length;y++)g+f[y].length>a&&f[y].includes("{")?g=m(g,f[y]):(g+f[y].length>a&&0!==y?(" "===o[o.length-1]&&o.pop(),o.push(r),g=0):0!==y&&(o.push(" "),g++),o.push(f[y]),g+=f[y].length);return o.join("")}},{key:"header",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(var r=0;r<t.length;r+=2)"string"==typeof t[r]&&"string"==typeof t[r+1]&&(this._header[t[r]]=t[r+1]);return this._header}},{key:"loadPgn",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.strict,r=void 0!==n&&n,i=t.newlineChar,a=void 0===i?"\r?\n":i;function o(e){return e.replace(/\\/g,"\\")}e=e.trim();var s=new RegExp("^(\\[((?:"+o(a)+")|.)*\\])((?:\\s*"+o(a)+"){2}|(?:\\s*"+o(a)+")*$)").exec(e),u=s&&s.length>=2?s[1]:"";this.reset();var l=function(e){for(var t={},n=e.split(new RegExp(o(a))),r="",i="",s=0;s<n.length;s++){var u=/^\s*\[\s*([A-Za-z]+)\s*"(.*)"\s*\]\s*$/;r=n[s].replace(u,"$1"),i=n[s].replace(u,"$2"),r.trim().length>0&&(t[r]=i)}return t}(u),c="";for(var f in l)"fen"===f.toLowerCase()&&(c=l[f]),this.header(f,l[f]);if(r){if("1"===l.SetUp){if(!("FEN"in l))throw new Error("Invalid PGN: FEN tag must be supplied with SetUp tag");this.load(l.FEN,{preserveHeaders:!0})}}else c&&this.load(c,{preserveHeaders:!0});for(var h=function(e){return e=e.replace(new RegExp(o(a),"g")," "),"{".concat(function(e){return Array.from(e).map((function(e){return e.charCodeAt(0)<128?e.charCodeAt(0).toString(16):encodeURIComponent(e).replace(/%/g,"").toLowerCase()})).join("")}(e.slice(1,e.length-1)),"}")},d=function(e){if(e.startsWith("{")&&e.endsWith("}"))return function(e){return 0==e.length?"":decodeURIComponent("%"+(e.match(/.{1,2}/g)||[]).join("%"))}(e.slice(1,e.length-1))},v=e.replace(u,"").replace(new RegExp("({[^}]*})+?|;([^".concat(o(a),"]*)"),"g"),(function(e,t,n){return void 0!==t?h(t):" "+h("{".concat(n.slice(1),"}"))})).replace(new RegExp(o(a),"g")," "),p=/(\([^()]+\))+?/g;p.test(v);)v=v.replace(p,"");var m=(v=(v=(v=v.replace(/\d+\.(\.\.)?/g,"")).replace(/\.\.\./g,"")).replace(/\$\d+/g,"")).trim().split(new RegExp(/\s+/));m=m.filter((function(e){return""!==e}));for(var g="",y=0;y<m.length;y++){var k=d(m[y]);if(void 0===k){var b=this._moveFromSan(m[y],r);if(null==b){if(!(NN.indexOf(m[y])>-1))throw new Error("Invalid move in PGN: ".concat(m[y]));g=m[y]}else g="",this._makeMove(b),this._incPositionCount(this.fen())}else this._comments[this.fen()]=k}g&&Object.keys(this._header).length&&!this._header.Result&&this.header("Result",g)}},{key:"_moveToSan",value:function(e,t){var n="";if(e.flags&bN.KSIDE_CASTLE)n="O-O";else if(e.flags&bN.QSIDE_CASTLE)n="O-O-O";else{if(e.piece!==hN){var r=function(e,t){for(var n=e.from,r=e.to,i=e.piece,a=0,o=0,s=0,u=0,l=t.length;u<l;u++){var c=t[u].from,f=t[u].to;i===t[u].piece&&n!==c&&r===f&&(a++,MN(n)===MN(c)&&o++,ON(n)===ON(c)&&s++)}return a>0?o>0&&s>0?DN(n):s>0?DN(n).charAt(1):DN(n).charAt(0):""}(e,t);n+=e.piece.toUpperCase()+r}e.flags&(bN.CAPTURE|bN.EP_CAPTURE)&&(e.piece===hN&&(n+=DN(e.from)[0]),n+="x"),n+=DN(e.to),e.promotion&&(n+="="+e.promotion.toUpperCase())}return this._makeMove(e),this.isCheck()&&(this.isCheckmate()?n+="#":n+="+"),this._undoMove(),n}},{key:"_moveFromSan",value:function(e){for(var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=VN(e),r=jN(n),i=this._moves({legal:!0,piece:r}),a=0,o=i.length;a<o;a++)if(n===VN(this._moveToSan(i[a],i)))return i[a];if(t)return null;var s=void 0,u=void 0,l=void 0,c=void 0,f=void 0,h=!1;if(((u=n.match(/([pnbrqkPNBRQK])?([a-h][1-8])x?-?([a-h][1-8])([qrbnQRBN])?/))||(u=n.match(/([pnbrqkPNBRQK])?([a-h]?[1-8]?)x?-?([a-h][1-8])([qrbnQRBN])?/)))&&(s=u[1],l=u[2],c=u[3],f=u[4],1==l.length&&(h=!0)),r=jN(n),i=this._moves({legal:!0,piece:s||r}),!c)return null;for(var d=0,v=i.length;d<v;d++)if(l){if(!(s&&s.toLowerCase()!=i[d].piece||wN[l]!=i[d].from||wN[c]!=i[d].to||f&&f.toLowerCase()!=i[d].promotion))return i[d];if(h){var p=DN(i[d].from);if(!(s&&s.toLowerCase()!=i[d].piece||wN[c]!=i[d].to||l!=p[0]&&l!=p[1]||f&&f.toLowerCase()!=i[d].promotion))return i[d]}}else if(n===VN(this._moveToSan(i[d],i)).replace("x",""))return i[d];return null}},{key:"ascii",value:function(){for(var e="   +------------------------+\n",t=wN.a8;t<=wN.h1;t++){if(0===ON(t)&&(e+=" "+"87654321"[MN(t)]+" |"),this._board[t]){var n=this._board[t].type;e+=" "+(this._board[t].color===cN?n.toUpperCase():n.toLowerCase())+" "}else e+=" . ";t+1&136&&(e+="|\n",t+=8)}return e+="   +------------------------+\n",e+="     a  b  c  d  e  f  g  h"}},{key:"perft",value:function(e){for(var t=this._moves({legal:!1}),n=0,r=this._turn,i=0,a=t.length;i<a;i++)this._makeMove(t[i]),this._isKingAttacked(r)||(e-1>0?n+=this.perft(e-1):n++),this._undoMove();return n}},{key:"_makePretty",value:function(e){var t=e.color,n=e.piece,r=e.from,i=e.to,a=e.flags,o=e.captured,s=e.promotion,u="";for(var l in bN)bN[l]&a&&(u+=kN[l]);var c=DN(r),f=DN(i),h={color:t,piece:n,from:c,to:f,san:this._moveToSan(e,this._moves({legal:!0})),flags:u,lan:c+f,before:this.fen(),after:""};return this._makeMove(e),h.after=this.fen(),this._undoMove(),o&&(h.captured=o),s&&(h.promotion=s,h.lan+=s),h}},{key:"turn",value:function(){return this._turn}},{key:"board",value:function(){for(var e=[],t=[],n=wN.a8;n<=wN.h1;n++)null==this._board[n]?t.push(null):t.push({square:DN(n),type:this._board[n].type,color:this._board[n].color}),n+1&136&&(e.push(t),t=[],n+=8);return e}},{key:"squareColor",value:function(e){if(e in wN){var t=wN[e];return(MN(t)+ON(t))%2==0?"light":"dark"}return null}},{key:"history",value:function(){for(var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).verbose,t=void 0!==e&&e,n=[],r=[];this._history.length>0;)n.push(this._undoMove());for(;;){var i=n.pop();if(!i)break;t?r.push(this._makePretty(i)):r.push(this._moveToSan(i,this._moves())),this._makeMove(i)}return r}},{key:"_getPositionCount",value:function(e){var t=UN(e);return this._positionCount[t]||0}},{key:"_incPositionCount",value:function(e){var t=UN(e);void 0===this._positionCount[t]&&(this._positionCount[t]=0),this._positionCount[t]+=1}},{key:"_decPositionCount",value:function(e){var t=UN(e);1===this._positionCount[t]?delete this._positionCount[t]:this._positionCount[t]-=1}},{key:"_pruneComments",value:function(){for(var e=this,t=[],n={},r=function(t){t in e._comments&&(n[t]=e._comments[t])};this._history.length>0;)t.push(this._undoMove());for(r(this.fen());;){var i=t.pop();if(!i)break;this._makeMove(i),r(this.fen())}this._comments=n}},{key:"getComment",value:function(){return this._comments[this.fen()]}},{key:"setComment",value:function(e){this._comments[this.fen()]=e.replace("{","[").replace("}","]")}},{key:"deleteComment",value:function(){var e=this._comments[this.fen()];return delete this._comments[this.fen()],e}},{key:"getComments",value:function(){var e=this;return this._pruneComments(),Object.keys(this._comments).map((function(t){return{fen:t,comment:e._comments[t]}}))}},{key:"deleteComments",value:function(){var e=this;return this._pruneComments(),Object.keys(this._comments).map((function(t){var n=e._comments[t];return delete e._comments[t],{fen:t,comment:n}}))}},{key:"setCastlingRights",value:function(e,t){for(var n=0,r=[mN,pN];n<r.length;n++){var i=r[n];void 0!==t[i]&&(t[i]?this._castling[e]|=IN[i]:this._castling[e]&=~IN[i])}this._updateCastlingRights();var a=this.getCastlingRights(e);return!(void 0!==t[mN]&&t[mN]!==a[mN]||void 0!==t[pN]&&t[pN]!==a[pN])}},{key:"getCastlingRights",value:function(e){return k(k({},mN,!!(this._castling[e]&IN[mN])),pN,!!(this._castling[e]&IN[pN]))}},{key:"moveNumber",value:function(){return this._moveNumber}}])}();function zN(e){var t=Object.prototype.toString.call(e);return e instanceof Date||"object"===C(e)&&"[object Date]"===t?new e.constructor(+e):"number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?new Date(e):new Date(NaN)}function qN(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}var GN=6048e5,WN=864e5,HN={};function KN(){return HN}function QN(e,t){var n,r,i,a,o,s,u=KN(),l=null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.weekStartsOn)&&void 0!==a?a:null==t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.weekStartsOn)&&void 0!==i?i:u.weekStartsOn)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.weekStartsOn)&&void 0!==n?n:0,c=zN(e),f=c.getDay(),h=(f<l?7:0)+f-l;return c.setDate(c.getDate()-h),c.setHours(0,0,0,0),c}function YN(e){return QN(e,{weekStartsOn:1})}function $N(e){var t=zN(e),n=t.getFullYear(),r=qN(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);var i=YN(r),a=qN(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);var o=YN(a);return t.getTime()>=i.getTime()?n+1:t.getTime()>=o.getTime()?n:n-1}function XN(e){var t=zN(e);return t.setHours(0,0,0,0),t}function JN(e){var t=zN(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function ZN(e){if(!(t=e,t instanceof Date||"object"===C(t)&&"[object Date]"===Object.prototype.toString.call(t)||"number"==typeof e))return!1;var t,n=zN(e);return!isNaN(Number(n))}function eM(e,t,n){var r,i=function(e,t){return+zN(e)-+zN(t)}(e,t)/1e3;return(r=null==n?void 0:n.roundingMethod,function(e){var t=(r?Math[r]:Math.trunc)(e);return 0===t?0:t})(i)}var tM={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function nM(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}var rM={date:nM({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:nM({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:nM({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},iM={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function aM(e){return function(t,n){var r;if("formatting"===(null!=n&&n.context?String(n.context):"standalone")&&e.formattingValues){var i=e.defaultFormattingWidth||e.defaultWidth,a=null!=n&&n.width?String(n.width):i;r=e.formattingValues[a]||e.formattingValues[i]}else{var o=e.defaultWidth,s=null!=n&&n.width?String(n.width):e.defaultWidth;r=e.values[s]||e.values[o]}return r[e.argumentCallback?e.argumentCallback(t):t]}}var oM={ordinalNumber:function(e,t){var n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},era:aM({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:aM({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:function(e){return e-1}}),month:aM({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:aM({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:aM({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function sM(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.width,i=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(i);if(!a)return null;var o,s=a[0],u=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],l=Array.isArray(u)?function(e,t){for(var n=0;n<e.length;n++)if(t(e[n]))return n;return}(u,(function(e){return e.test(s)})):function(e,t){for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n;return}(u,(function(e){return e.test(s)}));return o=e.valueCallback?e.valueCallback(l):l,{value:o=n.valueCallback?n.valueCallback(o):o,rest:t.slice(s.length)}}}var uM,lM={ordinalNumber:(uM={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:function(e){return parseInt(e,10)}},function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e.match(uM.matchPattern);if(!n)return null;var r=n[0],i=e.match(uM.parsePattern);if(!i)return null;var a=uM.valueCallback?uM.valueCallback(i[0]):i[0];return{value:a=t.valueCallback?t.valueCallback(a):a,rest:e.slice(r.length)}}),era:sM({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:sM({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:function(e){return e+1}}),month:sM({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:sM({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:sM({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})},cM={code:"en-US",formatDistance:function(e,t,n){var r,i=tM[e];return r="string"==typeof i?i:1===t?i.one:i.other.replace("{{count}}",t.toString()),null!=n&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r},formatLong:rM,formatRelative:function(e,t,n,r){return iM[e]},localize:oM,match:lM,options:{weekStartsOn:0,firstWeekContainsDate:1}};function fM(e){var t,n,r,i,a,o,s=zN(e),u=(t=s,n=function(e){var t=zN(e),n=qN(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}(s),r=XN(t),i=XN(n),a=+r-JN(r),o=+i-JN(i),Math.round((a-o)/WN));return u+1}function hM(e){var t=zN(e),n=+YN(t)-+function(e){var t=$N(e),n=qN(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),YN(n)}(t);return Math.round(n/GN)+1}function dM(e,t){var n,r,i,a,o,s,u=zN(e),l=u.getFullYear(),c=KN(),f=null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:c.firstWeekContainsDate)&&void 0!==r?r:null===(s=c.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,h=qN(e,0);h.setFullYear(l+1,0,f),h.setHours(0,0,0,0);var d=QN(h,t),v=qN(e,0);v.setFullYear(l,0,f),v.setHours(0,0,0,0);var p=QN(v,t);return u.getTime()>=d.getTime()?l+1:u.getTime()>=p.getTime()?l:l-1}function vM(e,t){var n=zN(e),r=+QN(n,t)-+function(e,t){var n,r,i,a,o,s,u=KN(),l=null!==(n=null!==(r=null!==(i=null!==(a=null==t?void 0:t.firstWeekContainsDate)&&void 0!==a?a:null==t||null===(o=t.locale)||void 0===o||null===(o=o.options)||void 0===o?void 0:o.firstWeekContainsDate)&&void 0!==i?i:u.firstWeekContainsDate)&&void 0!==r?r:null===(s=u.locale)||void 0===s||null===(s=s.options)||void 0===s?void 0:s.firstWeekContainsDate)&&void 0!==n?n:1,c=dM(e,t),f=qN(e,0);return f.setFullYear(c,0,l),f.setHours(0,0,0,0),QN(f,t)}(n,t);return Math.round(r/GN)+1}function pM(e,t){return(e<0?"-":"")+Math.abs(e).toString().padStart(t,"0")}var mM=function(e,t){var n=e.getFullYear(),r=n>0?n:1-n;return pM("yy"===t?r%100:r,t.length)},gM=function(e,t){var n=e.getMonth();return"M"===t?String(n+1):pM(n+1,2)},yM=function(e,t){return pM(e.getDate(),t.length)},kM=function(e,t){return pM(e.getHours()%12||12,t.length)},bM=function(e,t){return pM(e.getHours(),t.length)},wM=function(e,t){return pM(e.getMinutes(),t.length)},_M=function(e,t){return pM(e.getSeconds(),t.length)},CM=function(e,t){var n=t.length,r=e.getMilliseconds();return pM(Math.trunc(r*Math.pow(10,n-3)),t.length)},xM="midnight",EM="noon",SM="morning",LM="afternoon",IM="evening",TM="night",AM={G:function(e,t,n){var r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if("yo"===t){var r=e.getFullYear(),i=r>0?r:1-r;return n.ordinalNumber(i,{unit:"year"})}return mM(e,t)},Y:function(e,t,n,r){var i=dM(e,r),a=i>0?i:1-i;return"YY"===t?pM(a%100,2):"Yo"===t?n.ordinalNumber(a,{unit:"year"}):pM(a,t.length)},R:function(e,t){return pM($N(e),t.length)},u:function(e,t){return pM(e.getFullYear(),t.length)},Q:function(e,t,n){var r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return pM(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){var r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return pM(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){var r=e.getMonth();switch(t){case"M":case"MM":return gM(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){var r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return pM(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){var i=vM(e,r);return"wo"===t?n.ordinalNumber(i,{unit:"week"}):pM(i,t.length)},I:function(e,t,n){var r=hM(e);return"Io"===t?n.ordinalNumber(r,{unit:"week"}):pM(r,t.length)},d:function(e,t,n){return"do"===t?n.ordinalNumber(e.getDate(),{unit:"date"}):yM(e,t)},D:function(e,t,n){var r=fM(e);return"Do"===t?n.ordinalNumber(r,{unit:"dayOfYear"}):pM(r,t.length)},E:function(e,t,n){var r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){var i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return pM(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(i,{width:"short",context:"formatting"});default:return n.day(i,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){var i=e.getDay(),a=(i-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return pM(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(i,{width:"narrow",context:"standalone"});case"cccccc":return n.day(i,{width:"short",context:"standalone"});default:return n.day(i,{width:"wide",context:"standalone"})}},i:function(e,t,n){var r=e.getDay(),i=0===r?7:r;switch(t){case"i":return String(i);case"ii":return pM(i,t.length);case"io":return n.ordinalNumber(i,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){var r=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},b:function(e,t,n){var r,i=e.getHours();switch(r=12===i?EM:0===i?xM:i/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},B:function(e,t,n){var r,i=e.getHours();switch(r=i>=17?IM:i>=12?LM:i>=4?SM:TM,t){case"B":case"BB":case"BBB":return n.dayPeriod(r,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(r,{width:"narrow",context:"formatting"});default:return n.dayPeriod(r,{width:"wide",context:"formatting"})}},h:function(e,t,n){if("ho"===t){var r=e.getHours()%12;return 0===r&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return kM(e,t)},H:function(e,t,n){return"Ho"===t?n.ordinalNumber(e.getHours(),{unit:"hour"}):bM(e,t)},K:function(e,t,n){var r=e.getHours()%12;return"Ko"===t?n.ordinalNumber(r,{unit:"hour"}):pM(r,t.length)},k:function(e,t,n){var r=e.getHours();return 0===r&&(r=24),"ko"===t?n.ordinalNumber(r,{unit:"hour"}):pM(r,t.length)},m:function(e,t,n){return"mo"===t?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):wM(e,t)},s:function(e,t,n){return"so"===t?n.ordinalNumber(e.getSeconds(),{unit:"second"}):_M(e,t)},S:function(e,t){return CM(e,t)},X:function(e,t,n){var r=e.getTimezoneOffset();if(0===r)return"Z";switch(t){case"X":return MM(r);case"XXXX":case"XX":return OM(r);default:return OM(r,":")}},x:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"x":return MM(r);case"xxxx":case"xx":return OM(r);default:return OM(r,":")}},O:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+NM(r,":");default:return"GMT"+OM(r,":")}},z:function(e,t,n){var r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+NM(r,":");default:return"GMT"+OM(r,":")}},t:function(e,t,n){return pM(Math.trunc(e.getTime()/1e3),t.length)},T:function(e,t,n){return pM(e.getTime(),t.length)}};function NM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e),i=Math.trunc(r/60),a=r%60;return 0===a?n+String(i):n+String(i)+t+pM(a,2)}function MM(e,t){return e%60==0?(e>0?"-":"+")+pM(Math.abs(e)/60,2):OM(e,t)}function OM(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=e>0?"-":"+",r=Math.abs(e);return n+pM(Math.trunc(r/60),2)+t+pM(r%60,2)}var PM=function(e,t){switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});default:return t.date({width:"full"})}},DM=function(e,t){switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});default:return t.time({width:"full"})}},RM={p:DM,P:function(e,t){var n,r=e.match(/(P+)(p+)?/)||[],i=r[1],a=r[2];if(!a)return PM(e,t);switch(i){case"P":n=t.dateTime({width:"short"});break;case"PP":n=t.dateTime({width:"medium"});break;case"PPP":n=t.dateTime({width:"long"});break;default:n=t.dateTime({width:"full"})}return n.replace("{{date}}",PM(i,t)).replace("{{time}}",DM(a,t))}},FM=/^D+$/,jM=/^Y+$/,VM=["D","DD","YY","YYYY"];var UM=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,BM=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,zM=/^'([^]*?)'?$/,qM=/''/g,GM=/[a-zA-Z]/;function WM(e,t,n){var r,i,a,o,s,u,l,c,f,h,d,v,p,m,g=KN(),y=null!==(r=null!==(i=null==n?void 0:n.locale)&&void 0!==i?i:g.locale)&&void 0!==r?r:cM,k=null!==(a=null!==(o=null!==(s=null!==(u=null==n?void 0:n.firstWeekContainsDate)&&void 0!==u?u:null==n||null===(l=n.locale)||void 0===l||null===(l=l.options)||void 0===l?void 0:l.firstWeekContainsDate)&&void 0!==s?s:g.firstWeekContainsDate)&&void 0!==o?o:null===(c=g.locale)||void 0===c||null===(c=c.options)||void 0===c?void 0:c.firstWeekContainsDate)&&void 0!==a?a:1,b=null!==(f=null!==(h=null!==(d=null!==(v=null==n?void 0:n.weekStartsOn)&&void 0!==v?v:null==n||null===(p=n.locale)||void 0===p||null===(p=p.options)||void 0===p?void 0:p.weekStartsOn)&&void 0!==d?d:g.weekStartsOn)&&void 0!==h?h:null===(m=g.locale)||void 0===m||null===(m=m.options)||void 0===m?void 0:m.weekStartsOn)&&void 0!==f?f:0,w=zN(e);if(!ZN(w))throw new RangeError("Invalid time value");var _=t.match(BM).map((function(e){var t=e[0];return"p"===t||"P"===t?(0,RM[t])(e,y.formatLong):e})).join("").match(UM).map((function(e){if("''"===e)return{isToken:!1,value:"'"};var t=e[0];if("'"===t)return{isToken:!1,value:HM(e)};if(AM[t])return{isToken:!0,value:e};if(t.match(GM))throw new RangeError("Format string contains an unescaped latin alphabet character `"+t+"`");return{isToken:!1,value:e}}));y.localize.preprocessor&&(_=y.localize.preprocessor(w,_));var C={firstWeekContainsDate:k,weekStartsOn:b,locale:y};return _.map((function(r){if(!r.isToken)return r.value;var i=r.value;return(null!=n&&n.useAdditionalWeekYearTokens||!function(e){return jM.test(e)}(i))&&(null!=n&&n.useAdditionalDayOfYearTokens||!function(e){return FM.test(e)}(i))||function(e,t,n){var r=function(e,t,n){var r="Y"===e[0]?"years":"days of the month";return"Use `".concat(e.toLowerCase(),"` instead of `").concat(e,"` (in `").concat(t,"`) for formatting ").concat(r," to the input `").concat(n,"`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md")}(e,t,n);if(console.warn(r),VM.includes(e))throw new RangeError(r)}(i,t,String(e)),(0,AM[i[0]])(w,i,y.localize,C)})).join("")}function HM(e){var t=e.match(zM);return t?t[1].replace(qM,"'"):e}var KM,QM="host",YM="guest",$M="host",XM="guest",JM="4k3/8/8/8/8/8/8/4K3 w - - 0 1",ZM={class:"root"},eO={key:0,class:"toolbar"},tO=["src"],nO=["src"],rO=["src"],iO=["src"],aO={key:0},oO=["onClick"],sO={__name:"ChessHistory",props:["size"],emits:["requestNodeSelected","requestStartPosition"],setup:function(e,t){var n=t.expose,r=t.emit;Ba((function(e){return{a700bbee:a.value}}));var i=e,a=da((function(){return(i.size||100)+"px"})),s=r,l=Qt([]),f=Qt(),h=Qt(-1),d=Qt(!1);function v(){return(v=u(o().mark((function e(t){var n;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t<0&&(t=-1),h.value=t,!(t>0)){e.next=9;break}return e.next=5,lN(50);case 5:(n=document.querySelector(".main-content > .selected"))&&n.scrollIntoView(),e.next=10;break;case 9:document.querySelector(".main-content").scrollTo(0,0);case 10:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function p(){d.value&&d.value&&s("requestStartPosition")}function m(){if(d.value){for(h.value-=1;h.value>=0;h.value--){if(l.value[h.value].fen)break}if(h.value>=0){var e=l.value[h.value],t=e.fen,n=e.fromFileIndex,r=e.fromRankIndex,i=e.toFileIndex,a=e.toRankIndex;s("requestNodeSelected",{nodeIndex:h.value,fen:t,fromFileIndex:n,fromRankIndex:r,toFileIndex:i,toRankIndex:a})}else p()}}function g(){if(d.value){for(h.value+=1;h.value<l.value.length;h.value++);var e=l.value[h.value];if(null!=e&&e.fen){var t=l.value[h.value],n=t.fen,r=t.fromFileIndex,i=t.fromRankIndex,a=t.toFileIndex,o=t.toRankIndex;s("requestNodeSelected",{nodeIndex:h.value,fen:n,fromFileIndex:r,fromRankIndex:i,toFileIndex:a,toRankIndex:o})}else m()}}function y(){if(d.value){for(h.value+=1;h.value<l.value.length;h.value++){if(l.value[h.value].fen)break}var e=l.value[h.value];null!=e&&e.fen||m();var t=e.fen,n=e.fromFileIndex,r=e.fromRankIndex,i=e.toFileIndex,a=e.toRankIndex;s("requestNodeSelected",{nodeIndex:h.value,fen:t,fromFileIndex:n,fromRankIndex:r,toFileIndex:i,toRankIndex:a})}}return n({reset:function(e,t){var n="".concat(e,".").concat(t?"":"..");d.value=!1,h.value=-1,l.value=[{number:n}]},addNodeOrCompleteFirst:function(e){var t=e.number,n=e.fan,r=e.san,i=e.fen,a=e.fromFileIndex,o=e.fromRankIndex,s=e.toFileIndex,u=e.toRankIndex,f=e.whiteTurn;if(1!==l.value.length||l.value[0].fan){var h="".concat(t,".").concat(!0===f?"":"..");l.value=[].concat(_(l.value),[{number:h,fan:n,san:r,fen:i,fromFileIndex:a,fromRankIndex:o,toFileIndex:s,toRankIndex:u,whiteTurn:f}])}else{var d=c(c({},l.value[0]),{},{fan:n,san:r,fen:i,fromFileIndex:a,fromRankIndex:o,toFileIndex:s,toRankIndex:u,whiteTurn:f});l.value[0]=d}},getNodes:function(){return l.value.map((function(e){return e}))},setNodes:function(e){l.value=e},setSelectedNode:function(e){return v.apply(this,arguments)},scrollToLastElement:function(){document.querySelector(".main-content *:last-child").scrollIntoView()},activateNavigationMode:function(){d.value=!0,g()},getLastNode:function(){return l.value[l.value.findLastIndex((function(e){return!0}))]},getNodesCount:function(){return l.value.length}}),function(e,t){return Li(),Ni("div",ZM,[d.value?(Li(),Ni("div",eO,[ji("button",{onClick:p,class:"toolbar__button"},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M%209.2500%2047.0898%20L%2014.5703%2047.0898%20C%2016.6328%2047.0898%2017.6875%2046.0117%2017.6875%2043.9492%20L%2017.6875%2028.8789%20C%2017.6172%2028.5976%2017.5703%2028.2930%2017.5703%2027.9883%20C%2017.5703%2027.6602%2017.6172%2027.3555%2017.6875%2027.0742%20L%2017.6875%2012.0273%20C%2017.6875%209.8945%2016.6328%208.9102%2014.5703%208.9102%20L%209.2500%208.9102%20C%207.1875%208.9102%206.1094%209.9883%206.1094%2012.0273%20L%206.1094%2043.9492%20C%206.1094%2046.0117%207.1875%2047.0898%209.2500%2047.0898%20Z%20M%2046.5157%2046.3867%20C%2048.3671%2046.3867%2049.8906%2045.0039%2049.8906%2042.3789%20L%2049.8906%2013.5976%20C%2049.8906%2010.9727%2048.3671%209.5664%2046.5157%209.5664%20C%2045.5781%209.5664%2044.7813%209.8711%2043.8203%2010.4336%20L%2019.9375%2024.4961%20C%2018.6719%2025.2461%2017.9688%2026.1133%2017.6875%2027.0742%20L%2017.6875%2028.8789%20C%2017.9688%2029.8633%2018.6719%2030.7071%2019.9375%2031.4805%20L%2043.8203%2045.5195%20C%2044.7813%2046.0820%2045.5781%2046.3867%2046.5157%2046.3867%20Z'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,tO)]),ji("button",{onClick:m,class:"toolbar__button"},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M%2025.1218%2044.5009%20C%2026.7084%2044.5009%2028.0509%2043.2804%2028.0509%2041.0225%20L%2028.0509%2029.3058%20C%2028.2747%2030.1601%2028.9053%2030.8924%2030.0037%2031.5434%20L%2050.7318%2043.7483%20C%2051.5454%2044.2365%2052.2369%2044.5009%2053.0709%2044.5009%20C%2054.6577%2044.5009%2056%2043.2804%2056%2041.0225%20L%2056%2016.0228%20C%2056%2013.7649%2054.6577%2012.5444%2053.0709%2012.5444%20C%2052.2369%2012.5444%2051.5658%2012.8088%2050.7318%2013.2970%20L%2030.0037%2025.5020%20C%2028.8849%2026.1529%2028.2747%2026.8852%2028.0509%2027.7395%20L%2028.0509%2016.0228%20C%2028.0509%2013.7649%2026.7084%2012.5444%2025.1218%2012.5444%20C%2024.2877%2012.5444%2023.6165%2012.8088%2022.7825%2013.2970%20L%202.0545%2025.5020%20C%20.6102%2026.3563%200%2027.3530%200%2028.5125%20C%200%2029.6923%20.6102%2030.6890%202.0545%2031.5434%20L%2022.7825%2043.7483%20C%2023.5962%2044.2365%2024.2877%2044.5009%2025.1218%2044.5009%20Z'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,nO)]),ji("button",{onClick:y,class:"toolbar__button"},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M%202.9281%2044.4947%20C%203.7618%2044.4947%204.4531%2044.2304%205.2665%2043.7424%20L%2025.9869%2031.5420%20C%2027.1053%2030.8913%2027.7153%2030.1592%2027.9389%2029.3052%20L%2027.9389%2041.0176%20C%2027.9389%2043.2747%2029.2810%2044.4947%2030.8671%2044.4947%20C%2031.7007%2044.4947%2032.3921%2044.2304%2033.2055%2043.7424%20L%2053.9461%2031.5420%20C%2055.3695%2030.6879%2056%2029.6916%2056%2028.5122%20C%2056%2027.3531%2055.3695%2026.3568%2053.9461%2025.5028%20L%2033.2055%2013.3023%20C%2032.3921%2012.8143%2031.7007%2012.5500%2030.8671%2012.5500%20C%2029.2810%2012.5500%2027.9389%2013.7700%2027.9389%2016.0271%20L%2027.9389%2027.7395%20C%2027.7153%2026.8855%2027.1053%2026.1535%2025.9869%2025.5028%20L%205.2665%2013.3023%20C%204.4328%2012.8143%203.7618%2012.5500%202.9281%2012.5500%20C%201.3420%2012.5500%200%2013.7700%200%2016.0271%20L%200%2041.0176%20C%200%2043.2747%201.3420%2044.4947%202.9281%2044.4947%20Z'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,rO)]),ji("button",{onClick:g,class:"toolbar__button"},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20fill='%23000000'%20width='800px'%20height='800px'%20viewBox='0%200%2056%2056'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20d='M%209.4844%2046.3867%20C%2010.4453%2046.3867%2011.2422%2046.0820%2012.1797%2045.5195%20L%2036.0625%2031.4805%20C%2037.3516%2030.7071%2038.0547%2029.8633%2038.3125%2028.8789%20L%2038.3125%2043.9492%20C%2038.3125%2046.0117%2039.3906%2047.0898%2041.4532%2047.0898%20L%2046.7735%2047.0898%20C%2048.8360%2047.0898%2049.8906%2046.0117%2049.8906%2043.9492%20L%2049.8906%2012.0273%20C%2049.8906%209.8945%2048.8360%208.9102%2046.7735%208.9102%20L%2041.4532%208.9102%20C%2039.3906%208.9102%2038.3125%209.9883%2038.3125%2012.0273%20L%2038.3125%2027.0742%20C%2038.0547%2026.1133%2037.3516%2025.2461%2036.0625%2024.4961%20L%2012.1797%2010.4336%20C%2011.2188%209.8711%2010.4453%209.5664%209.4844%209.5664%20C%207.6563%209.5664%206.1094%2010.9727%206.1094%2013.5976%20L%206.1094%2042.3789%20C%206.1094%2045.0039%207.6563%2046.3867%209.4844%2046.3867%20Z'/%3e%3c/svg%3e"),width:"20",height:"20"},null,8,iO)])])):Gi("",!0),ji("div",{class:"main-content",ref_key:"mainContent",ref:f},[(Li(!0),Ni(wi,null,Nr(l.value,(function(e,t){var n,r,i;return Li(),Ni(wi,{key:t},[e.whiteTurn||0===t?(Li(),Ni("span",aO,_e("".concat(null!==(n=e.number)&&void 0!==n?n:"","")),1)):Gi("",!0),ji("button",{onClick:function(e){return n=t,r=l.value[n],i=r.fen,a=r.fromFileIndex,o=r.fromRankIndex,u=r.toFileIndex,c=r.toRankIndex,void(d.value&&i&&s("requestNodeSelected",{nodeIndex:n,fen:i,fromFileIndex:a,fromRankIndex:o,toFileIndex:u,toRankIndex:c}));var n,r,i,a,o,u,c},class:pe({selected:(i=t,i===h.value)})},_e("".concat(null!==(r=e.fan)&&void 0!==r?r:"","")),11,oO)],64)})),128))],512)])}}},uO=WA(sO,[["__scopeId","data-v-aa512618"]]),lO="data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2024%2024'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.c{stroke:%231237a5;}.c,.d{fill:none;stroke-linecap:round;stroke-linejoin:round;}.d{stroke:%234eb8ff;}%3c/style%3e%3c/defs%3e%3cg%20id='a'/%3e%3cg%20id='b'%3e%3cline%20class='c'%20x1='7.5'%20x2='7.5'%20y1='20.5'%20y2='3.5'/%3e%3cline%20class='c'%20x1='7.48'%20x2='3.5'%20y1='3.54'%20y2='7.99'/%3e%3cline%20class='c'%20x1='7.52'%20x2='11.5'%20y1='3.54'%20y2='7.99'/%3e%3cline%20class='d'%20x1='16.5'%20x2='16.5'%20y1='3.5'%20y2='20.5'/%3e%3cline%20class='d'%20x1='16.48'%20x2='12.5'%20y1='20.46'%20y2='16.01'/%3e%3cline%20class='d'%20x1='16.52'%20x2='20.5'%20y1='20.46'%20y2='16.01'/%3e%3c/g%3e%3c/svg%3e",cO="data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-1%200%2020%2020'%20xmlns='http://www.w3.org/2000/svg'%3e%3cg%20id='user-6'%20transform='translate(-3%20-2)'%3e%3cpath%20id='secondary'%20fill='%232ca9bc'%20d='M11,13h2a7,7,0,0,1,7,7h0a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1H4a7,7,0,0,1,7-7Z'/%3e%3cpath%20id='primary'%20d='M20,20h0a1,1,0,0,1-1,1H5a1,1,0,0,1-1-1H4a7,7,0,0,1,7-7h2A7,7,0,0,1,20,20ZM12,3a5,5,0,1,0,5,5A5,5,0,0,0,12,3Z'%20fill='none'%20stroke='%23000000'%20stroke-linecap='round'%20stroke-linejoin='round'%20stroke-width='2'/%3e%3c/g%3e%3c/svg%3e",fO=jf("NewGameStore",{state:function(){return{startPosition:NA("NewGameStore$startPosition",gN),hostHasWhite:NA("NewGameStore$hostHasWhite",!0),useClock:NA("NewGameStore$useClock",!0),startTimeMinutes:NA("NewGameStore$startTimeMinutes",5),startTimeSeconds:NA("NewGameStore$startTimeSeconds",0),increment:NA("NewGameStore$increment",0)}},actions:{setStartPosition:function(e){this.startPosition=e},setHostHasWhiteStatus:function(e){this.hostHasWhite=e},setUseClockStatus:function(e){this.useClock=e},setStartTimeMinutes:function(e){this.startTimeMinutes=e},setStartTimeSeconds:function(e){this.startTimeSeconds=e},setIncrement:function(e){this.increment=e}},persist:sessionStorage}),hO=["width","height"],dO=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#ffffff","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],vO=hr({__name:"WP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},dO,8,hO)}}}),pO=["width","height"],mO=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#ffffff;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#ffffff;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#000000;stroke:#000000;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#000000;stroke:#000000;"></path></g>',1)],gO=hr({__name:"WN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},mO,8,pO)}}}),yO=["width","height"],kO=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],bO=hr({__name:"WB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},kO,8,yO)}}}),wO=["width","height"],_O=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14" style="stroke-linecap:butt;"></path><path d="M 34,14 L 31,17 L 14,17 L 11,14"></path><path d="M 31,17 L 31,29.5 L 14,29.5 L 14,17" style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 31,29.5 L 32.5,32 L 12.5,32 L 14,29.5"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path></g>',1)],CO=hr({__name:"WR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},_O,8,wO)}}}),xO=["width","height"],EO=[qi('<g style="opacity:1;fill:#ffffff;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(-1,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(15.5,-5.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(32,-1)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(7,-4.5)"></path><path d="M 9 13 A 2 2 0 1 1  5,13 A 2 2 0 1 1  9 13 z" transform="translate(24,-4)"></path><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38,14 L 31,25 L 31,11 L 25.5,24.5 L 22.5,9.5 L 19.5,24.5 L 14,10.5 L 14,25 L 7,14 L 9,26 z " style="stroke-linecap:butt;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z " style="stroke-linecap:butt;"></path><path d="M 11.5,30 C 15,29 30,29 33.5,30" style="fill:none;"></path><path d="M 12,33.5 C 18,32.5 27,32.5 33,33.5" style="fill:none;"></path></g>',1)],SO=hr({__name:"WQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},EO,8,xO)}}}),LO=["width","height"],IO=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#ffffff;stroke:#000000;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#ffffff;stroke:#000000;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30" style="fill:none;stroke:#000000;"></path><path d="M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5" style="fill:none;stroke:#000000;"></path><path d="M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#000000;"></path></g>',1)],TO=hr({__name:"WK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},IO,8,LO)}}}),AO=["width","height"],NO=[ji("path",{d:"M 22,9 C 19.79,9 18,10.79 18,13 C 18,13.89 18.29,14.71 18.78,15.38 C 16.83,16.5 15.5,18.59 15.5,21 C 15.5,23.03 16.44,24.84 17.91,26.03 C 14.91,27.09 10.5,31.58 10.5,39.5 L 33.5,39.5 C 33.5,31.58 29.09,27.09 26.09,26.03 C 27.56,24.84 28.5,23.03 28.5,21 C 28.5,18.59 27.17,16.5 25.22,15.38 C 25.71,14.71 26,13.89 26,13 C 26,10.79 24.21,9 22,9 z ",style:{opacity:"1",fill:"#000000","fill-opacity":"1","fill-rule":"nonzero",stroke:"#000000","stroke-width":"1.5","stroke-linecap":"round","stroke-linejoin":"miter","stroke-miterlimit":"4","stroke-dasharray":"none","stroke-opacity":"1"}},null,-1)],MO=hr({__name:"BP",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},NO,8,AO)}}}),OO=["width","height"],PO=[qi('<g style="opacity:1;fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22,10 C 32.5,11 38.5,18 38,39 L 15,39 C 15,30 25,32.5 23,18" style="fill:#000000;stroke:#000000;"></path><path d="M 24,18 C 24.38,20.91 18.45,25.37 16,27 C 13,29 13.18,31.34 11,31 C 9.958,30.06 12.41,27.96 11,28 C 10,28 11.19,29.23 10,30 C 9,30 5.997,31 6,26 C 6,24 12,14 12,14 C 12,14 13.89,12.1 14,10.5 C 13.27,9.506 13.5,8.5 13.5,7.5 C 14.5,6.5 16.5,10 16.5,10 L 18.5,10 C 18.5,10 19.28,8.008 21,7 C 22,7 22,10 22,10" style="fill:#000000;stroke:#000000;"></path><path d="M 9.5 25.5 A 0.5 0.5 0 1 1 8.5,25.5 A 0.5 0.5 0 1 1 9.5 25.5 z" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 15 15.5 A 0.5 1.5 0 1 1  14,15.5 A 0.5 1.5 0 1 1  15 15.5 z" transform="matrix(0.866,0.5,-0.5,0.866,9.693,-5.173)" style="fill:#ffffff;stroke:#ffffff;"></path><path d="M 24.55,10.4 L 24.1,11.85 L 24.6,12 C 27.75,13 30.25,14.49 32.5,18.75 C 34.75,23.01 35.75,29.06 35.25,39 L 35.2,39.5 L 37.45,39.5 L 37.5,39 C 38,28.94 36.62,22.15 34.25,17.66 C 31.88,13.17 28.46,11.02 25.06,10.5 L 24.55,10.4 z " style="fill:#ffffff;stroke:none;"></path></g>',1)],DO=hr({__name:"BN",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},PO,8,OO)}}}),RO=["width","height"],FO=[qi('<g style="opacity:1;fill:none;fill-rule:evenodd;fill-opacity:1;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:#000000;stroke-linecap:butt;"><path d="M 9,36 C 12.39,35.03 19.11,36.43 22.5,34 C 25.89,36.43 32.61,35.03 36,36 C 36,36 37.65,36.54 39,38 C 38.32,38.97 37.35,38.99 36,38.5 C 32.61,37.53 25.89,38.96 22.5,37.5 C 19.11,38.96 12.39,37.53 9,38.5 C 7.646,38.99 6.677,38.97 6,38 C 7.354,36.06 9,36 9,36 z"></path><path d="M 15,32 C 17.5,34.5 27.5,34.5 30,32 C 30.5,30.5 30,30 30,30 C 30,27.5 27.5,26 27.5,26 C 33,24.5 33.5,14.5 22.5,10.5 C 11.5,14.5 12,24.5 17.5,26 C 17.5,26 15,27.5 15,30 C 15,30 14.5,30.5 15,32 z"></path><path d="M 25 8 A 2.5 2.5 0 1 1  20,8 A 2.5 2.5 0 1 1  25 8 z"></path></g><path d="M 17.5,26 L 27.5,26 M 15,30 L 30,30 M 22.5,15.5 L 22.5,20.5 M 20,18 L 25,18" style="fill:none;stroke:#ffffff;stroke-linejoin:miter;"></path></g>',1)],jO=hr({__name:"BB",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},FO,8,RO)}}}),VO=["width","height"],UO=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 9,39 L 36,39 L 36,36 L 9,36 L 9,39 z " style="stroke-linecap:butt;"></path><path d="M 12.5,32 L 14,29.5 L 31,29.5 L 32.5,32 L 12.5,32 z " style="stroke-linecap:butt;"></path><path d="M 12,36 L 12,32 L 33,32 L 33,36 L 12,36 z " style="stroke-linecap:butt;"></path><path d="M 14,29.5 L 14,16.5 L 31,16.5 L 31,29.5 L 14,29.5 z " style="stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 11,14 L 34,14 L 31,16.5 L 14,16.5 z " style="stroke-linecap:butt;"></path><path d="M 11,14 L 11,9 L 15,9 L 15,11 L 20,11 L 20,9 L 25,9 L 25,11 L 30,11 L 30,9 L 34,9 L 34,14 L 11,14 z " style="stroke-linecap:butt;"></path><path d="M 12,35.5 L 33,35.5 L 33,35.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 13,31.5 L 32,31.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,29.5 L 31,29.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 14,16.5 L 31,16.5" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path><path d="M 11,14 L 34,14" style="fill:none;stroke:#ffffff;stroke-width:1;stroke-linejoin:miter;"></path></g>',1)],BO=hr({__name:"BR",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},UO,8,VO)}}}),zO=["width","height"],qO=[qi('<g style="opacity:1;fill:#000000;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><g style="fill:#000000;stroke:none;"><circle cx="6" cy="12" r="2.75"></circle><circle cx="14" cy="9" r="2.75"></circle><circle cx="22.5" cy="8" r="2.75"></circle><circle cx="31" cy="9" r="2.75"></circle><circle cx="39" cy="12" r="2.75"></circle></g><path d="M 9,26 C 17.5,24.5 30,24.5 36,26 L 38.5,13.5 L 31,25 L 30.7,10.9 L 25.5,24.5 L 22.5,10 L 19.5,24.5 L 14.3,10.9 L 14,25 L 6.5,13.5 L 9,26 z" style="stroke-linecap:butt;stroke:#000000;"></path><path d="M 9,26 C 9,28 10.5,28 11.5,30 C 12.5,31.5 12.5,31 12,33.5 C 10.5,34.5 10.5,36 10.5,36 C 9,37.5 11,38.5 11,38.5 C 17.5,39.5 27.5,39.5 34,38.5 C 34,38.5 35.5,37.5 34,36 C 34,36 34.5,34.5 33,33.5 C 32.5,31 32.5,31.5 33.5,30 C 34.5,28 36,28 36,26 C 27.5,24.5 17.5,24.5 9,26 z" style="stroke-linecap:butt;"></path><path d="M 11,38.5 A 35,35 1 0 0 34,38.5" style="fill:none;stroke:#000000;stroke-linecap:butt;"></path><path d="M 11,29 A 35,35 1 0 1 34,29" style="fill:none;stroke:#ffffff;"></path><path d="M 12.5,31.5 L 32.5,31.5" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,34.5 A 35,35 1 0 0 33.5,34.5" style="fill:none;stroke:#ffffff;"></path><path d="M 10.5,37.5 A 35,35 1 0 0 34.5,37.5" style="fill:none;stroke:#ffffff;"></path></g>',1)],GO=hr({__name:"BQ",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},qO,8,zO)}}}),WO=["width","height"],HO=[qi('<g style="fill:none;fill-opacity:1;fill-rule:evenodd;stroke:#000000;stroke-width:1.5;stroke-linecap:round;stroke-linejoin:round;stroke-miterlimit:4;stroke-dasharray:none;stroke-opacity:1;"><path d="M 22.5,11.63 L 22.5,6" style="fill:none;stroke:#000000;stroke-linejoin:miter;" id="path6570"></path><path d="M 22.5,25 C 22.5,25 27,17.5 25.5,14.5 C 25.5,14.5 24.5,12 22.5,12 C 20.5,12 19.5,14.5 19.5,14.5 C 18,17.5 22.5,25 22.5,25" style="fill:#000000;fill-opacity:1;stroke-linecap:butt;stroke-linejoin:miter;"></path><path d="M 11.5,37 C 17,40.5 27,40.5 32.5,37 L 32.5,30 C 32.5,30 41.5,25.5 38.5,19.5 C 34.5,13 25,16 22.5,23.5 L 22.5,27 L 22.5,23.5 C 19,16 9.5,13 6.5,19.5 C 3.5,25.5 11.5,29.5 11.5,29.5 L 11.5,37 z " style="fill:#000000;stroke:#000000;"></path><path d="M 20,8 L 25,8" style="fill:none;stroke:#000000;stroke-linejoin:miter;"></path><path d="M 32,29.5 C 32,29.5 40.5,25.5 38.03,19.85 C 34.15,14 25,18 22.5,24.5 L 22.51,26.6 L 22.5,24.5 C 20,18 9.906,14 6.997,19.85 C 4.5,25.5 11.85,28.85 11.85,28.85" style="fill:none;stroke:#ffffff;"></path><path d="M 11.5,30 C 17,27 27,27 32.5,30 M 11.5,33.5 C 17,30.5 27,30.5 32.5,33.5 M 11.5,37 C 17,34 27,34 32.5,37" style="fill:none;stroke:#ffffff;"></path></g>',1)],KO=hr({__name:"BK",props:{size:{default:100}},setup:function(e){var t=e,n=da((function(){return"".concat(t.size,"px")}));return function(e,t){return Li(),Ni("svg",{xmlns:"http://www.w3.org/2000/svg",version:"1.1",width:n.value,height:n.value,viewBox:"0 0 45 45"},HO,8,WO)}}}),QO=function(e){return Mn("data-v-e4d28e91"),e=e(),On(),e},YO={class:"_root"},$O=QO((function(){return ji("div",null,null,-1)})),XO={class:"editedValueButton"},JO=["src"],ZO=QO((function(){return ji("div",null,null,-1)})),eP={class:"editedValueButton"},tP=["src"],nP={class:"_centralZone"},rP=["src"],iP={class:"editedValueButton"},aP=["src"],oP=QO((function(){return ji("div",null,null,-1)})),sP={class:"editedValueButton"},uP=["src"],lP=QO((function(){return ji("div",null,null,-1)})),cP={__name:"EditedValue",props:["centralSize"],emits:["change"],setup:function(e,t){var n=t.expose,r=t.emit;Ba((function(e){return{"39d64174":u.value,"2e140f5c":f.value}}));var i=r,a=e,o=Qt(""),s=Qt(!0),u=da((function(){return(a.centralSize||100)+"px"})),l=da((function(){return.98*a.centralSize})),c=da((function(){return a.centralSize/1.5})),f=da((function(){return c.value+"px"}));function h(){switch(o.value){case"P":case"p":o.value="";break;case"N":o.value="P";break;case"B":o.value="N";break;case"R":o.value="B";break;case"Q":o.value="R";break;case"K":o.value="Q";break;case"n":o.value="p";break;case"b":o.value="n";break;case"r":o.value="b";break;case"q":o.value="r";break;case"k":o.value="q";break;default:o.value=s.value?"K":"k"}i("change",o.value)}function d(){switch(o.value){case"P":o.value="N";break;case"N":o.value="B";break;case"B":o.value="R";break;case"R":o.value="Q";break;case"Q":o.value="K";break;case"K":case"k":o.value="";break;case"p":o.value="n";break;case"n":o.value="b";break;case"b":o.value="r";break;case"r":o.value="q";break;case"q":o.value="k";break;default:o.value=s.value?"P":"p"}i("change",o.value)}function v(){switch(""!==o.value&&(s.value=!s.value),o.value){case"P":o.value="p";break;case"N":o.value="n";break;case"B":o.value="b";break;case"R":o.value="r";break;case"Q":o.value="q";break;case"K":o.value="k";break;case"p":o.value="P";break;case"n":o.value="N";break;case"b":o.value="B";break;case"r":o.value="R";break;case"q":o.value="Q";break;case"k":o.value="K"}i("change",o.value)}return n({getValue:function(){return o.value}}),function(e,t){return Li(),Ni("div",YO,[$O,ji("div",XO,[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M256,504C119.248,504,8,392.752,8,256S119.248,8,256,8s248,111.248,248,248S392.752,504,256,504z'/%3e%3cpath%20style='fill:%23E8E8E8;'%20d='M256,16c132.336,0,240,107.664,240,240S388.336,496,256,496S16,388.336,16,256S123.664,16,256,16%20M256,0C114.608,0,0,114.608,0,256c0,141.376,114.608,256,256,256s256-114.624,256-256C512,114.608,397.392,0,256,0L256,0z'/%3e%3cpolygon%20style='fill:%23DB2B42;'%20points='151.536,306.384%20222.784,233.36%20222.784,409.6%20289.232,409.6%20289.232,233.36%20360.464,306.384%20407.888,259.872%20256,104.16%20104.112,259.872%20'/%3e%3c/svg%3e"),onClick:v},null,8,JO)]),ZO,ji("div",eP,[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M256,504C119.248,504,8,392.752,8,256S119.248,8,256,8s248,111.248,248,248S392.752,504,256,504z'/%3e%3cpath%20style='fill:%23E8E8E8;'%20d='M256,16c132.336,0,240,107.664,240,240S388.336,496,256,496S16,388.336,16,256S123.664,16,256,16%20M256,0C114.608,0,0,114.608,0,256c0,141.376,114.608,256,256,256s256-114.624,256-256C512,114.608,397.392,0,256,0L256,0z'/%3e%3cpolygon%20style='fill:%23DB2B42;'%20points='306.8,360.048%20233.776,288.8%20410.016,288.8%20410.016,222.352%20233.776,222.352%20306.8,151.12%20260.288,103.696%20104.576,255.584%20260.288,407.472%20'/%3e%3c/svg%3e"),onClick:h},null,8,tP)]),ji("div",nP,["P"===o.value?(Li(),Mi(vO,{key:0,size:l.value},null,8,["size"])):"N"===o.value?(Li(),Mi(gO,{key:1,size:l.value},null,8,["size"])):"B"===o.value?(Li(),Mi(bO,{key:2,size:l.value},null,8,["size"])):"R"===o.value?(Li(),Mi(CO,{key:3,size:l.value},null,8,["size"])):"Q"===o.value?(Li(),Mi(SO,{key:4,size:l.value},null,8,["size"])):"K"===o.value?(Li(),Mi(TO,{key:5,size:l.value},null,8,["size"])):"p"===o.value?(Li(),Mi(MO,{key:6,size:l.value},null,8,["size"])):"n"===o.value?(Li(),Mi(DO,{key:7,size:l.value},null,8,["size"])):"b"===o.value?(Li(),Mi(jO,{key:8,size:l.value},null,8,["size"])):"r"===o.value?(Li(),Mi(BO,{key:9,size:l.value},null,8,["size"])):"q"===o.value?(Li(),Mi(GO,{key:10,size:l.value},null,8,["size"])):"k"===o.value?(Li(),Mi(KO,{key:11,size:l.value},null,8,["size"])):(Li(),Ni("img",{key:12,src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='0%200%2064%2064'%20xmlns='http://www.w3.org/2000/svg'%3e%3cdefs%3e%3cstyle%3e.cls-1{fill:none;stroke:%23000000;stroke-linecap:round;stroke-linejoin:round;stroke-width:2px;}%3c/style%3e%3c/defs%3e%3ctitle/%3e%3cg%20data-name='Layer%2050'%20id='Layer_50'%3e%3cpath%20class='cls-1'%20d='M15.73,11.53H48.14a4.18,4.18,0,0,1,4.18,4.18v36a11,11,0,0,1-11,11H22.58a11,11,0,0,1-11-11v-36A4.18,4.18,0,0,1,15.73,11.53Z'/%3e%3crect%20class='cls-1'%20height='5.01'%20rx='2.43'%20ry='2.43'%20width='48.84'%20x='7.52'%20y='6.52'/%3e%3cpath%20class='cls-1'%20d='M21.79,6.52h0a5.32,5.32,0,0,1,5.32-5.33h9.81a5.33,5.33,0,0,1,5.33,5.33h0'/%3e%3crect%20class='cls-1'%20height='38.88'%20width='2.88'%20x='30.5'%20y='16.75'/%3e%3crect%20class='cls-1'%20height='38.88'%20width='2.88'%20x='16.13'%20y='16.75'/%3e%3crect%20class='cls-1'%20height='38.88'%20width='2.88'%20x='44.63'%20y='16.75'/%3e%3c/g%3e%3c/svg%3e")},null,8,rP))]),ji("div",iP,[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M256,504C119.248,504,8,392.752,8,256S119.248,8,256,8s248,111.248,248,248S392.752,504,256,504z'/%3e%3cpath%20style='fill:%23E8E8E8;'%20d='M256,16c132.336,0,240,107.664,240,240S388.336,496,256,496S16,388.336,16,256S123.664,16,256,16%20M256,0C114.608,0,0,114.608,0,256c0,141.376,114.608,256,256,256s256-114.624,256-256C512,114.608,397.392,0,256,0L256,0z'/%3e%3cpolygon%20style='fill:%23DB2B42;'%20points='205.2,151.12%20278.224,222.368%20101.984,222.368%20101.984,288.816%20278.224,288.816%20205.2,360.048%20251.712,407.472%20407.424,255.584%20251.712,103.696%20'/%3e%3c/svg%3e"),onClick:d},null,8,aP)]),oP,ji("div",sP,[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20height='800px'%20width='800px'%20version='1.1'%20id='Layer_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cpath%20style='fill:%23FFFFFF;'%20d='M256,504C119.248,504,8,392.752,8,256S119.248,8,256,8s248,111.248,248,248S392.752,504,256,504z'/%3e%3cpath%20style='fill:%23E8E8E8;'%20d='M256,16c132.336,0,240,107.664,240,240S388.336,496,256,496S16,388.336,16,256S123.664,16,256,16%20M256,0C114.608,0,0,114.608,0,256c0,141.376,114.608,256,256,256s256-114.624,256-256C512,114.608,397.392,0,256,0L256,0z'/%3e%3cpolygon%20style='fill:%23DB2B42;'%20points='360.464,204.784%20289.216,277.808%20289.216,101.568%20222.768,101.568%20222.768,277.808%20151.536,204.784%20104.112,251.296%20256,407.008%20407.888,251.296%20'/%3e%3c/svg%3e"),onClick:v},null,8,uP)]),lP])}}},fP=WA(cP,[["__scopeId","data-v-e4d28e91"]]),hP={class:"dialog"},dP={class:"center"},vP={class:"mainZone"},pP={class:"boardZone"},mP=["src"],gP={class:"buttonsLine"},yP={class:"buttonsLine"},kP={class:"field"},bP=["checked"],wP={for:"whiteTurnYes"},_P=["checked"],CP={for:"whiteTurnNo"},xP={class:"field"},EP={for:"whiteOO"},SP={class:"field"},LP={for:"whiteOO"},IP={class:"field"},TP={for:"blackOO"},AP={class:"field"},NP={for:"blackOO"},MP={class:"field"},OP={for:"enPassant"},PP=["value"],DP={class:"field"},RP={for:"nullityHalfMovesCount"},FP={class:"field"},jP={for:"moveNumber"},VP={class:"field"},UP=["checked"],BP={for:"hasWhiteYes"},zP=["checked"],qP={for:"hasWhiteNo"},GP={class:"field"},WP=["checked"],HP={for:"includeTimeYes"},KP=["checked"],QP={for:"includeTimeNo"},YP={key:0,class:"field"},$P={for:"timeMinutes"},XP={for:"timeSeconds"},JP={for:"incrementSeconds"},ZP={id:"buttons"},eD={__name:"NewGameDialog",props:["initialPosition"],setup:function(e,t){var n=t.expose,r=gf().t,i=fO(),a=Vf(i),s=a.startPosition,l=a.startTimeMinutes,c=a.startTimeSeconds,f=a.increment,h=a.useClock,d=a.hostHasWhite,v=e,p=Qt(!1),m=Qt(),g=Qt(),y=Qt(100),k=Qt(100),b=Qt(!0),w=Qt(!0),_=Qt(!0),C=Qt(5),x=Qt(0),E=Qt(0),S=Qt(0),L=Qt(1),I=Qt(!0),T=Qt(!0),A=Qt(!0),N=Qt(!0),M=Qt(r("pages.newGame.noEnPassant")),O=Qt(),P=[r("pages.newGame.noEnPassant"),"a6","b6","c6","d6","e6","f6","g6","h6"],D=[r("pages.newGame.noEnPassant"),"a3","b3","c3","d3","e3","f3","g3","h3"],R=da((function(){return b.value?P:D}));function F(e){if(void 0===e)return!1;try{return new BN(e),!0}catch(t){return console.error(t),!1}}function j(){var e,t=m.value.getBoardCode()+" "+(w.value?"w":"b")+" "+(e="",I.value&&(e+="K"),T.value&&(e+="Q"),A.value&&(e+="k"),N.value&&(e+="q"),e.length>0?e:"-")+" "+(M.value===r("pages.newGame.noEnPassant")?"-":M.value)+" "+S.value.toString()+" "+L.value.toString();return F(t)?t:void 0}function V(e){var t=e.split(" ");if(t.length<6)return!1;var n,i=parseInt(t[4]),a=parseInt(t[5]);return!isNaN(i)&&!isNaN(a)&&(m.value.setFromBoardCode(e),w.value="w"===t[1],n=t[2],I.value=n.includes("K"),T.value=n.includes("Q"),A.value=n.includes("k"),A.value=n.includes("q"),M.value="-"===t[3]?r("pages.newGame.noEnPassant"):t[3],S.value=i,L.value=a,!0)}function U(){if(_.value&&0===C.value&&0===x.value)ah({text:r("pages.newGame.timeSetToZero"),type:"error"});else{var e=j();if(F(e))i.setStartPosition(e),i.setUseClockStatus(_.value),i.setStartTimeMinutes(C.value),i.setStartTimeSeconds(x.value),i.setIncrement(E.value),i.setHostHasWhiteStatus(b.value),$p({startPosition:e,withWhiteSide:b.value,withClock:_.value,clockMinutes:C.value,clockSeconds:x.value,incrementSeconds:E.value});else ah({text:r("pages.newGame.refusedCopyingPosition"),type:"error"})}}function B(){$p()}function z(e){var t=e.target.value;b.value="yes"===t}function q(e){var t=e.target.value;w.value="yes"===t,M.value=r("pages.newGame.noEnPassant")}function G(e){var t=e.target.value;_.value="yes"===t}function W(){m.value.setCurrentEditingValue(g.value.getValue())}function H(){return K.apply(this,arguments)}function K(){return(K=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=j())){e.next=7;break}return e.next=4,navigator.clipboard.writeText(t);case 4:ah({text:r("pages.newGame.copiedPosition")}),e.next=8;break;case 7:ah({text:r("pages.newGame.refusedCopyingPosition"),type:"error"});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Q(){return Y.apply(this,arguments)}function Y(){return(Y=u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,navigator.clipboard.readText();case 2:0===(t=e.sent).length&&ah({text:r("pages.newGame.cannotCopyFromClipboard"),type:"error"}),F(t)||ah({text:r("pages.newGame.illegalPositionFromClipboard"),type:"error"}),V(t);case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){V(O.value)}function X(){V(gN)}function J(){V("8/8/8/8/8/8/8/8 w - - 0 1")}return _r((function(){var e=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight;y.value=.3*e,k.value=.05*e})),_r((function(){var e=F(v.initialPosition);O.value=e?v.initialPosition:gN,V(O.value),b.value=d.value,_.value=h.value,C.value=l.value,x.value=c.value,E.value=f.value})),_r((function(){V(s.value),m.value.setCurrentEditingValue(g.value.getValue())})),n({returnValue:function(){}}),function(e,t){var n=Un("EditableBoardVue");return Li(),Ni("div",hP,[ji("div",dP,[ji("header",null,[ji("h2",null,_e(Jt(r)("pages.newGame.title")),1)]),ji("section",vP,[ji("div",pP,[ji("img",{src:Jt(lO),onClick:t[0]||(t[0]=function(e){return p.value=!p.value})},null,8,mP),Vi(n,{id:"editableBoard",ref_key:"editableBoard",ref:m,size:y.value,reversed:p.value,"white-turn":w.value},null,8,["size","reversed","white-turn"]),Vi(fP,{ref_key:"editedValue",ref:g,onChange:W,centralSize:k.value},null,8,["centralSize"])]),ji("aside",null,[ji("div",gP,[ji("button",{onClick:H},_e(Jt(r)("pages.newGame.copyFen")),1),ji("button",{onClick:Q},_e(Jt(r)("pages.newGame.pasteFen")),1)]),ji("div",yP,[ji("button",{onClick:$},_e(Jt(r)("pages.newGame.resetFen")),1),ji("button",{onClick:X},_e(Jt(r)("pages.newGame.defaultFen")),1),ji("button",{onClick:J},_e(Jt(r)("pages.newGame.clearFen")),1)])]),ji("aside",null,[ji("div",kP,[zi(_e(Jt(r)("pages.newGame.whiteTurn"))+" ",1),ji("input",{type:"radio",name:"whiteTurn",id:"whiteTurnYes",value:"yes",checked:w.value,onChange:q},null,40,bP),ji("label",wP,_e(Jt(r)("pages.newGame.hasWhiteYes")),1),ji("input",{type:"radio",name:"whiteTurn",id:"whiteTurnNo",value:"no",checked:!w.value,onChange:q},null,40,_P),ji("label",CP,_e(Jt(r)("pages.newGame.hasWhiteNo")),1)]),ji("div",xP,[Jn(ji("input",{type:"checkbox",id:"whiteOO","onUpdate:modelValue":t[1]||(t[1]=function(e){return I.value=e})},null,512),[[ko,I.value]]),ji("label",EP,_e(Jt(r)("pages.newGame.whiteOO")),1)]),ji("div",SP,[Jn(ji("input",{type:"checkbox",id:"whiteOOO","onUpdate:modelValue":t[2]||(t[2]=function(e){return T.value=e})},null,512),[[ko,T.value]]),ji("label",LP,_e(Jt(r)("pages.newGame.whiteOOO")),1)]),ji("div",IP,[Jn(ji("input",{type:"checkbox",id:"blackOO","onUpdate:modelValue":t[3]||(t[3]=function(e){return A.value=e})},null,512),[[ko,A.value]]),ji("label",TP,_e(Jt(r)("pages.newGame.blackOO")),1)]),ji("div",AP,[Jn(ji("input",{type:"checkbox",id:"blackOOO","onUpdate:modelValue":t[4]||(t[4]=function(e){return N.value=e})},null,512),[[ko,N.value]]),ji("label",NP,_e(Jt(r)("pages.newGame.blackOOO")),1)]),ji("div",MP,[ji("label",OP,_e(Jt(r)("pages.newGame.enPassantLabel")),1),Jn(ji("select",{id:"enPassant","onUpdate:modelValue":t[5]||(t[5]=function(e){return M.value=e})},[(Li(!0),Ni(wi,null,Nr(R.value,(function(e){return Li(),Ni("option",{key:e,value:e},_e(e),9,PP)})),128))],512),[[wo,M.value]])]),ji("div",DP,[ji("label",RP,_e(Jt(r)("pages.newGame.nullityHalfMovesCount")),1),Jn(ji("input",{id:"nullityHalfMovesCount",type:"number","onUpdate:modelValue":t[6]||(t[6]=function(e){return S.value=e}),min:"0"},null,512),[[yo,S.value]])]),ji("div",FP,[ji("label",jP,_e(Jt(r)("pages.newGame.moveNumber")),1),Jn(ji("input",{id:"moveNumber",type:"number","onUpdate:modelValue":t[7]||(t[7]=function(e){return L.value=e}),min:"1"},null,512),[[yo,L.value]])])]),ji("aside",null,[ji("div",VP,[zi(_e(Jt(r)("pages.newGame.hasWhite"))+" ",1),ji("input",{type:"radio",name:"hasWhite",id:"hasWhiteYes",value:"yes",checked:b.value,onChange:z},null,40,UP),ji("label",BP,_e(Jt(r)("pages.newGame.hasWhiteYes")),1),ji("input",{type:"radio",name:"hasWhite",id:"hasWhiteNo",value:"no",checked:!b.value,onChange:z},null,40,zP),ji("label",qP,_e(Jt(r)("pages.newGame.hasWhiteNo")),1)]),ji("div",GP,[zi(_e(Jt(r)("pages.newGame.includeTime"))+" ",1),ji("input",{type:"radio",name:"includeTime",id:"includeTimeYes",value:"yes",checked:_.value,onChange:G},null,40,WP),ji("label",HP,_e(Jt(r)("pages.newGame.includeTimeYes")),1),ji("input",{type:"radio",name:"includeTime",id:"includeTimeNo",value:"no",checked:!_.value,onChange:G},null,40,KP),ji("label",QP,_e(Jt(r)("pages.newGame.includeTimeNo")),1)]),_.value?(Li(),Ni("div",YP,[Jn(ji("input",{type:"number",id:"timeMinutes",name:"timeMinutes",min:"0",max:"59","onUpdate:modelValue":t[8]||(t[8]=function(e){return C.value=e})},null,512),[[yo,C.value]]),ji("label",$P,_e(Jt(r)("pages.newGame.minutes")),1),Jn(ji("input",{type:"number",id:"timeSeconds",name:"timeSeconds",min:"0",max:"59","onUpdate:modelValue":t[9]||(t[9]=function(e){return x.value=e})},null,512),[[yo,x.value]]),ji("label",XP,_e(Jt(r)("pages.newGame.seconds")),1),Jn(ji("input",{type:"number",id:"incrementSeconds",name:"incrementSeconds",min:"0",max:"59","onUpdate:modelValue":t[10]||(t[10]=function(e){return E.value=e})},null,512),[[yo,E.value]]),ji("label",JP,_e(Jt(r)("pages.newGame.increment")),1)])):Gi("",!0)])]),ji("div",ZP,[ji("button",{class:"ok",onClick:U},_e(Jt(r)("pages.newGame.submit")),1),ji("button",{class:"cancel",onClick:B},_e(Jt(r)("pages.newGame.cancel")),1)])])])}}},tD=WA(eD,[["__scopeId","data-v-6ffec5a7"]]),nD={class:"dialog"},rD={class:"center"},iD={id:"button"},aD={__name:"GiveUpGameDialog",setup:function(e,t){var n=t.expose,r=gf().t;function i(){return a.apply(this,arguments)}function a(){return(a=u(o().mark((function e(){return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:$p(!0);case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function s(){$p(!1)}return n({returnValue:function(){}}),function(e,t){return Li(),Ni("div",nD,[ji("div",rD,[ji("header",null,[ji("h2",null,_e(Jt(r)("pages.giveUp.title")),1)]),ji("section",null,[ji("div",iD,[ji("button",{class:"ok",onClick:i},_e(Jt(r)("pages.giveUp.submit")),1),ji("button",{class:"cancel",onClick:s},_e(Jt(r)("pages.giveUp.cancel")),1)])])])])}}},oD=WA(aD,[["__scopeId","data-v-f77ae50c"]]),sD=jf("GameStore",{state:function(){return{startPosition:NA("GameStore$startPosition",JM),currentPosition:NA("GameStore$currentPosition",JM),whitePlayerIsHuman:NA("GameStore$whitePlayerIsHuman",!1),blackPlayerIsHuman:NA("GameStore$blackPlayerIsHuman",!1),weHaveWhite:NA("GameStore$weHaveWhite",!0),whiteNickname:NA("GameStore$whiteNickname",""),blackNickname:NA("GameStore$blackNickname",""),boardReversed:NA("GameStore$boardReversed",!1),historyNodes:NA("GameStore$historyNodes",[]),lastMoveArrow:NA("GameStore$lastMoveArrow",{start:{file:-100,rank:-100},end:{file:-100,rank:-100}}),withClock:NA("GameStore$withClock",!1),turnStartDate:NA("GameStore$turnStartDate",(new Date).toISOString()),remainingWhiteSecondsSinceLastMove:NA("GameStore$remainingWhiteSecondsSinceLastMove",0),remainingBlackSecondsSinceLastMove:NA("GameStore$remainingBlackSecondsSinceLastMove",0),remainingWhiteSeconds:NA("GameStore$remainingWhiteSeconds",0),remainingBlackSeconds:NA("GameStore$remainingBlackSeconds",0),increment:NA("GameStore$increment",0)}},actions:{setCurrentPosition:function(e){this.currentPosition=e},setWhitePlayerIsHuman:function(e){this.whitePlayerIsHuman=e},setBlackPlayerIsHuman:function(e){this.blackPlayerIsHuman=e},setWeHaveWhiteStatus:function(e){this.weHaveWhite=e},setWhiteNickname:function(e){this.whiteNickname=e},setBlackNickname:function(e){this.blackNickname=e},setBoardReversedStatus:function(e){this.boardReversed=e},setHistoryNodes:function(e){this.historyNodes=e.map((function(e){return e}))},addHistoryNode:function(e){this.historyNodes.push(e)},setLastMoveArrow:function(e){this.lastMoveArrow=e},setStartPosition:function(e){this.startPosition=e},setWithClock:function(e){this.withClock=e},setTurnStartDate:function(e){this.turnStartDate=e},setRemainingWhiteSecondsSinceLastMove:function(e){this.remainingWhiteSecondsSinceLastMove=e},setRemainingBlackSecondsSinceLastMove:function(e){this.remainingBlackSecondsSinceLastMove=e},setRemainingWhiteSeconds:function(e){this.remainingWhiteSeconds=e},setRemainingBlackSeconds:function(e){this.remainingBlackSeconds=e},setIncrement:function(e){this.increment=e}},persist:sessionStorage}),uD=function(e){return Mn("data-v-4c265e27"),e=e(),On(),e},lD={id:"pageRoot"},cD={id:"gameZone"},fD={id:"miscZone"},hD={key:0,class:"clock"},dD={class:"side white"},vD={class:"side black"},pD={id:"buttons"},mD=["src"],gD=["src"],yD=["src"],kD=["src"],bD={key:1,id:"nicknames"},wD=uD((function(){return ji("td",null,[ji("div",{class:"color white"})],-1)})),_D=["src"],CD=uD((function(){return ji("td",null,[ji("div",{class:"color black"})],-1)})),xD=["src"],ED={__name:"GamePage",setup:function(e){Ba((function(e){return{ed54321e:d.value}}));var t=gf().t,n=MA(),r=sD(),i=new BN,a=Qt(),s=Qt(100),l=Qt(),c=Qt(),f=Qt(!1),h=Qt(!1),d=da((function(){return s.value+"px"})),v=da((function(){return!0===n.roomOwner})),p=da((function(){return!0===n.gameStarted})),m=Vf(r),g=m.startPosition,y=m.currentPosition,k=m.whitePlayerIsHuman,b=m.blackPlayerIsHuman,w=m.whiteNickname,_=m.blackNickname,C=m.weHaveWhite,E=m.withClock,S=m.turnStartDate,L=m.remainingWhiteSecondsSinceLastMove,I=m.remainingBlackSecondsSinceLastMove,T=m.remainingWhiteSeconds,A=m.remainingBlackSeconds,N=m.increment,M=Qt(),O=Qt(),P=da((function(){return"w"===y.value.split(" ")[1]}));function D(e){e<0&&(e=0);var t=e%60,n=""+Math.floor(e/60);n.length<2&&(n="0"+n);var r=""+t;return r.length<2&&(r="0"+r),n+":"+r}var R=da((function(){return D(T.value)})),F=da((function(){return D(A.value)}));function j(){i=new BN(g.value);var e,t=c.value.getNodes(),n=WM(new Date,"yyyy.MM.dd"),r=x(t);try{for(r.s();!(e=r.n()).done;){var a=e.value;try{i.move(a.san)}catch(o){console.log("Failed to play ".concat(a.san," in pgn history"))}}}catch(s){r.e(s)}finally{r.f()}i.header("White",w.value,"Black",_.value,"Date",n)}function V(){return(V=u(o().mark((function e(){var i,a,s,u,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:if(E.value){e.next=4;break}return e.abrupt("return");case 4:if(i=n.roomId,!(T.value<=0)){e.next=24;break}if(!C.value){e.next=24;break}return M.value(),ah({text:t("pages.game.outcomes.userLostOnTime")}),a={gameStarted:!1,lostOnTimeoutSide:v.value?$M:XM},e.next=12,VA({roomId:i,newValues:a});case 12:if(s=e.sent,!s.hasOwnProperty("error")){e.next=17;break}return alert(t(s.error)),e.abrupt("return");case 17:case 36:return n.setGameStartedStatus(!1),l.value.stop(),r.setWhitePlayerIsHuman(!1),r.setBlackPlayerIsHuman(!1),j(),c.value.activateNavigationMode(),e.abrupt("return");case 24:if(!(A.value<=0)){e.next=43;break}if(C.value){e.next=43;break}return M.value(),ah({text:t("pages.game.outcomes.userLostOnTime")}),u={gameStarted:!1,lostOnTimeoutSide:v.value?$M:XM},e.next=31,VA({roomId:i,newValues:u});case 31:if(f=e.sent,!f.hasOwnProperty("error")){e.next=36;break}return alert(t(f.error)),e.abrupt("return");case 43:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function U(){if(p.value&&E.value){var e=eM((new Date).toISOString(),S.value);r.setRemainingWhiteSeconds(L.value-(P.value?e:0)),r.setRemainingBlackSeconds(I.value-(P.value?0:e)),function(){V.apply(this,arguments)}()}}_r(u(o().mark((function e(){var i,a,s,u,l,c,f,h,d;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.roomId,e.next=3,BA({roomId:i});case 3:if(a=e.sent,!a.hasOwnProperty("error")){e.next=8;break}return alert(t(a.error)),e.abrupt("return");case 8:s=a.matchingDocument,u=s.turnStartDate,l=s.remainingWhiteSecondsSinceLastMove,c=s.remainingBlackSecondsSinceLastMove,r.setTurnStartDate(u),r.setRemainingWhiteSecondsSinceLastMove(l),r.setRemainingBlackSecondsSinceLastMove(c),f=wA(U,30,{immediate:!0}),h=f.pause,d=f.resume,M.value=h,O.value=d;case 15:case"end":return e.stop()}}),e)}))));var B=Qt();function z(){var e=window.innerWidth<window.innerHeight?window.innerWidth:window.innerHeight,t=window.innerWidth<window.innerHeight||window.innerWidth<1e3?.4:.75;s.value="".concat(e*t)}function q(){return G.apply(this,arguments)}function G(){return G=u(o().mark((function e(){var i,a,s,u,f,d,p,m,g,y,k,b,w,_,C,x,E;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=n.roomId,e.next=3,BA({roomId:i});case 3:if(a=e.sent,!a.hasOwnProperty("error")){e.next=8;break}return alert(t(a.error)),e.abrupt("return");case 8:s=a.matchingDocument,u=s.startPosition,f=s.hostHasWhite,d=s.hostUser,p=s.guestUser,m=s.withClock,g=s.clockMinutes,y=s.clockSeconds,k=s.incrementSeconds,b=u.split(" "),w=parseInt(b[5]),_="w"===b[1],c.value.reset(w,_),r.setHistoryNodes(c.value.getNodes()),r.setStartPosition(u),r.setWithClock(m),C=60*g+y,r.setRemainingWhiteSecondsSinceLastMove(C),r.setRemainingBlackSecondsSinceLastMove(C),r.setRemainingWhiteSeconds(C),r.setRemainingBlackSeconds(C),r.setIncrement(k),O.value(),l.value.newGame(u),r.setCurrentPosition(u),x=[!0,"true"].includes(f),E=x&&v.value||!x&&!v.value,r.setWeHaveWhiteStatus(E),r.setWhitePlayerIsHuman(E),r.setBlackPlayerIsHuman(!E),r.setWhiteNickname(f?d:p),r.setBlackNickname(f?p:d),h.value=!0,n.setAtLeastAGameStartedStatus(!0),r.setLastMoveArrow({start:{file:-100,rank:-100},end:{file:-100,rank:-100}});case 35:case"end":return e.stop()}}),e)}))),G.apply(this,arguments)}function W(){return H.apply(this,arguments)}function H(){return H=u(o().mark((function e(){var i,a,s,u,l,c,h,d,v,p,m,g,y,k,b;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xp(tD,{});case 2:if(i=e.sent,a=i.startPosition,s=i.withWhiteSide,u=i.withClock,l=i.clockMinutes,c=i.clockSeconds,h=i.incrementSeconds,d=60*l+c,!i){e.next=33;break}return v=(new Date).toISOString(),p={gameStarted:!0,giveUpSide:"X",lostOnTimeoutSide:"X",startPosition:a,hostHasWhite:s,withClock:u,clockMinutes:l,clockSeconds:c,incrementSeconds:h,turnStartDate:v,remainingWhiteSecondsSinceLastMove:d,remainingBlackSecondsSinceLastMove:d},r.setTurnStartDate(v),m=n.roomId,e.next=12,VA({roomId:m,newValues:p});case 12:if(g=e.sent,!g.hasOwnProperty("error")){e.next=17;break}return alert(t(g.error)),e.abrupt("return");case 17:return y=["lastMoveSan","lastMoveFan","lastMoveStartFile","lastMoveStartRank","lastMoveEndFile","lastMoveEndRank"],e.next=20,qA({roomId:m,fieldsNames:y});case 20:if(g=e.sent,!g.hasOwnProperty("error")){e.next=25;break}return alert(t(g.error)),e.abrupt("return");case 25:n.setGameStartedStatus(!0),r.setStartPosition(a),r.setWithClock(u),k=n.roomOwner,b=s&&!k||!s&&k,r.setBoardReversedStatus(b),f.value=b,q();case 33:case"end":return e.stop()}}),e)}))),H.apply(this,arguments)}function K(){return Q.apply(this,arguments)}function Q(){return Q=u(o().mark((function e(){var i,a,s,u,f;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Xp(oD,{});case 2:if(i=e.sent,a=[!0,"true"].includes(n.roomOwner),!i){e.next=21;break}return M.value&&M.value(),s={gameStarted:!1,giveUpSide:a?QM:YM},u=n.roomId,e.next=10,VA({roomId:u,newValues:s});case 10:if(f=e.sent,!f.hasOwnProperty("error")){e.next=15;break}return alert(t(f.error)),e.abrupt("return");case 15:n.setGameStartedStatus(!1),l.value.stop(),r.setWhitePlayerIsHuman(!1),r.setBlackPlayerIsHuman(!1),j(),c.value.activateNavigationMode();case 21:case"end":return e.stop()}}),e)}))),Q.apply(this,arguments)}function Y(e){var i,a,o,s,u,h,d=e.data(),p=e.id,m=["true",!0].includes(d.gameStarted),g=n.roomId==p,k=!v.value;if(g)if(m){var b=n.gameStarted;if(k&&!b){var w=d.hostHasWhite&&!d.roomOwner||!d.hostHasWhite&&d.roomOwner;n.setGameStartedStatus(!0),r.setBoardReversedStatus(w),r.setTurnStartDate(d.turnStartDate),r.setRemainingWhiteSecondsSinceLastMove(d.remainingWhiteSecondsSinceLastMove),r.setRemainingBlackSecondsSinceLastMove(d.remainingBlackSecondsSinceLastMove),r.setRemainingWhiteSeconds(d.remainingWhiteSecondsSinceLastMove),r.setRemainingBlackSeconds(d.remainingBlackSecondsSinceLastMove),r.setIncrement(d.incrementSeconds),f.value=w,q()}if(!l.value.playManualMove((i={startFile:d.lastMoveStartFile,startRank:d.lastMoveStartRank,endFile:d.lastMoveEndFile,endRank:d.lastMoveEndRank,promotion:d.lastMovePromotion},a=String.fromCharCode("a".charCodeAt(0)+i.startFile),o=String.fromCharCode("1".charCodeAt(0)+i.startRank),s=String.fromCharCode("a".charCodeAt(0)+i.endFile),u=String.fromCharCode("1".charCodeAt(0)+i.endRank),(h=i.promotion)?"".concat(a).concat(o).concat(s).concat(u).concat(h):"".concat(a).concat(o).concat(s).concat(u))))return;r.setLastMoveArrow({start:{file:d.lastMoveStartFile,rank:d.lastMoveStartRank},end:{file:d.lastMoveEndFile,rank:d.lastMoveEndRank}});var _=l.value.getCurrentPosition();y.value=_}else{var C=d.giveUpSide,x=d.lostOnTimeoutSide,E=v.value?C===YM:C===QM,S=v.value?x===XM:x===$M;E?(n.setGameStartedStatus(!1),r.setWhitePlayerIsHuman(!1),r.setBlackPlayerIsHuman(!1),j(),c.value.activateNavigationMode(),ah({text:t("pages.game.outcomes.gaveUp")})):S&&(n.setGameStartedStatus(!1),r.setWhitePlayerIsHuman(!1),r.setBlackPlayerIsHuman(!1),j(),c.value.activateNavigationMode(),ah({text:t("pages.game.outcomes.opponentLostOnTime")}))}}function $(){f.value=!f.value}function X(e,t,n,r,i,a,o){return J.apply(this,arguments)}function J(){return J=u(o().mark((function e(i,a,s,u,l,f,h){var d,v,p,m,g,k;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d=(new Date).toISOString(),r.setRemainingWhiteSecondsSinceLastMove(T.value+(a?N.value:0)),r.setRemainingBlackSecondsSinceLastMove(A.value+(a?0:N.value)),r.setTurnStartDate(d),c.value.addNodeOrCompleteFirst({number:i,whiteTurn:a,san:s,fan:u,fen:l,fromFileIndex:f.start.file,fromRankIndex:f.start.rank,toFileIndex:f.end.file,toRankIndex:f.end.rank}),e.next=7,lN(10);case 7:return v={lastMoveSan:s,lastMoveFan:u,lastMoveStartFile:f.start.file,lastMoveStartRank:f.start.rank,lastMoveEndFile:f.end.file,lastMoveEndRank:f.end.rank,lastMovePromotion:h,turnStartDate:d,remainingWhiteSecondsSinceLastMove:a?T.value+N.value:L.value,remainingBlackSecondsSinceLastMove:a?I.value:A.value+N.value},p=n.roomId,e.next=11,VA({roomId:p,newValues:v});case 11:if(m=e.sent,!m.hasOwnProperty("error")){e.next=16;break}return alert(t(m.error)),e.abrupt("return");case 16:c.value.scrollToLastElement(),g=c.value.getNodesCount(),k=c.value.getLastNode,g>1&&k.fan?r.addHistoryNode(c.value.getLastNode()):r.setHistoryNodes(c.value.getNodes()),r.setLastMoveArrow(f),y.value=l;case 22:case"end":return e.stop()}}),e)}))),J.apply(this,arguments)}function Z(){return ee.apply(this,arguments)}function ee(){return ee=u(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:return M.value&&M.value(),e.next=5,lN(50);case 5:return r={gameStarted:!1},i=n.roomId,e.next=9,VA({roomId:i,newValues:r});case 9:a=e.sent,a.hasOwnProperty("error")&&console.error(a.error),j(),c.value.activateNavigationMode(),n.setGameStartedStatus(!1),s=t("pages.game.outcomes.checkmate"),ah({text:s});case 17:case"end":return e.stop()}}),e)}))),ee.apply(this,arguments)}function te(){return ne.apply(this,arguments)}function ne(){return ne=u(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:return M.value&&M.value(),e.next=5,lN(50);case 5:return r={gameStarted:!1},i=n.roomId,e.next=9,VA({roomId:i,newValues:r});case 9:a=e.sent,a.hasOwnProperty("error")&&console.error(a.error),j(),c.value.activateNavigationMode(),n.setGameStartedStatus(!1),s=t("pages.game.outcomes.stalemate"),ah({text:s});case 17:case"end":return e.stop()}}),e)}))),ne.apply(this,arguments)}function re(){return ie.apply(this,arguments)}function ie(){return ie=u(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:return M.value&&M.value(),e.next=5,lN(50);case 5:return r={gameStarted:!1},i=n.roomId,e.next=9,VA({roomId:i,newValues:r});case 9:a=e.sent,a.hasOwnProperty("error")&&console.error(a.error),j(),c.value.activateNavigationMode(),n.setGameStartedStatus(!1),s=t("pages.game.outcomes.perpetualDraw"),ah({text:s});case 17:case"end":return e.stop()}}),e)}))),ie.apply(this,arguments)}function ae(){return oe.apply(this,arguments)}function oe(){return oe=u(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:return M.value&&M.value(),e.next=5,lN(50);case 5:return r={gameStarted:!1},i=n.roomId,e.next=9,VA({roomId:i,newValues:r});case 9:a=e.sent,a.hasOwnProperty("error")&&console.error(a.error),j(),c.value.activateNavigationMode(),n.setGameStartedStatus(!1),s=t("pages.game.outcomes.missingMaterial"),ah({text:s});case 17:case"end":return e.stop()}}),e)}))),oe.apply(this,arguments)}function se(){return ue.apply(this,arguments)}function ue(){return ue=u(o().mark((function e(){var r,i,a,s;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(p.value){e.next=2;break}return e.abrupt("return");case 2:return M.value&&M.value(),e.next=5,lN(50);case 5:return r={gameStarted:!1},i=n.roomId,e.next=9,VA({roomId:i,newValues:r});case 9:a=e.sent,a.hasOwnProperty("error")&&console.error(a.error),j(),c.value.activateNavigationMode(),n.setGameStartedStatus(!1),s=t("pages.game.outcomes.fiftyMovesDraw"),ah({text:s});case 17:case"end":return e.stop()}}),e)}))),ue.apply(this,arguments)}function le(){return ce.apply(this,arguments)}function ce(){return(ce=u(o().mark((function e(){var n,r,a;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:confirm(t("pages.pgn.confirmationMessage"))&&(n=i.pgn({newline:"\n",maxWidth:80}),r=document.createElement("a"),a=new Blob([n],{type:"text/plain"}),r.href=URL.createObjectURL(a),r.download="game.pgn",r.click(),URL.revokeObjectURL(r.href));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function fe(){p.value||l.value.setPositionAndLastMove(g.value,{start:{file:-100,rank:-100},end:{file:-100,rank:-100}})&&c.value.setSelectedNode(-1)}function he(e){var t=e.nodeIndex,n=e.fen,r=e.fromFileIndex,i=e.fromRankIndex,a=e.toFileIndex,o=e.toRankIndex;p.value||l.value.setPositionAndLastMove(n,{start:{file:r,rank:i},end:{file:a,rank:o}})&&c.value.setSelectedNode(t)}function de(e){Y(e)}return _r(u(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.roomId)){e.next=5;break}return e.next=4,PA(t,de);case 4:a.value=e.sent;case 5:case"end":return e.stop()}}),e)})))),Er((function(){M.value&&M.value(),a.value&&a.value(),B.value&&B.value()})),_r((function(){window.addEventListener("resize",z),z()})),Er((function(){window.removeEventListener("resize",z)})),_r((function(){l.value.newGame(y.value),p.value||l.value.stop(),h.value=n.atLeastAGameStarted,f.value=r.boardReversed,c.value.setNodes(r.historyNodes),l.value.setLastMoveArrow(r.lastMoveArrow),p.value||(j(),c.value.activateNavigationMode())})),function(e,t){var n=Un("ChessboardVue");return Li(),Ni("div",lD,[ji("div",cD,[Vi(uO,{ref_key:"history",ref:c,onRequestStartPosition:fe,onRequestNodeSelected:he},null,512),Vi(n,{id:"board",ref_key:"board",ref:l,size:s.value,"white-player-human":Jt(k),"black-player-human":Jt(b),reversed:f.value,onMoveDone:X,onCheckmate:Z,onStalemate:te,onPerpetualDraw:re,onMissingMaterialDraw:ae,onFiftyMovesDraw:se},null,8,["size","white-player-human","black-player-human","reversed"])]),ji("div",fD,[Jt(E)?(Li(),Ni("div",hD,[ji("div",dD,_e(R.value),1),ji("div",vD,_e(F.value),1)])):Gi("",!0),ji("div",pD,[ji("button",{onClick:$},[ji("img",{src:Jt(lO)},null,8,mD)]),v.value&&!p.value?(Li(),Ni("button",{key:0,onClick:W},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='iso-8859-1'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20version='1.1'%20id='Capa_1'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20viewBox='0%200%20512%20512'%20xml:space='preserve'%3e%3cg%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%23FFCE8B;'%20d='M52.251,26.527v458.946c0,5.687-4.615,10.302-10.302,10.302H29.35%20c-5.697,0-10.302-4.615-10.302-10.302V26.527c0-5.687,4.605-10.302,10.302-10.302h12.599%20C47.636,16.225,52.251,20.841,52.251,26.527z'/%3e%3crect%20x='19.048'%20y='64.644'%20style='fill:%23FFB54E;'%20width='33.203'%20height='133.336'/%3e%3c/g%3e%3cg%3e%3cpath%20style='fill:%23FFCE8B;'%20d='M492.952,26.527v458.946c0,5.687-4.605,10.302-10.302,10.302h-12.599%20c-5.687,0-10.302-4.615-10.302-10.302V26.527c0-5.687,4.615-10.302,10.302-10.302h12.599%20C488.347,16.225,492.952,20.841,492.952,26.527z'/%3e%3cg%3e%3cg%3e%3crect%20x='459.749'%20y='64.644'%20style='fill:%23FFB54E;'%20width='33.203'%20height='133.336'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cg%3e%3cg%3e%3crect%20x='150.846'%20y='79.064'%20style='fill:%23FFB54E;'%20width='210.308'%20height='104.491'/%3e%3crect%20x='335.163'%20y='79.064'%20style='fill:%23FF9A1B;'%20width='25.991'%20height='104.491'/%3e%3crect%20x='150.846'%20y='79.064'%20style='fill:%23FF9A1B;'%20width='25.991'%20height='104.491'/%3e%3cg%3e%3cg%3e%3cpath%20style='fill:%23FFF5F5;'%20d='M58.427,183.556H10.302C4.612,183.556,0,178.943,0,173.254v-48.125h58.427V183.556z'/%3e%3crect%20x='46.065'%20y='79.064'%20style='fill:%23FFF5F5;'%20width='64.608'%20height='58.427'/%3e%3cpath%20style='fill:%23756F6F;'%20d='M52.246,131.31H0V89.366c0-5.69,4.612-10.302,10.302-10.302h41.944V131.31z'/%3e%3crect%20x='98.31'%20y='125.129'%20style='fill:%23FFF5F5;'%20width='58.427'%20height='58.427'/%3e%3crect%20x='104.491'%20y='79.064'%20style='fill:%23756F6F;'%20width='52.246'%20height='52.246'/%3e%3crect%20x='52.246'%20y='131.31'%20style='fill:%23756F6F;'%20width='52.246'%20height='52.246'/%3e%3c/g%3e%3cg%3e%3crect%20x='401.327'%20y='79.064'%20style='fill:%23FFF5F5;'%20width='64.608'%20height='58.427'/%3e%3crect%20x='355.263'%20y='125.129'%20style='fill:%23FFF5F5;'%20width='58.427'%20height='58.427'/%3e%3crect%20x='355.263'%20y='79.064'%20style='fill:%23756F6F;'%20width='52.246'%20height='52.246'/%3e%3cpath%20style='fill:%23FFF5F5;'%20d='M501.698,183.556h-48.125v-58.427H512v48.125C512,178.943,507.388,183.556,501.698,183.556z'/%3e%3cpath%20style='fill:%23756F6F;'%20d='M512,131.31h-52.246V79.064h41.944c5.69,0,10.302,4.612,10.302,10.302V131.31z'/%3e%3crect%20x='407.509'%20y='131.31'%20style='fill:%23756F6F;'%20width='52.246'%20height='52.246'/%3e%3c/g%3e%3c/g%3e%3c/g%3e%3cpath%20style='fill:%23FFF5F5;'%20d='M267.261,144.371h-2.679v-33.849c0-2.678-1.387-5.164-3.665-6.572%20c-2.277-1.407-5.121-1.536-7.517-0.338l-12.115,6.057c-3.817,1.908-5.364,6.549-3.455,10.366%20c1.908,3.816,6.548,5.365,10.366,3.455l0.933-0.466v21.348h-2.679c-4.267,0-7.726,3.459-7.726,7.726%20c0,4.267,3.459,7.726,7.726,7.726h20.811c4.268,0,7.726-3.459,7.726-7.726C274.987,147.83,271.528,144.371,267.261,144.371z'/%3e%3c/g%3e%3c/g%3e%3c/svg%3e")},null,8,gD)])):Gi("",!0),p.value?(Li(),Ni("button",{key:1,onClick:K},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20version='1.1'%20id='Uploaded%20to%20svgrepo.com'%20xmlns='http://www.w3.org/2000/svg'%20xmlns:xlink='http://www.w3.org/1999/xlink'%20width='800px'%20height='800px'%20viewBox='0%200%2032%2032'%20xml:space='preserve'%3e%3cstyle%20type='text/css'%3e%20.avocado_zeventien{fill:%23CC4121;}%20.avocado_een{fill:%23231F20;}%20.avocado_zes{fill:%23FFFAEE;}%20.st0{fill:%23A3AEB5;}%20.st1{fill:%23AF9480;}%20.st2{fill:%23DBD2C1;}%20.st3{fill:%23788287;}%20.st4{fill:%23EAD13F;}%20.st5{fill:%23C3CC6A;}%20.st6{fill:%23D1712A;}%20.st7{fill:%23E0A838;}%20.st8{fill:%23716558;}%20.st9{fill:%236F9B45;}%20.st10{fill:%230E608E;}%20.st11{fill:%23E598A3;}%20.st12{fill:%23FFFAEE;}%20.st13{fill:%233D3935;}%20.st14{fill:%23248EBC;}%20.st15{fill:%23BF63C1;}%20%3c/style%3e%3cg%3e%3cpolygon%20class='avocado_zeventien'%20points='10.408,29.5%202.5,21.592%202.5,10.408%2010.408,2.5%2021.592,2.5%2029.5,10.408%2029.5,21.592%2021.592,29.5%20'/%3e%3cpath%20class='avocado_zes'%20d='M21.414,12.707L18.121,16l3.293,3.293l-2.121,2.121L16,18.121l-3.293,3.293l-2.121-2.121%20L13.879,16l-3.293-3.293l2.121-2.121L16,13.879l3.293-3.293L21.414,12.707z%20M21.592,2.5H10.408L2.5,10.408v11.184l7.908,7.908%20h11.184l7.908-7.908V10.408L21.592,2.5z%20M28,20.97L20.97,28H11.03L4,20.97v-9.941L11.03,4h9.941L28,11.029V20.97z'/%3e%3cpath%20class='avocado_een'%20d='M19.293,9.879L16,13.172l-3.293-3.293l-2.828,2.828L13.172,16l-3.293,3.293l2.828,2.828%20L16,18.828l3.293,3.293l2.828-2.828L18.828,16l3.293-3.293L19.293,9.879z%20M17.414,16l3.293,3.293l-1.414,1.414L16,17.414%20l-3.293,3.293l-1.414-1.414L14.586,16l-3.293-3.293l1.414-1.414L16,14.586l3.293-3.293l1.414,1.414L17.414,16z%20M21.799,2H10.201%20L2,10.201v11.598L10.201,30h11.598L30,21.799V10.201L21.799,2z%20M29,21.385L21.385,29h-10.77L3,21.385v-10.77L10.615,3h10.77%20L29,10.615V21.385z'/%3e%3c/g%3e%3c/svg%3e")},null,8,yD)])):Gi("",!0),h.value&&!p.value?(Li(),Ni("button",{key:2,onClick:le},[ji("img",{src:Jt("data:image/svg+xml,%3c?xml%20version='1.0'%20encoding='utf-8'?%3e%3c!--%20Uploaded%20to:%20SVG%20Repo,%20www.svgrepo.com,%20Generator:%20SVG%20Repo%20Mixer%20Tools%20--%3e%3csvg%20width='800px'%20height='800px'%20viewBox='-0.01%20-0.008%20100.016%20100.016'%20xmlns='http://www.w3.org/2000/svg'%3e%3cpath%20fill='%2323475F'%20d='M88.555-.008H83v.016a2%202%200%200%201-2%202H19a2%202%200%200%201-2-2v-.016H4a4%204%200%200%200-4%204v92.016a4%204%200%200%200%204%204h92a4%204%200%200%200%204-4V11.517c.049-.089-11.436-11.454-11.445-11.525z'/%3e%3cpath%20fill='%231C3C50'%20d='M81.04%2053.008H18.96a2%202%200%200%200-2%202v45h66.08v-45c0-1.106-.895-2-2-2zm-61.957-10h61.834a2%202%200%200%200%202-2V.547A1.993%201.993%200%200%201%2081%202.007H19c-.916%200-1.681-.62-1.917-1.46v40.46a2%202%200%200%200%202%202.001z'/%3e%3cpath%20fill='%23EBF0F1'%20d='M22%2055.977h56a2%202%200%200%201%202%202v37.031a2%202%200%200%201-2%202H22c-1.104%200-2-.396-2-1.5V57.977a2%202%200%200%201%202-2z'/%3e%3cpath%20fill='%23BCC4C8'%20d='M25%2077.008h50v1H25v-1zm0%2010h50v1H25v-1z'/%3e%3cpath%20fill='%231C3C50'%20d='M7%2084.008h3a2%202%200%200%201%202%202v3a2%202%200%200%201-2%202H7a2%202%200%200%201-2-2v-3a2%202%200%200%201%202-2zm83%200h3a2%202%200%200%201%202%202v3a2%202%200%200%201-2%202h-3a2%202%200%200%201-2-2v-3a2%202%200%200%201%202-2z'/%3e%3cpath%20fill='%23BCC4C8'%20d='M37%201.981v36.026a2%202%200%200%200%202%202h39a2%202%200%200%200%202-2V1.981c0%20.007-42.982.007-43%200zm37%2029.027a2%202%200%200%201-2%202h-6a2%202%200%200%201-2-2V10.981a2%202%200%200%201%202-2h6a2%202%200%200%201%202%202v20.027z'/%3e%3cpath%20fill='%23FF9D00'%20d='M78%2055.977H22a2%202%200%200%200-2%202v10.031h60V57.977a2%202%200%200%200-2-2z'/%3e%3c/svg%3e")},null,8,kD)])):Gi("",!0)]),h.value?(Li(),Ni("table",bD,[ji("tr",{class:pe(["nickname",[P.value?"highlight":""]])},[wD,ji("td",null,[ji("p",null,_e(Jt(w)),1)]),ji("td",null,[!0===Jt(C)?(Li(),Ni("img",{key:0,src:Jt(cO)},null,8,_D)):Gi("",!0)])],2),ji("tr",{class:pe(["nickname",[P.value?"":"highlight"]])},[CD,ji("td",null,[ji("p",null,_e(Jt(_)),1)]),ji("td",null,[!1===Jt(C)?(Li(),Ni("img",{key:0,src:Jt(cO)},null,8,xD)):Gi("",!0)])],2)])):Gi("",!0)])])}}},SD=[{path:"/",component:$A},{path:"/create-room",component:tN},{path:"/join-room",component:uN},{path:"/game",component:WA(ED,[["__scopeId","data-v-4c265e27"]])}],LD=function(e){var t=Ps(e.routes,e),n=e.parseQuery||Bs,r=e.stringifyQuery||zs,i=e.history,a=Ys(),o=Ys(),s=Ys(),u=Yt(ws),l=ws;Lo&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");var c,f=To.bind(null,(function(e){return""+e})),h=To.bind(null,Qo),d=To.bind(null,Yo);function v(e,a){if(a=Io({},a||u.value),"string"==typeof e){var o=ns(n,e,a.path),s=t.resolve({path:o.path},a),l=i.createHref(o.fullPath);return Io(o,s,{params:d(s.params),hash:Yo(o.hash),redirectedFrom:void 0,href:l})}var c;if(null!=e.path)c=Io({},e,{path:ns(n,e.path,a.path).path});else{var v=Io({},e.params);for(var p in v)null==v[p]&&delete v[p];c=Io({},e,{params:h(v)}),a.params=h(a.params)}var m=t.resolve(c,a),g=e.hash||"";m.params=f(d(m.params));var y,k,b,w,_=(y=r,k=Io({},e,{hash:(w=g,Ho(w).replace(zo,"{").replace(Go,"}").replace(Uo,"^")),path:m.path}),b=k.query?y(k.query):"",k.path+(b&&"?")+b+(k.hash||"")),C=i.createHref(_);return Io({fullPath:_,hash:g,query:r===zs?qs(e.query):e.query||{}},m,{redirectedFrom:void 0,href:C})}function p(e){return"string"==typeof e?ns(n,e,u.value.path):Io({},e)}function m(e,t){if(l!==e)return Cs(8,{from:t,to:e})}function g(e){return k(e)}function y(e){var t=e.matched[e.matched.length-1];if(t&&t.redirect){var n=t.redirect,r="function"==typeof n?n(e):n;return"string"==typeof r&&((r=r.includes("?")||r.includes("#")?r=p(r):{path:r}).params={}),Io({query:e.query,hash:e.hash,params:null!=r.path?{}:e.params},r)}}function k(e,t){var n=l=v(e),i=u.value,a=e.state,o=e.force,s=!0===e.replace,c=y(n);if(c)return k(Io(p(c),{state:"object"===C(c)?Io({},a,c.state):a,force:o,replace:s}),t||n);var f,h=n;return h.redirectedFrom=t,!o&&function(e,t,n){var r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&is(t.matched[r],n.matched[i])&&as(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}(r,i,n)&&(f=Cs(16,{to:h,from:i}),P(i,i,!0,!1)),(f?Promise.resolve(f):E(h,i)).catch((function(e){return xs(e)?xs(e,2)?e:O(e):M(e,h,i)})).then((function(e){if(e){if(xs(e,2))return k(Io({replace:s},p(e.to),{state:"object"===C(e.to)?Io({},a,e.to.state):a,force:o}),t||h)}else e=L(h,i,!0,s,a);return S(h,i,e),e}))}function b(e,t){var n=m(e,t);return n?Promise.reject(n):Promise.resolve()}function _(e){var t=F.values().next().value;return t&&"function"==typeof t.runWithContext?t.runWithContext(e):e()}function E(e,t){var n,r=function(e,t){for(var n=[],r=[],i=[],a=Math.max(t.matched.length,e.matched.length),o=function(){var a=t.matched[s];a&&(e.matched.find((function(e){return is(e,a)}))?r.push(a):n.push(a));var o=e.matched[s];o&&(t.matched.find((function(e){return is(e,o)}))||i.push(o))},s=0;s<a;s++)o();return[n,r,i]}(e,t),i=w(r,3),s=i[0],u=i[1],l=i[2];n=Xs(s.reverse(),"beforeRouteLeave",e,t);var c,f=x(s);try{for(f.s();!(c=f.n()).done;){c.value.leaveGuards.forEach((function(r){n.push($s(r,e,t))}))}}catch(d){f.e(d)}finally{f.f()}var h=b.bind(null,e,t);return n.push(h),V(n).then((function(){n=[];var r,i=x(a.list());try{for(i.s();!(r=i.n()).done;){var o=r.value;n.push($s(o,e,t))}}catch(d){i.e(d)}finally{i.f()}return n.push(h),V(n)})).then((function(){n=Xs(u,"beforeRouteUpdate",e,t);var r,i=x(u);try{for(i.s();!(r=i.n()).done;){r.value.updateGuards.forEach((function(r){n.push($s(r,e,t))}))}}catch(d){i.e(d)}finally{i.f()}return n.push(h),V(n)})).then((function(){n=[];var r,i=x(l);try{for(i.s();!(r=i.n()).done;){var a=r.value;if(a.beforeEnter)if(No(a.beforeEnter)){var o,s=x(a.beforeEnter);try{for(s.s();!(o=s.n()).done;){var u=o.value;n.push($s(u,e,t))}}catch(d){s.e(d)}finally{s.f()}}else n.push($s(a.beforeEnter,e,t))}}catch(d){i.e(d)}finally{i.f()}return n.push(h),V(n)})).then((function(){return e.matched.forEach((function(e){return e.enterCallbacks={}})),(n=Xs(l,"beforeRouteEnter",e,t,_)).push(h),V(n)})).then((function(){n=[];var r,i=x(o.list());try{for(i.s();!(r=i.n()).done;){var a=r.value;n.push($s(a,e,t))}}catch(d){i.e(d)}finally{i.f()}return n.push(h),V(n)})).catch((function(e){return xs(e,8)?e:Promise.reject(e)}))}function S(e,t,n){s.list().forEach((function(r){return _((function(){return r(e,t,n)}))}))}function L(e,t,n,r,a){var o=m(e,t);if(o)return o;var s=t===ws,l=Lo?history.state:{};n&&(r||s?i.replace(e.fullPath,Io({scroll:s&&l&&l.scroll},a)):i.push(e.fullPath,a)),u.value=e,P(e,t,n,s),O()}function I(){c||(c=i.listen((function(e,t,n){if(j.listening){var r=v(e),a=y(r);if(a)k(Io(a,{replace:!0}),r).catch(Ao);else{l=r;var o,s,c=u.value;Lo&&(o=hs(c.fullPath,n.delta),s=cs(),ds.set(o,s)),E(r,c).catch((function(e){return xs(e,12)?e:xs(e,2)?(k(e.to,r).then((function(e){xs(e,20)&&!n.delta&&n.type===$o.pop&&i.go(-1,!1)})).catch(Ao),Promise.reject()):(n.delta&&i.go(-n.delta,!1),M(e,r,c))})).then((function(e){(e=e||L(r,c,!1))&&(n.delta&&!xs(e,8)?i.go(-n.delta,!1):n.type===$o.pop&&xs(e,20)&&i.go(-1,!1)),S(r,c,e)})).catch(Ao)}}})))}var T,A=Ys(),N=Ys();function M(e,t,n){O(e);var r=N.list();return r.length?r.forEach((function(r){return r(e,t,n)})):console.error(e),Promise.reject(e)}function O(e){return T||(T=!e,I(),A.list().forEach((function(t){var n=w(t,2),r=n[0],i=n[1];return e?i(e):r()})),A.reset()),e}function P(t,n,r,i){var a=e.scrollBehavior;if(!Lo||!a)return Promise.resolve();var o,s,u=!r&&(o=hs(t.fullPath,0),s=ds.get(o),ds.delete(o),s)||(i||!r)&&history.state&&history.state.scroll||null;return yn().then((function(){return a(t,n,u)})).then((function(e){return e&&fs(e)})).catch((function(e){return M(e,t,n)}))}var D,R=function(e){return i.go(e)},F=new Set,j={currentRoute:u,listening:!0,addRoute:function(e,n){var r,i;return ys(e)?(r=t.getRecordMatcher(e),i=n):i=e,t.addRoute(i,r)},removeRoute:function(e){var n=t.getRecordMatcher(e);n&&t.removeRoute(n)},hasRoute:function(e){return!!t.getRecordMatcher(e)},getRoutes:function(){return t.getRoutes().map((function(e){return e.record}))},resolve:v,options:e,push:g,replace:function(e){return g(Io(p(e),{replace:!0}))},go:R,back:function(){return R(-1)},forward:function(){return R(1)},beforeEach:a.add,beforeResolve:o.add,afterEach:s.add,onError:N.add,isReady:function(){return T&&u.value!==ws?Promise.resolve():new Promise((function(e,t){A.add([e,t])}))},install:function(e){e.component("RouterLink",Zs),e.component("RouterView",iu),e.config.globalProperties.$router=this,Object.defineProperty(e.config.globalProperties,"$route",{enumerable:!0,get:function(){return Jt(u)}}),Lo&&!D&&u.value===ws&&(D=!0,g(i.location).catch((function(e){})));var t={},n=function(e){Object.defineProperty(t,e,{get:function(){return u.value[e]},enumerable:!0})};for(var r in ws)n(r);e.provide(Hs,this),e.provide(Ks,Ot(t)),e.provide(Qs,u);var a=e.unmount;F.add(e),e.unmount=function(){F.delete(e),F.size<1&&(l=ws,c&&c(),c=null,u.value=ws,D=!1,T=!1),a()}}};function V(e){return e.reduce((function(e,t){return e.then((function(){return _(t)}))}),Promise.resolve())}return j}({history:((KM=location.host?KM||location.pathname+location.search:"").includes("#")||(KM+="#"),gs(KM)),routes:SD}),ID=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=__VUE_I18N_LEGACY_API__&&Cu(e.legacy)?e.legacy:__VUE_I18N_LEGACY_API__,n=!Cu(e.globalInjection)||e.globalInjection,r=!__VUE_I18N_LEGACY_API__||!t||!!e.allowComposition,i=new Map,a=w(function(e,t,n){var r=Se(),i=__VUE_I18N_LEGACY_API__&&t?r.run((function(){return ef(e)})):r.run((function(){return Zc(e)}));if(null==i)throw Dc(Pc.UNEXPECTED_ERROR);return[r,i]}(e,t),2),s=a[0],l=a[1],c=uu(""),f={get mode(){return __VUE_I18N_LEGACY_API__&&t?"legacy":"composition"},get allowComposition(){return r},install:function(e){var r=arguments;return u(o().mark((function i(){var a,s,u,h,d,v;return o().wrap((function(i){for(;;)switch(i.prev=i.next){case 0:for(e.__VUE_I18N_SYMBOL__=c,e.provide(e.__VUE_I18N_SYMBOL__,f),a=r.length,s=new Array(a>1?a-1:0),u=1;u<a;u++)s[u-1]=r[u];Iu(s[0])&&(h=s[0],f.__composerExtend=h.__composerExtend,f.__vueI18nExtend=h.__vueI18nExtend),d=null,!t&&n&&(d=wf(e,f.global)),__VUE_I18N_FULL_INSTALL__&&df.apply(void 0,[e,f].concat(s)),__VUE_I18N_LEGACY_API__&&t&&e.mixin(vf(l,l.__composer,f)),v=e.unmount,e.unmount=function(){d&&d(),f.dispose(),v()};case 10:case"end":return i.stop()}}),i)})))()},get global(){return l},dispose:function(){s.stop()},__instances:i,__getInstance:function(e){return i.get(e)||null},__setInstance:function(e,t){i.set(e,t)},__deleteInstance:function(e){i.delete(e)}};return f}({fallbackLocale:"en",legacy:!1,locale:(navigator.languages&&navigator.languages.length?navigator.languages[0]:navigator.userLanguage||navigator.language||navigator.browserLanguage||"en").substring(0,2),messages:tm}),TD=function(){var e=Se(!0),t=e.run((function(){return Qt({})})),n=[],r=[],i=Bt({install:function(e){Sf(i),i._a=e,e.provide(Lf,i),e.config.globalProperties.$pinia=i,r.forEach((function(e){return n.push(e)})),r=[]},use:function(e){return this._a?n.push(e):r.push(e),this},_p:n,_a:null,_e:e,_s:new Map,state:t});return i}();(function(){var e,t=(e=Eo||(Eo=mi(So))).createApp.apply(e,arguments),n=t.mount;return t.mount=function(e){var r=function(e){if(B(e)){return document.querySelector(e)}return e}(e);if(r){var i=t._component;U(i)||i.render||i.template||(i.template=r.innerHTML),r.innerHTML="";var a=n(r,!1,function(e){if(e instanceof SVGElement)return"svg";if("function"==typeof MathMLElement&&e instanceof MathMLElement)return"mathml"}(r));return r instanceof Element&&(r.removeAttribute("v-cloak"),r.setAttribute("data-v-app","")),a}},t})(em).use(Nv).use(Qp).use(TD).use(LD).use(ID).use(oh).mount("#app")}}}))}();
